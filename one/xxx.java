
public class xxx {

	
	 lbs1.setVisible(false);
	 lbs1.setIcon(gs1);
	 lbs1.setVisible(true);
	 
	 
	 Random r1 = new Random();
	 
	 tn8 = r1.nextInt(50);
	 tn9= r1.nextInt(50);
	 tn10 = r1.nextInt(50);
	
	 l31.setVisible(false);
	 l31.setText(Integer.toString(tn8));
	 l31.setVisible(true);
	 
	 l32.setVisible(false);
	 l32.setText(Integer.toString(tn9));
	 l32.setVisible(true);
	 
	 l33.setVisible(false);
	 l33.setText(Integer.toString(tn10));
	 l33.setVisible(true);
	 
	 Thread.sleep(1000);
	 
	
	 
	 if(tn8<tn9 && tn8<tn10)
	 {
		 
		 	li21.setVisible(false);
			li21.setIcon(g1);
			li21.setVisible(true);
			Thread.sleep(1000);
			
		
		 
		 Statement stmtn1 = con.createStatement();
		 String sqln1 = "select * from Nodesinfo where Nname='N8' and Keys='"+mac+"' and senderip='"+sip+"' ";
		 ResultSet rsn1 = stmtn1.executeQuery(sqln1);
		 if(rsn1.next()==true)
		 {
			 String bw1=rsn1.getString(4);
			
			 int bw11=Integer.parseInt(bw1);
			 
			 if(len<bw11)
			 {
				 lbn8.setVisible(false);
					lbn8.setIcon(gn8);
					lbn8.setVisible(true);
				 
				 Thread.sleep(1000);
				 
				 tn11=r1.nextInt(50);
				 tn9=r1.nextInt(50);
				 
				 l36.setVisible(false);
				 l36.setText(Integer.toString(tn11));
				 l36.setVisible(true);
				 
				l34.setVisible(false);
				 l34.setText(Integer.toString(tn9));
				 l34.setVisible(true);
				 
				 Thread.sleep(1000);
				 
				 
				 if(tn11<tn9)
				 {
					 
					 li26.setVisible(false);
					 li26.setIcon(g4);
					 li26.setVisible(true);
					 
					 Thread.sleep(1000);
					 
					 Statement stmtn4 = con.createStatement();
					 String sqln4 = "select * from Nodesinfo where Nname='N11' and Keys='"+mac+"' and senderip='"+sip+"' ";
					 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
					 
					 if(rsn4.next()==true)
					 {
						 String bw2=rsn4.getString(4);
						
						 int bw12=Integer.parseInt(bw2);
						 
						 if(len<bw12)
						 {
							 
							 lbn11.setVisible(false);
								lbn11.setIcon(gn11);
								lbn11.setVisible(true);
							 
							 Thread.sleep(1000);
							
							 
							 tn14=r1.nextInt(50);
							 tn12=r1.nextInt(50);
							 
							 l311.setVisible(false);
							 l311.setText(Integer.toString(tn14));
							 l311.setVisible(true);
							 
							 l39.setVisible(false);
							 l39.setText(Integer.toString(tn12));
							 l39.setVisible(true);
							 
							 Thread.sleep(1000);
							 
							 if(tn14<tn12)
							 {
								 li211.setVisible(false);
								 li211.setIcon(g5);
								 li211.setVisible(true);
								 
								 Thread.sleep(1000);
								 funcn7(s,len,mac,sip,dname,dip);
							 }
							 else if(tn12<tn14)
							 {
								 
								 li29.setVisible(false);
								 li29.setIcon(g7);
								 li29.setVisible(true);
								 
								 Thread.sleep(1000);
								 
								 Statement stmtn5 = con.createStatement();
								 String sqln5 = "select * from Nodesinfo where Nname='N12' and Keys='"+mac+"' and senderip='"+sip+"'";
								 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
								 
								 if(rsn5.next()==true)
								 {
									 String bw3=rsn5.getString(4);
									
									 int bw13=Integer.parseInt(bw3);
									 
									 if(len<bw13)
									 {
										 
										 lbn12.setVisible(false);
											lbn12.setIcon(gn12);
											lbn12.setVisible(true);
										 
										 Thread.sleep(1000);
										
										 tn14= r1.nextInt(50);
										 tn13=r1.nextInt(50);
										 
										 l312.setVisible(false);
										 l312.setText(Integer.toString(tn14));
										 l312.setVisible(true);
										 
										 l310.setVisible(false);
										 l310.setText(Integer.toString(tn13));
										 l310.setVisible(true);
										 
										 Thread.sleep(1000);
										 
										 
										 
										 if(tn14<tn13)
										 {
											 
											 li212.setVisible(false);
											 li212.setIcon(g2);
											 li212.setVisible(true);
											 
											 funcn7(s,len,mac,sip,dname,dip);
										 }
										 else if(tn13<tn14)
										 {
											 
											 li210.setVisible(false);
											 li210.setIcon(g7);
											 li210.setVisible(true);
											 
											 Thread.sleep(1000);
											 
											 
											 Statement stmtn6 = con.createStatement();
											 String sqln6 = "select * from Nodesinfo where Nname='N13' and Keys='"+mac+"' and senderip='"+sip+"'";
											 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
											 
											 if(rsn6.next()==true)
											 {
												 String bw4=rsn6.getString(4);
												 
												 int bw14=Integer.parseInt(bw4);
												 
												 if(len<bw14)
												 {
													 lbn13.setVisible(false);
														lbn13.setIcon(gn13);
														lbn13.setVisible(true);
														
														 Thread.sleep(1000);
														 li213.setVisible(false);
														 li213.setIcon(g6);
														 li213.setVisible(true);
													 funcn7(s,len,mac,sip,dname,dip);
												 }
												 else 
												 {
													 //evasdropper in node13
													 
													 lbn13.setVisible(false);
														lbn13.setIcon(rn6);
														lbn13.setVisible(true);
													 
													 Thread.sleep(1000);
													 Statement stu1 = con.createStatement();
													 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N13'";
													 stu1.executeUpdate(sqlu1);
													 
													 Socket sc1=new Socket("localhost",2014);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N13");
													 dout.writeUTF(bw4);
													
													 DataInputStream din1=new DataInputStream(sc1.getInputStream());
													 String msg=din1.readUTF();
													 if(msg.equalsIgnoreCase("success"))
													 {
														 JOptionPane.showMessageDialog(null,"Traffic Occurs in N13");
													 }
													 
													 li210.setVisible(false);
													 li210.setIcon(g7);
													 li210.setVisible(true);
													 Thread.sleep(1000);
													 lbn12.setVisible(false);
													 lbn12.setIcon(gn12);
													 lbn12.setVisible(true);
													 Thread.sleep(1000);
													 li212.setVisible(false);
													 li212.setIcon(g2);
													 li212.setVisible(true);
													 
													 funcn7(s,len,mac,sip,dname,dip);
												 }
												 
												 
											 }else  if(rsn6.next()==false)
											 {
												 lbn13.setVisible(false);
													lbn13.setIcon(rn6);
													lbn13.setVisible(true);
													Thread.sleep(1000);
													 Statement stu1 = con.createStatement();
													 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N13'";
													 stu1.executeUpdate(sqlu1);
												 Socket sc1=new Socket("localhost",2015);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N13");
												 String cip6=rsn6.getString(2);
												 dout.writeUTF(cip6);
												 
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Malicious Attacker in N13");
												 }
												 
												 li210.setVisible(false);
												 li210.setIcon(g7);
												 li210.setVisible(true);
												 Thread.sleep(1000);
												 lbn12.setVisible(false);
												 lbn12.setIcon(gn12);
												 lbn12.setVisible(true);
												 Thread.sleep(1000);
												 li212.setVisible(false);
												 li212.setIcon(g2);
												 li212.setVisible(true);
												 
												 funcn7(s,len,mac,sip,dname,dip);
											 }
										 
										 }
										 
										 
										 
									 }
									 else 
									 {
										 //evasdropper in node12
										 
										 lbn12.setVisible(false);
											lbn12.setIcon(rn5);
											lbn12.setVisible(true);
										 
										 Thread.sleep(1000);
										 Statement stu1 = con.createStatement();
										 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N12'";
										 stu1.executeQuery(sqlu1);
										 
										 Socket sc1=new Socket("localhost",2014);
										 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
										 dout.writeUTF("N12");
										 dout.writeUTF(bw3);
										
										 DataInputStream din1=new DataInputStream(sc1.getInputStream());
										 String msg=din1.readUTF();
										 if(msg.equalsIgnoreCase("success"))
										 {
											 JOptionPane.showMessageDialog(null,"Traffic Occurs in N12");
										 }
										 
										 li29.setVisible(false);
										 li29.setIcon(g7);
										 li29.setVisible(true);
										 Thread.sleep(1000);
										 lbn11.setVisible(false);
										 lbn11.setIcon(gn11);
										 lbn11.setVisible(true);
										 Thread.sleep(1000);
										 li211.setVisible(false);
										 li211.setIcon(g5);
										 li211.setVisible(true);
										 
										 funcn7(s,len,mac,sip,dname,dip);
									
									 }
								 }else  if(rsn5.next()==false)
								 {
									 lbn12.setVisible(false);
										lbn12.setIcon(rn5);
										lbn12.setVisible(true);
										Thread.sleep(1000);
										 Statement stu1 = con.createStatement();
										 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N12'";
										 stu1.executeUpdate(sqlu1);
									 Socket sc1=new Socket("localhost",2015);
									 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
									 dout.writeUTF("N12");
									 String cip5=rsn5.getString(2);
									 dout.writeUTF(cip5);
									 DataInputStream din1=new DataInputStream(sc1.getInputStream());
									 String msg=din1.readUTF();
									 if(msg.equalsIgnoreCase("success"))
									 {
										 JOptionPane.showMessageDialog(null,"Malicious Attacker in N12");
									 }
									 li29.setVisible(false);
									 li29.setIcon(g7);
									 li29.setVisible(true);
									 Thread.sleep(1000);
									 lbn11.setVisible(false);
									 lbn11.setIcon(gn11);
									 lbn11.setVisible(true);
									 Thread.sleep(1000);
									 li211.setVisible(false);
									 li211.setIcon(g5);
									 li211.setVisible(true);
									 
									 funcn7(s,len,mac,sip,dname,dip);
								 }
								 
							 }
								 
							 
							 
							 
							 
						 }
						 else 
						 {
							 //evasdropper in node 4
							 
							 lbn11.setVisible(false);
								lbn11.setIcon(rn4);
								lbn11.setVisible(true);
							 
							 Thread.sleep(1000);
							 Statement stu1 = con.createStatement();
							 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N11'";
							 stu1.executeQuery(sqlu1);
							 
							 Socket sc1=new Socket("localhost",2014);
							 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
							 dout.writeUTF("N11");
							 dout.writeUTF(bw2);
							
							 DataInputStream din1=new DataInputStream(sc1.getInputStream());
							 String msg=din1.readUTF();
							 if(msg.equalsIgnoreCase("success"))
							 {
								 JOptionPane.showMessageDialog(null,"Traffic Occurs in N11");
							 }
							 
							 li26.setVisible(false);
							 li26.setIcon(g4);
							 li26.setVisible(true);
							 Thread.sleep(1000);
							 lbn8.setVisible(false);
							 lbn8.setIcon(gn8);
							 lbn8.setVisible(true);
							 Thread.sleep(1000);
							 
							 
							 
						
						 }
						 
					 }else  if(rsn4.next()==false)
					 {
						 lbn11.setVisible(false);
							lbn11.setIcon(rn4);
							lbn11.setVisible(true);
							Thread.sleep(1000);
							 Statement stu1 = con.createStatement();
							 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N11'";
							 stu1.executeUpdate(sqlu1);
						 Socket sc1=new Socket("localhost",2015);
						 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
						 dout.writeUTF("N11");
						 String cip4=rsn4.getString(2);
						 dout.writeUTF(cip4);
						 DataInputStream din1=new DataInputStream(sc1.getInputStream());
						 String msg=din1.readUTF();
						 if(msg.equalsIgnoreCase("success"))
						 {
							 JOptionPane.showMessageDialog(null,"Malicious Attacker in N11");
						 }
						 li26.setVisible(false);
						 li26.setIcon(g4);
						 li26.setVisible(true);
						 Thread.sleep(1000);
						 lbn8.setVisible(false);
						 lbn8.setIcon(gn8);
						 lbn8.setVisible(true);
						 Thread.sleep(1000);
					 }
					 
					 
				 }
				 else if(tn9<tn11)
				 {
					 
					 li24.setVisible(false);
					 li24.setIcon(g7);
					 li24.setVisible(true);
					 
					 Thread.sleep(1000);
					 
					 Statement stmtn2 = con.createStatement();
					 String sqln2 = "select * from Nodesinfo where Nname='N9' and Keys='"+mac+"' and senderip='"+sip+"'";
					 ResultSet rsn2 = stmtn2.executeQuery(sqln2);
					 
					 if(rsn2.next()==true)
					 {
						 String bw5=rsn2.getString(4);
						 
						 int bw15=Integer.parseInt(bw5);
						 
						 if(len<bw15)
						 {
							 lbn9.setVisible(false);
							 lbn9.setIcon(gn9);
							 lbn9.setVisible(true);
							 Thread.sleep(1000);
							 
							 tn12 = r1.nextInt(50);
							 tn10= r1.nextInt(50);
							 
							 l37.setVisible(false);
							 l37.setText(Integer.toString(tn12));
							 l37.setVisible(true);
							 
							 l35.setVisible(false);
							 l35.setText(Integer.toString(tn10));
							 l35.setVisible(true);
							 
							 Thread.sleep(1000);
							 
							 
							 if(tn12<tn10)
							 {
								 
								 li27.setVisible(false);
								 li27.setIcon(g4);
								 li27.setVisible(true);
								 
								 Thread.sleep(1000);
								 
								 Statement stmtn5 = con.createStatement();
								 String sqln5 = "select * from Nodesinfo where Nname='N12' and Keys='"+mac+"' and senderip='"+sip+"'";
								 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
								 
								 if(rsn5.next()==true)
								 {
									 String bw6=rsn5.getString(4);
									 
									 int bw16=Integer.parseInt(bw6);
									 
									 if(len<bw16)
									 {
										 
										 lbn12.setVisible(false);
										 lbn12.setIcon(gn12);
										 lbn12.setVisible(true);
										 Thread.sleep(1000);
										 
										 tn11=r1.nextInt(50);
										 tn14=r1.nextInt(50);
										 tn13=r1.nextInt(50);
										 
										 l39.setVisible(false);
										 l39.setText(Integer.toString(tn11));
										 l39.setVisible(true);
										 
										 l312.setVisible(false);
										 l312.setText(Integer.toString(tn14));
										 l312.setVisible(true);
										 
										 
										 l310.setVisible(false);
										 l310.setText(Integer.toString(tn13));
										 l310.setVisible(true);
										 
										 Thread.sleep(1000);
										 
										 
										 
										 if(tn11<tn14&&tn11<tn13)
										 {
											 li29.setVisible(false);
											 li29.setIcon(g7);
											 li29.setVisible(true);
											 
											 Thread.sleep(1000);
											 
											 Statement stmtn4 = con.createStatement();
											 String sqln4 = "select * from Nodesinfo where Nname='N11' and Keys='"+mac+"' and senderip='"+sip+"'";
											 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
											 
											 if(rsn4.next()==true)
											 {
												 String bw7=rsn4.getString(4);
												 
												 int bw17=Integer.parseInt(bw7);
												 
												 if(len<bw17)
												 {
													 lbn11.setVisible(false);
													 lbn11.setIcon(gn11);
													 lbn11.setVisible(true);
													 Thread.sleep(1000);
													 
													 
													 li211.setVisible(false);
													 li211.setIcon(g5);
													 li211.setVisible(true);
											
													 funcn7(s,len,mac,sip,dname,dip);
												 }
												 else
												 {
													//evasdropper in node11
													 lbn11.setVisible(false);
														lbn11.setIcon(rn4);
														lbn11.setVisible(true);
													 
													 Thread.sleep(1000);
													 Statement stu1 = con.createStatement();
													 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N11'";
													 stu1.executeQuery(sqlu1);
													 
													 Socket sc1=new Socket("localhost",2014);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N11");
													 dout.writeUTF(bw7);
													
													 DataInputStream din1=new DataInputStream(sc1.getInputStream());
													 String msg=din1.readUTF();
													 if(msg.equalsIgnoreCase("success"))
													 {
														 JOptionPane.showMessageDialog(null,"Traffic Occurs in N11");
													 }
													 
													 li29.setVisible(false);
													 li29.setIcon(g7);
													 li29.setVisible(true);
													 Thread.sleep(1000);
													 lbn12.setVisible(false);
													 lbn12.setIcon(gn12);
													 lbn12.setVisible(true);
													 Thread.sleep(1000);
													 li212.setVisible(false);
													 li212.setIcon(g2);
													 li212.setVisible(true);
													 Thread.sleep(1000);
													 funcn7(s,len,mac,sip,dname,dip);
													 
												 }
											 }
											 else  if(rsn4.next()==false)
											 {
												 lbn11.setVisible(false);
													lbn11.setIcon(rn4);
													lbn11.setVisible(true);
													Thread.sleep(1000);
													 Statement stu1 = con.createStatement();
													 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N11'";
													 stu1.executeUpdate(sqlu1);
												 Socket sc1=new Socket("localhost",2015);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N11");
												 String cip4=rsn4.getString(2);
												 dout.writeUTF(cip4);
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Malicious Attacker in N11");
												 }
												 li29.setVisible(false);
												 li29.setIcon(g7);
												 li29.setVisible(true);
												 Thread.sleep(1000);
												 lbn12.setVisible(false);
												 lbn12.setIcon(gn12);
												 lbn12.setVisible(true);
												 Thread.sleep(1000);
												 li212.setVisible(false);
												 li212.setIcon(g2);
												 li212.setVisible(true);
												 Thread.sleep(1000);
												 funcn7(s,len,mac,sip,dname,dip);
											 }
											 
											 
											 
											 
											 
											 
										 }
										 else if(tn14<tn11&&tn14<tn13)
										 {
											 li212.setVisible(false);
											 li212.setIcon(g2);
											 li212.setVisible(true);
											 Thread.sleep(1000);
											 
											
											 funcn7(s,len,mac,sip,dname,dip);
										 }
										 else if(tn13<tn11&&tn13<tn14)
										 {
											 li210.setVisible(false);
											 li210.setIcon(g7);
											 li210.setVisible(true);
											 Thread.sleep(1000);
											 
											 
											 Statement stmtn6 = con.createStatement();
											 String sqln6 = "select * from Nodesinfo where Nname='N13' and Keys='"+mac+"' and senderip='"+sip+"'";
											 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
											 
											 if(rsn6.next()==true)
											 {
												 String bw8=rsn6.getString(4);
												 
												 int bw18=Integer.parseInt(bw8);
												 
												 if(len<bw18)
												 {
													 lbn13.setVisible(false);
													 lbn13.setIcon(gn13);
													 lbn13.setVisible(true);
													 
													 Thread.sleep(1000);
													 
													 li213.setVisible(false);
													 li213.setIcon(g6);
													 li213.setVisible(true);
													 Thread.sleep(1000);
													 
													 funcn7(s,len,mac,sip,dname,dip);
												 }
												 else
												 {
													//evasdropper in node13
													
													 lbn13.setVisible(false);
														lbn13.setIcon(rn6);
														lbn13.setVisible(true);
													 
													 Thread.sleep(1000);
													 Statement stu1 = con.createStatement();
													 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N13'";
													 stu1.executeUpdate(sqlu1);
													 
													 Socket sc1=new Socket("localhost",2014);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N13");
													 dout.writeUTF(bw8);
													
													 DataInputStream din1=new DataInputStream(sc1.getInputStream());
													 String msg=din1.readUTF();
													 if(msg.equalsIgnoreCase("success"))
													 {
														 JOptionPane.showMessageDialog(null,"Traffic Occurs in N13");
													 }
													 
													 li210.setVisible(false);
													 li210.setIcon(g7);
													 li210.setVisible(true);
													 Thread.sleep(1000);
													 lbn12.setVisible(false);
													 lbn12.setIcon(gn12);
													 lbn12.setVisible(true);
													 Thread.sleep(1000);
													 li212.setVisible(false);
													 li212.setIcon(g2);
													 li212.setVisible(true);
													 
													 funcn7(s,len,mac,sip,dname,dip);
													
												
													 
												 }
											 }
											 else  if(rsn6.next()==false)
											 {
												 lbn13.setVisible(false);
													lbn13.setIcon(rn6);
													lbn13.setVisible(true);
													Thread.sleep(1000);
													 Statement stu1 = con.createStatement();
													 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N13'";
													 stu1.executeUpdate(sqlu1);
												 Socket sc1=new Socket("localhost",2015);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N13");
												 String cip6=rsn6.getString(2);
												 dout.writeUTF(cip6);
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Malicious Attacker in N13");
												 }
												 li210.setVisible(false);
												 li210.setIcon(g7);
												 li210.setVisible(true);
												 Thread.sleep(1000);
												 lbn12.setVisible(false);
												 lbn12.setIcon(gn12);
												 lbn12.setVisible(true);
												 Thread.sleep(1000);
												 li212.setVisible(false);
												 li212.setIcon(g2);
												 li212.setVisible(true);
												 
												 funcn7(s,len,mac,sip,dname,dip);
											 }
										 
										 }
										 
										 
										 
										 
									 }
									 else 
									 {
										 //evasdropper in node12
										 
										 lbn12.setVisible(false);
											lbn12.setIcon(rn5);
											lbn12.setVisible(true);
										 
										 Thread.sleep(1000);
										 Statement stu1 = con.createStatement();
										 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N12'";
										 stu1.executeQuery(sqlu1);
										 
										 Socket sc1=new Socket("localhost",2014);
										 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
										 dout.writeUTF("N12");
										 dout.writeUTF(bw6);
										
										 DataInputStream din1=new DataInputStream(sc1.getInputStream());
										 String msg=din1.readUTF();
										 if(msg.equalsIgnoreCase("success"))
										 {
											 JOptionPane.showMessageDialog(null,"Traffic Occurs in N12");
										 }
										 
										 li29.setVisible(false);
										 li29.setIcon(g7);
										 li29.setVisible(true);
										 Thread.sleep(1000);
										 lbn11.setVisible(false);
										 lbn11.setIcon(gn11);
										 lbn11.setVisible(true);
										 Thread.sleep(1000);
										 li211.setVisible(false);
										 li211.setIcon(g5);
										 li211.setVisible(true);
										 
										 funcn7(s,len,mac,sip,dname,dip);
										
										
									 }
									 
									 
								 }
								 else  if(rsn5.next()==false)
								 {
									 lbn12.setVisible(false);
										lbn12.setIcon(rn5);
										lbn12.setVisible(true);
										Thread.sleep(1000);
										 Statement stu1 = con.createStatement();
										 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N12'";
										 stu1.executeUpdate(sqlu1);
									 Socket sc1=new Socket("localhost",2015);
									 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
									 dout.writeUTF("N12");
									 String cip5=rsn5.getString(2);
									 dout.writeUTF(cip5);
									 DataInputStream din1=new DataInputStream(sc1.getInputStream());
									 String msg=din1.readUTF();
									 if(msg.equalsIgnoreCase("success"))
									 {
										 JOptionPane.showMessageDialog(null,"Malicious Attacker in N12");
									 }
									 li29.setVisible(false);
									 li29.setIcon(g7);
									 li29.setVisible(true);
									 Thread.sleep(1000);
									 lbn11.setVisible(false);
									 lbn11.setIcon(gn11);
									 lbn11.setVisible(true);
									 Thread.sleep(1000);
									 li211.setVisible(false);
									 li211.setIcon(g5);
									 li211.setVisible(true);
									 
									 funcn7(s,len,mac,sip,dname,dip);
								 }
								 
								 
								 
							 }
							 else if(tn10<tn12)
							 {
								 
								 li25.setVisible(false);
								 li25.setIcon(g7);
								 li25.setVisible(true);
								 
								 Thread.sleep(1000);
								 
								 Statement stmtn3 = con.createStatement();
								 String sqln3 = "select * from Nodesinfo where Nname='N10' and Keys='"+mac+"' and senderip='"+sip+"'";
								 ResultSet rsn3 = stmtn3.executeQuery(sqln3);
								 
								 if(rsn3.next()==true)
								 {
									 String bw9=rsn3.getString(4);
									 
									 int bw19=Integer.parseInt(bw9);
									 
									 if(len<bw19)
									 { 
										 lbn10.setVisible(false);
										 lbn10.setIcon(gn10);
										 lbn10.setVisible(true);
										 
										 Thread.sleep(1000);
										 
										 li28.setVisible(false);
										 li28.setIcon(g4);
										 li28.setVisible(true);
										 
										 Thread.sleep(1000);
										 
										 Statement stmtn6 = con.createStatement();
										 String sqln6 = "select * from Nodesinfo where Nname='N13' and Keys='"+mac+"' and senderip='"+sip+"'";
										 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
										 
										 if(rsn6.next()==true)
										 {
											 String bw10=rsn6.getString(4);
											 
											 int bw20=Integer.parseInt(bw10);
											 
											 if(len<bw20)
											 { 
												 lbn13.setVisible(false);
												 lbn13.setIcon(gn13);
												 lbn13.setVisible(true);
												 Thread.sleep(1000);
												 
												 tn12=r1.nextInt(50);
													tn14=r1.nextInt(50);
													
													l310.setVisible(false);
													l310.setText(Integer.toString(tn12));
													l310.setVisible(true);
													
													l313.setVisible(false);
													l313.setText(Integer.toString(tn14));
													l313.setVisible(true);
													
													Thread.sleep(1000);
													
													if(tn12<tn14)
													{
														
														li210.setVisible(false);
														li210.setIcon(g7);
														li210.setVisible(true);
														
														Thread.sleep(1000);
														
														 Statement stmtn5 = con.createStatement();
														 String sqln5 = "select * from Nodesinfo where Nname='N12' and Keys='"+mac+"' and senderip='"+sip+"'";
														 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
														 
														 if(rsn5.next()==true)
														 {
															 String bw21=rsn5.getString(4);
															 
															 int bw31=Integer.parseInt(bw21);
															 
															 if(len<bw31)
															 { 
																 lbn12.setVisible(false);
																 lbn12.setIcon(gn12);
																 lbn12.setVisible(true);
																 Thread.sleep(1000);
																 
																tn14=r1.nextInt(50);
																tn11=r1.nextInt(50);
																
																l312.setVisible(false);
																l312.setText(Integer.toString(tn14));
																l312.setVisible(true);
																
																l39.setVisible(false);
																l39.setText(Integer.toString(tn11));
																l39.setVisible(true);
																
																Thread.sleep(1000);
																
																if(tn14<tn11)
																{
																	li212.setVisible(false);
																	li212.setIcon(g2);
																	li212.setVisible(true);
																	
																	Thread.sleep(1000);
																	
																	funcn7(s,len,mac,sip,dname,dip);
																}
																else if(tn11<tn14)
																{
																	li29.setVisible(false);
																	li29.setIcon(g7);
																	li29.setVisible(true);
																	
																	Thread.sleep(1000);
																	
																	Statement stmtn4 = con.createStatement();
																	 String sqln4 = "select * from Nodesinfo where Nname='N11' and Keys='"+mac+"' and senderip='"+sip+"'";
																	 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
																	 
																	 if(rsn4.next()==true)
																	 {
																		 String bw22=rsn4.getString(4);
																		 
																		 int bw32=Integer.parseInt(bw22);
																		 
																		 if(len<bw32)
																		 { 
																			 lbn11.setVisible(false);
																			 lbn11.setIcon(gn11);
																			 lbn11.setVisible(true);
																			 Thread.sleep(1000);
																			 
																			 li211.setVisible(false);
																			 li211.setIcon(g5);
																			 li211.setVisible(true);
																			 
																			 Thread.sleep(1000);
																			 
																			 funcn7(s,len,mac,sip,dname,dip);
																		 
																		 }
																		 else 
																		 {
																			 //evasdropper in node11
																			 
																			 lbn11.setVisible(false);
																				lbn11.setIcon(rn4);
																				lbn11.setVisible(true);
																			 
																			 Thread.sleep(1000);
																			 Statement stu1 = con.createStatement();
																			 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N11'";
																			 stu1.executeQuery(sqlu1);
																			 
																			 Socket sc1=new Socket("localhost",2014);
																			 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																			 dout.writeUTF("N11");
																			 dout.writeUTF(bw22);
																			
																			 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																			 String msg=din1.readUTF();
																			 if(msg.equalsIgnoreCase("success"))
																			 {
																				 JOptionPane.showMessageDialog(null,"Traffic Occurs in N11");
																			 }
																			 
																			 li29.setVisible(false);
																			 li29.setIcon(g7);
																			 li29.setVisible(true);
																			 Thread.sleep(1000);
																			 lbn12.setVisible(false);
																			 lbn12.setIcon(gn12);
																			 lbn12.setVisible(true);
																			 Thread.sleep(1000);
																			 li212.setVisible(false);
																			 li212.setIcon(g2);
																			 li212.setVisible(true);
																			 Thread.sleep(1000);
																			 funcn7(s,len,mac,sip,dname,dip);
																			
																			 
																		 }
																	 }
																	 else  if(rsn4.next()==false)
																	 {
																		 lbn11.setVisible(false);
																			lbn11.setIcon(rn4);
																			lbn11.setVisible(true);
																			Thread.sleep(1000);
																			 Statement stu1 = con.createStatement();
																			 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N11'";
																			 stu1.executeUpdate(sqlu1);
																		 Socket sc1=new Socket("localhost",2015);
																		 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																		 dout.writeUTF("N11");
																		 String cip4=rsn4.getString(2);
																		 dout.writeUTF(cip4);
																		 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																		 String msg=din1.readUTF();
																		 if(msg.equalsIgnoreCase("success"))
																		 {
																			 JOptionPane.showMessageDialog(null,"Malicious Attacker in N11");
																		 }
																		 li29.setVisible(false);
																		 li29.setIcon(g7);
																		 li29.setVisible(true);
																		 Thread.sleep(1000);
																		 lbn12.setVisible(false);
																		 lbn12.setIcon(gn12);
																		 lbn12.setVisible(true);
																		 Thread.sleep(1000);
																		 li212.setVisible(false);
																		 li212.setIcon(g2);
																		 li212.setVisible(true);
																		 Thread.sleep(1000);
																		 funcn7(s,len,mac,sip,dname,dip);
																	 }
																	 
																	 
																	
																}
																
																
															 }
															 else 
															 {
																 //evasdropper in node12
																 
																 lbn12.setVisible(false);
																	lbn12.setIcon(rn5);
																	lbn12.setVisible(true);
																 
																 Thread.sleep(1000);
																 Statement stu1 = con.createStatement();
																 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N12'";
																 stu1.executeQuery(sqlu1);
																 
																 Socket sc1=new Socket("localhost",2014);
																 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																 dout.writeUTF("N12");
																 dout.writeUTF(bw21);
																
																 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																 String msg=din1.readUTF();
																 if(msg.equalsIgnoreCase("success"))
																 {
																	 JOptionPane.showMessageDialog(null,"Traffic Occurs in N12");
																 }
																 
																 li210.setVisible(false);
																 li210.setIcon(g7);
																 li210.setVisible(true);
																 Thread.sleep(1000);
																 lbn13.setVisible(false);
																 lbn13.setIcon(gn13);
																 lbn13.setVisible(true);
																 Thread.sleep(1000);
																 li213.setVisible(false);
																 li213.setIcon(g6);
																 li213.setVisible(true);
																 
																 funcn7(s,len,mac,sip,dname,dip);
																
															 }
														 }
														 else  if(rsn5.next()==false)
														 {
															 lbn12.setVisible(false);
																lbn12.setIcon(rn5);
																lbn12.setVisible(true);
																Thread.sleep(1000);
																 Statement stu1 = con.createStatement();
																 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N12'";
																 stu1.executeUpdate(sqlu1);
															 Socket sc1=new Socket("localhost",2015);
															 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
															 dout.writeUTF("N12");
															 String cip5=rsn5.getString(2);
															 dout.writeUTF(cip5);
															 DataInputStream din1=new DataInputStream(sc1.getInputStream());
															 String msg=din1.readUTF();
															 if(msg.equalsIgnoreCase("success"))
															 {
																 JOptionPane.showMessageDialog(null,"Malicious Attacker in N12");
															 }
															 li210.setVisible(false);
															 li210.setIcon(g7);
															 li210.setVisible(true);
															 Thread.sleep(1000);
															 lbn13.setVisible(false);
															 lbn13.setIcon(gn13);
															 lbn13.setVisible(true);
															 Thread.sleep(1000);
															 li213.setVisible(false);
															 li213.setIcon(g6);
															 li213.setVisible(true);
															 
															 funcn7(s,len,mac,sip,dname,dip);
														 }
														
														
														
														
													}
													else if(tn14<tn12)
													{
														
														li212.setVisible(false);
														li212.setIcon(g2);
														li212.setVisible(true);
														
														Thread.sleep(1000);
														
														funcn7(s,len,mac,sip,dname,dip);
													}
													
											 }
											 else
											 {
												//evasdropper in node13
												 
												 lbn13.setVisible(false);
													lbn13.setIcon(rn6);
													lbn13.setVisible(true);
												 
												 Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N13'";
												 stu1.executeUpdate(sqlu1);
												 
												 Socket sc1=new Socket("localhost",2014);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N13");
												 dout.writeUTF(bw10);
												
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Traffic Occurs in N13");
												 }
												 
												 li210.setVisible(false);
												 li210.setIcon(g7);
												 li210.setVisible(true);
												 Thread.sleep(1000);
												 lbn12.setVisible(false);
												 lbn12.setIcon(gn12);
												 lbn12.setVisible(true);
												 Thread.sleep(1000);
												 li212.setVisible(false);
												 li212.setIcon(g2);
												 li212.setVisible(true);
												 
												 funcn7(s,len,mac,sip,dname,dip);
												
												 
											 }
										 }else  if(rsn6.next()==false)
										 {
											 lbn13.setVisible(false);
												lbn13.setIcon(rn6);
												lbn13.setVisible(true);
												Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N13'";
												 stu1.executeUpdate(sqlu1);
											 Socket sc1=new Socket("localhost",2015);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N13");
											 String cip6=rsn6.getString(2);
											 dout.writeUTF(cip6);
											 DataInputStream din1=new DataInputStream(sc1.getInputStream());
											 String msg=din1.readUTF();
											 if(msg.equalsIgnoreCase("success"))
											 {
												 JOptionPane.showMessageDialog(null,"Malicious Attacker in N13");
											 }
											 li210.setVisible(false);
											 li210.setIcon(g7);
											 li210.setVisible(true);
											 Thread.sleep(1000);
											 lbn12.setVisible(false);
											 lbn12.setIcon(gn12);
											 lbn12.setVisible(true);
											 Thread.sleep(1000);
											 li212.setVisible(false);
											 li212.setIcon(g2);
											 li212.setVisible(true);
											 
											 funcn7(s,len,mac,sip,dname,dip);
										 }
									 
										 
									 }
									 else 
									 {
										 //evasdropper in node10
										 
										 
										 lbn10.setVisible(false);
											lbn10.setIcon(rn3);
											lbn10.setVisible(true);
										 
										 Thread.sleep(1000);
										 Statement stu1 = con.createStatement();
										 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N10'";
										 stu1.executeUpdate(sqlu1);
										 
										 Socket sc1=new Socket("localhost",2014);
										 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
										 dout.writeUTF("N10");
										 dout.writeUTF(bw9);
										
										 DataInputStream din1=new DataInputStream(sc1.getInputStream());
										 String msg=din1.readUTF();
										 if(msg.equalsIgnoreCase("success"))
										 {
											 JOptionPane.showMessageDialog(null,"Traffic Occurs in N10");
										 }
										 
										 li25.setVisible(false);
										 li25.setIcon(g7);
										 li25.setVisible(true);
										 Thread.sleep(1000);
										 lbn9.setVisible(false);
										 lbn9.setIcon(gn9);
										 lbn9.setVisible(true);
										 Thread.sleep(1000);
										 li27.setVisible(false);
										 li27.setIcon(g4);
										 li27.setVisible(true);
										 lbn12.setVisible(false);
										 lbn12.setIcon(gn12);
										 lbn12.setVisible(true);
										 Thread.sleep(1000);
										 li212.setVisible(false);
										 li212.setIcon(g2);
										 li212.setVisible(true);
										 funcn7(s,len,mac,sip,dname,dip);
										 
										 
									 }
									 
									 
								 }else  if(rsn3.next()==false)
								 {
									 
									 lbn10.setVisible(false);
										lbn10.setIcon(rn3);
										lbn10.setVisible(true);
										Thread.sleep(1000);
										 Statement stu1 = con.createStatement();
										 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N10'";
										 stu1.executeUpdate(sqlu1);
									 Socket sc1=new Socket("localhost",2015);
									 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
									 dout.writeUTF("N10");
									 String cip3=rsn3.getString(2);
									 dout.writeUTF(cip3);
									 DataInputStream din1=new DataInputStream(sc1.getInputStream());
									 String msg=din1.readUTF();
									 if(msg.equalsIgnoreCase("success"))
									 {
										 JOptionPane.showMessageDialog(null,"Malicious Attacker in N10");
									 }
									 li25.setVisible(false);
									 li25.setIcon(g7);
									 li25.setVisible(true);
									 Thread.sleep(1000);
									 lbn9.setVisible(false);
									 lbn9.setIcon(gn9);
									 lbn9.setVisible(true);
									 Thread.sleep(1000);
									 li27.setVisible(false);
									 li27.setIcon(g4);
									 li27.setVisible(true);
									 Thread.sleep(1000);
									 lbn12.setVisible(false);
									 lbn12.setIcon(gn12);
									 lbn12.setVisible(true);
									 Thread.sleep(1000);
									 li212.setVisible(false);
									 li212.setIcon(g2);
									 li212.setVisible(true);
									 funcn7(s,len,mac,sip,dname,dip);
								 }
								 
								 
							 }
							 
							 
						 }
						 else 
						 {
							 //evasdropper in node 2
							 
							 
							 lbn9.setVisible(false);
								lbn9.setIcon(rn2);
								lbn9.setVisible(true);
							 
							 Thread.sleep(1000);
							 Statement stu1 = con.createStatement();
							 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N9'";
							 stu1.executeUpdate(sqlu1);
							 
							 Socket sc1=new Socket("localhost",2014);
							 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
							 dout.writeUTF("N9");
							 dout.writeUTF(bw5);
							
							 DataInputStream din1=new DataInputStream(sc1.getInputStream());
							 String msg=din1.readUTF();
							 if(msg.equalsIgnoreCase("success"))
							 {
								 JOptionPane.showMessageDialog(null,"Traffic Occurs in N9");
							 }
							 
							 li27.setVisible(false);
							 li27.setIcon(g4);
							 li27.setVisible(true);
							 Thread.sleep(1000);
							 lbn12.setVisible(false);
							 lbn12.setIcon(gn12);
							 lbn12.setVisible(true);
							 Thread.sleep(1000);
							 li212.setVisible(false);
							 li212.setIcon(g2);
							 li212.setVisible(true);
							 funcn7(s,len,mac,sip,dname,dip);
							
							 
						 }
						 
					 }else  if(rsn2.next()==false)
					 {
						 
						 lbn9.setVisible(false);
							lbn9.setIcon(rn2);
							lbn9.setVisible(true);
							Thread.sleep(1000);
							 Statement stu1 = con.createStatement();
							 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N9'";
							 stu1.executeUpdate(sqlu1);
						 Socket sc1=new Socket("localhost",2015);
						 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
						 dout.writeUTF("N9");
						 String cip2=rsn2.getString(2);
						 dout.writeUTF(cip2);
						 
						 DataInputStream din1=new DataInputStream(sc1.getInputStream());
						 String msg=din1.readUTF();
						 if(msg.equalsIgnoreCase("success"))
						 {
							 JOptionPane.showMessageDialog(null,"Malicious Attacker in N9");
						 }
						 li27.setVisible(false);
						 li27.setIcon(g4);
						 li27.setVisible(true);
						 Thread.sleep(1000);
						 lbn12.setVisible(false);
						 lbn12.setIcon(gn12);
						 lbn12.setVisible(true);
						 Thread.sleep(1000);
						 li212.setVisible(false);
						 li212.setIcon(g2);
						 li212.setVisible(true);
						 funcn7(s,len,mac,sip,dname,dip);
					 }
					 
				 }
				 
				 
				 
			 }
			 else 
			 {
				 // EvasDropper in node8
				 
				 lbn8.setVisible(false);
					lbn8.setIcon(rn1);
					lbn8.setVisible(true);
				 
				 Thread.sleep(1000);
				 Statement stu1 = con.createStatement();
				 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N8'";
				 stu1.executeUpdate(sqlu1);
				 
				 Socket sc1=new Socket("localhost",2014);
				 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
				 dout.writeUTF("N8");
				 dout.writeUTF(bw1);
				
				 DataInputStream din1=new DataInputStream(sc1.getInputStream());
				 String msg=din1.readUTF();
				 if(msg.equalsIgnoreCase("success"))
				 {
					 JOptionPane.showMessageDialog(null,"Traffic Occurs in N8");
				 }
				 
				 li24.setVisible(false);
				 li24.setIcon(g7);
				 li24.setVisible(true);
				 Thread.sleep(1000);
				 lbn9.setVisible(false);
				 lbn9.setIcon(gn9);
				 lbn9.setVisible(true);
				 Thread.sleep(1000);
				 li27.setVisible(false);
				 li27.setIcon(g4);
				 li27.setVisible(true);
				 Thread.sleep(1000);
				 lbn12.setVisible(false);
				 lbn12.setIcon(gn12);
				 lbn12.setVisible(true);
				 Thread.sleep(1000);
				 li212.setVisible(false);
				 li212.setIcon(g2);
				 li212.setVisible(true);
				 funcn7(s,len,mac,sip,dname,dip);
				 
				 
				 
			 }
			 
			 
		 }else  if(rsn1.next()==false)
		 {
			 
			 lbn8.setVisible(false);
				lbn8.setIcon(rn1);
				lbn8.setVisible(true);
				Thread.sleep(1000);
				 Statement stu1 = con.createStatement();
				 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N8'";
				 stu1.executeUpdate(sqlu1);
			 Socket sc1=new Socket("localhost",2015);
			 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
			 dout.writeUTF("N8");
			 String cip1=rsn1.getString(2);
			 dout.writeUTF(cip1);
			 
			 DataInputStream din1=new DataInputStream(sc1.getInputStream());
			 String msg=din1.readUTF();
			 if(msg.equalsIgnoreCase("success"))
			 {
				 JOptionPane.showMessageDialog(null,"Malicious Attacker in N8");
			 }
			 li24.setVisible(false);
			 li24.setIcon(g7);
			 li24.setVisible(true);
			 Thread.sleep(1000);
			 lbn9.setVisible(false);
			 lbn9.setIcon(gn9);
			 lbn9.setVisible(true);
			 Thread.sleep(1000);
			 li27.setVisible(false);
			 li27.setIcon(g4);
			 li27.setVisible(true);
			 Thread.sleep(1000);
			 lbn12.setVisible(false);
			 lbn12.setIcon(gn12);
			 lbn12.setVisible(true);
			 Thread.sleep(1000);
			 li212.setVisible(false);
			 li212.setIcon(g2);
			 li212.setVisible(true);
			 funcn7(s,len,mac,sip,dname,dip);
		 }
		 
		 
		 
		 
	 } //******************* Node1 ends Here 
	 
	 
	 
	 
	 else if(tn9<tn8 && tn9<tn10)
	 {
		 //node9
		 
		 li22.setVisible(false);
		 li22.setIcon(g2);
		 li22.setVisible(true);
		 
		 Thread.sleep(1000);
		 
	
		 Statement stmtn2 = con.createStatement();
		 String sqln2 = "select * from Nodesinfo where Nname='N9' and Keys='"+mac+"' and senderip='"+sip+"'";
		 ResultSet rsn2 = stmtn2.executeQuery(sqln2);
		 
		 if(rsn2.next()==true)
		 {
			 String bw23=rsn2.getString(4);
			 
			 int bw33=Integer.parseInt(bw23);
			 
			 if(len<bw33)
			 { 
				 lbn9.setVisible(false);
				 lbn9.setIcon(gn9);
				 lbn9.setVisible(true);
				 
				 Thread.sleep(1000);
				 
				 tn8=r1.nextInt(50);
				 tn12=r1.nextInt(50);
				 tn10=r1.nextInt(50);
				 
				 l34.setVisible(false);
				 l34.setText(Integer.toString(tn8));
				 l34.setVisible(true);
				 
				 l37.setVisible(false);
				 l37.setText(Integer.toString(tn12));
				 l37.setVisible(true);
				 
				 l35.setVisible(false);
				 l35.setText(Integer.toString(tn10));
				 l35.setVisible(true);
				 
				 Thread.sleep(1000);
				 
				 
				 
				 if(tn8<tn12&&tn8<tn10)
				 {
					 
					 li24.setVisible(false);
					 li24.setIcon(g7);
					 li24.setVisible(true);
					 
					 Thread.sleep(1000);
					 
					 
					 Statement stmtn1 = con.createStatement();
					 String sqln1 = "select * from Nodesinfo where Nname='N8' and Keys='"+mac+"' and senderip='"+sip+"'";
					 ResultSet rsn1 = stmtn1.executeQuery(sqln1);
					 
					 if(rsn1.next()==true)
					 {
						 String bw24=rsn1.getString(4);
						 
						 int bw34=Integer.parseInt(bw24);
						 
						 if(len<bw34)
						 { 
							 
							 lbn8.setVisible(false);
								lbn8.setIcon(gn8);
								lbn8.setVisible(true);
							 
							 Thread.sleep(1000);
							 
							 
							 li26.setVisible(false);
							 li26.setIcon(g4);
							 li26.setVisible(true);
						
							 Statement stmtn4 = con.createStatement();
							 String sqln4 = "select * from Nodesinfo where Nname='N11' and Keys='"+mac+"' and senderip='"+sip+"'";
							 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
							 
							 if(rsn4.next()==true)
							 {
								 String bw25=rsn4.getString(4);
								 
								 int bw35=Integer.parseInt(bw25);
								 
								 if(len<bw35)
								 { 
									 
									 lbn11.setVisible(false);
										lbn11.setIcon(gn11);
										lbn11.setVisible(true);
									 
									 Thread.sleep(1000);
									 
									 tn14=r1.nextInt(50);
									 tn12=r1.nextInt(50);
									 
									 l311.setVisible(false);
									 l311.setText(Integer.toString(tn14));
									 l311.setVisible(true);
									 
									 l39.setVisible(false);
									 l39.setText(Integer.toString(tn12));
									 l39.setVisible(true);
									 
									 Thread.sleep(1000);
									 
									 
									 
									 if(tn14<tn12)
									 {
										 
										 li211.setVisible(false);
										 li211.setIcon(g5);
										 li211.setVisible(true);
										 
										 Thread.sleep(1000);
										 
										 
										 funcn7(s,len,mac,sip,dname,dip);
									 }
									 else if(tn12<tn14)
									 {
										 li29.setVisible(false);
										 li29.setIcon(g7);
										 li29.setVisible(true);
										 
										 Thread.sleep(1000);
										
										 Statement stmtn5 = con.createStatement();
										 String sqln5 = "select * from Nodesinfo where Nname='N12' and Keys='"+mac+"' and senderip='"+sip+"'";
										 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
										 
										 if(rsn5.next()==true)
										 {
											 String bw26=rsn5.getString(4);
											 
											 int bw36=Integer.parseInt(bw26);
											 
											 if(len<bw36)
											 { 
												 
												 lbn12.setVisible(false);
													lbn12.setIcon(gn12);
													lbn12.setVisible(true);
												 
												 Thread.sleep(1000);
												 
												 
												 tn14= r1.nextInt(50);
												 tn13=r1.nextInt(50);
												 
												 l312.setVisible(false);
												 l312.setText(Integer.toString(tn14));
												 l312.setVisible(true);
												 
												 l310.setVisible(false);
												 l310.setText(Integer.toString(tn13));
												 l310.setVisible(true);
												 
												 Thread.sleep(1000);
												 
												 
												 if(tn14<tn13)
												 {
													 li212.setVisible(false);
													 li212.setIcon(g2);
													 li212.setVisible(true);
													 
													 Thread.sleep(1000);
													 
													 funcn7(s,len,mac,sip,dname,dip);
												 }
												 else if(tn13<tn14)
												 {
													 li210.setVisible(false);
													 li210.setIcon(g7);
													 li210.setVisible(true);
													 
													 Thread.sleep(1000);
													 
													 Statement stmtn6 = con.createStatement();
													 String sqln6 = "select * from Nodesinfo where Nname='N13' and Keys='"+mac+"' and senderip='"+sip+"'";
													 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
													 
													 if(rsn6.next()==true)
													 {
														 String bw27=rsn6.getString(4);
														 
														 int bw37=Integer.parseInt(bw27);
														 
														 if(len<bw37)
														 { 
															 lbn13.setVisible(false);
																lbn13.setIcon(gn13);
																lbn13.setVisible(true);
															 
															 Thread.sleep(1000);
															 
															 li213.setVisible(false);
															 li213.setIcon(g6);
															 li213.setVisible(true);
															 
															 Thread.sleep(1000);
														
															 funcn7(s,len,mac,sip,dname,dip);
														 }
														 else 
														 {
															 //evasdropper in node13
															 
															 lbn13.setVisible(false);
																lbn13.setIcon(rn6);
																lbn13.setVisible(true);
															 
															 Thread.sleep(1000);
															 Statement stu1 = con.createStatement();
															 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N13'";
															 stu1.executeUpdate(sqlu1);
															 
															 Socket sc1=new Socket("localhost",2014);
															 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
															 dout.writeUTF("N13");
															 dout.writeUTF(bw27);
															
															 DataInputStream din1=new DataInputStream(sc1.getInputStream());
															 String msg=din1.readUTF();
															 if(msg.equalsIgnoreCase("success"))
															 {
																 JOptionPane.showMessageDialog(null,"Traffic Occurs in N13");
															 }
															 
															 li210.setVisible(false);
															 li210.setIcon(g7);
															 li210.setVisible(true);
															 Thread.sleep(1000);
															 lbn12.setVisible(false);
															 lbn12.setIcon(gn12);
															 lbn12.setVisible(true);
															 Thread.sleep(1000);
															 li212.setVisible(false);
															 li212.setIcon(g2);
															 li212.setVisible(true);
															 funcn7(s,len,mac,sip,dname,dip);
															
																
														
															 
														 }
													 }else  if(rsn6.next()==false)
													 {
														 
														 lbn13.setVisible(false);
															lbn13.setIcon(rn6);
															lbn13.setVisible(true);
															Thread.sleep(1000);
															 Statement stu1 = con.createStatement();
															 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N13'";
															 stu1.executeUpdate(sqlu1);
														 Socket sc1=new Socket("localhost",2015);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N13");
														 String cip6=rsn6.getString(2);
														 dout.writeUTF(cip6);
														 DataInputStream din1=new DataInputStream(sc1.getInputStream());
														 String msg=din1.readUTF();
														 if(msg.equalsIgnoreCase("success"))
														 {
															 JOptionPane.showMessageDialog(null,"Malicious Attacker in N13");
														 }
														 li210.setVisible(false);
														 li210.setIcon(g7);
														 li210.setVisible(true);
														 Thread.sleep(1000);
														 lbn12.setVisible(false);
														 lbn12.setIcon(gn12);
														 lbn12.setVisible(true);
														 Thread.sleep(1000);
														 li212.setVisible(false);
														 li212.setIcon(g2);
														 li212.setVisible(true);
														 funcn7(s,len,mac,sip,dname,dip);
													 }
												 
												 }
												 
												 
												 
											 }
											 else 
											 {
												 //evasdropper in node12
												 
												 lbn12.setVisible(false);
													lbn12.setIcon(rn5);
													lbn12.setVisible(true);
												 
												 Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N12'";
												 stu1.executeUpdate(sqlu1);
												 
												 Socket sc1=new Socket("localhost",2014);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N12");
												 dout.writeUTF(bw26);
												
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Traffic Occurs in N12");
												 }
												 
												 li29.setVisible(false);
												 li29.setIcon(g7);
												 li29.setVisible(true);
												 Thread.sleep(1000);
												 lbn11.setVisible(false);
												 lbn11.setIcon(gn11);
												 lbn11.setVisible(true);
												 Thread.sleep(1000);
												 li211.setVisible(false);
												 li211.setIcon(g5);
												 li211.setVisible(true);
												 funcn7(s,len,mac,sip,dname,dip);
												
											 }
										 }
										 else  if(rsn5.next()==false)
										 {
											 
											 lbn12.setVisible(false);
												lbn12.setIcon(rn5);
												lbn12.setVisible(true);
												Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N12'";
												 stu1.executeUpdate(sqlu1);
											 Socket sc1=new Socket("localhost",2015);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N12");
											 String cip5=rsn5.getString(2);
											 dout.writeUTF(cip5);
											 DataInputStream din1=new DataInputStream(sc1.getInputStream());
											 String msg=din1.readUTF();
											 if(msg.equalsIgnoreCase("success"))
											 {
												 JOptionPane.showMessageDialog(null,"Malicious Attacker in N12");
											 }
											 li29.setVisible(false);
											 li29.setIcon(g7);
											 li29.setVisible(true);
											 Thread.sleep(1000);
											 lbn11.setVisible(false);
											 lbn11.setIcon(gn11);
											 lbn11.setVisible(true);
											 Thread.sleep(1000);
											 li211.setVisible(false);
											 li211.setIcon(g5);
											 li211.setVisible(true);
											 funcn7(s,len,mac,sip,dname,dip);
										 }
										 
									 }
										 
									 
									 
								
								 }
								 else 
								 {
									//evasdropper in node11
									 lbn11.setVisible(false);
										lbn11.setIcon(rn4);
										lbn11.setVisible(true);
									 
									 Thread.sleep(1000);
									 Statement stu1 = con.createStatement();
									 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N11'";
									 stu1.executeUpdate(sqlu1);
									 
									 Socket sc1=new Socket("localhost",2014);
									 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
									 dout.writeUTF("N11");
									 dout.writeUTF(bw25);
									
									 DataInputStream din1=new DataInputStream(sc1.getInputStream());
									 String msg=din1.readUTF();
									 if(msg.equalsIgnoreCase("success"))
									 {
										 JOptionPane.showMessageDialog(null,"Traffic Occurs in N11");
									 }
									 
									 li29.setVisible(false);
									 li29.setIcon(g7);
									 li29.setVisible(true);
									 Thread.sleep(1000);
									 lbn12.setVisible(false);
									 lbn12.setIcon(gn12);
									 lbn12.setVisible(true);
									 Thread.sleep(1000);
									 li212.setVisible(false);
									 li212.setIcon(g2);
									 li212.setVisible(true);
									 funcn7(s,len,mac,sip,dname,dip);
									
								 }
								 
								 
							 }
							 else  if(rsn4.next()==false)
							 {
								 
								 lbn11.setVisible(false);
									lbn11.setIcon(rn4);
									lbn11.setVisible(true);
									Thread.sleep(1000);
									 Statement stu1 = con.createStatement();
									 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N11'";
									 stu1.executeUpdate(sqlu1);
								 Socket sc1=new Socket("localhost",2015);
								 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
								 dout.writeUTF("N11");
								 String cip4=rsn4.getString(2);
								 dout.writeUTF(cip4);
								 DataInputStream din1=new DataInputStream(sc1.getInputStream());
								 String msg=din1.readUTF();
								 if(msg.equalsIgnoreCase("success"))
								 {
									 JOptionPane.showMessageDialog(null,"Malicious Attacker in N11");
								 }
								 li29.setVisible(false);
								 li29.setIcon(g7);
								 li29.setVisible(true);
								 Thread.sleep(1000);
								 lbn12.setVisible(false);
								 lbn12.setIcon(gn12);
								 lbn12.setVisible(true);
								 Thread.sleep(1000);
								 li212.setVisible(false);
								 li212.setIcon(g2);
								 li212.setVisible(true);
								 funcn7(s,len,mac,sip,dname,dip);
							 }
							 
							 
						 
						 }
					 }
					 
					 
					 
					 
				 }
				 else if(tn12<tn8&&tn12<tn10)
				 {
					 
					 li27.setVisible(false);
					 li27.setIcon(g4);
					 li27.setVisible(true);
					 
					 Thread.sleep(1000);
					 
					 
					 
					 Statement stmtn5 = con.createStatement();
					 String sqln5 = "select * from Nodesinfo where Nname='N12' and Keys='"+mac+"' and senderip='"+sip+"'";
					 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
					 
					 if(rsn5.next()==true)
					 {
						 String bw28=rsn5.getString(4);
						 
						 int bw38=Integer.parseInt(bw28);
						 
						 if(len<bw38)
						 { 
							 
							 lbn12.setVisible(false);
							 lbn12.setIcon(gn12);
							 lbn12.setVisible(true);
							 
							 Thread.sleep(1000);
							 
							 tn11=r1.nextInt(50);
							 tn14=r1.nextInt(50);
							 tn13=r1.nextInt(50);
							 
							 
							 l39.setVisible(false);
							 l39.setText(Integer.toString(tn11));
							 l39.setVisible(true);
							 
							 l312.setVisible(false);
							 l312.setText(Integer.toString(tn14));
							 l312.setVisible(true);
							 
							 l310.setVisible(false);
							 l310.setText(Integer.toString(tn13));
							 l310.setVisible(true);
							 
							 Thread.sleep(1000);
							 
							 
							 
							 if(tn11<tn14&&tn11<tn13)
							 {
								 
								 li29.setVisible(false);
								 li29.setIcon(g7);
								 li29.setVisible(true);
								 
								 Thread.sleep(1000);
								 
								 
								 Statement stmtn4 = con.createStatement();
								 String sqln4 = "select * from Nodesinfo where Nname='N11' and Keys='"+mac+"' and senderip='"+sip+"'";
								 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
								 
								 if(rsn4.next()==true)
								 {
									 String bw29=rsn4.getString(4);
									 
									 int bw39=Integer.parseInt(bw29);
									 
									 if(len<bw39)
									 { 
										 lbn11.setVisible(false);
										 lbn11.setIcon(gn11);
										 lbn11.setVisible(true);
										 Thread.sleep(1000);
										 
										 li211.setVisible(false);
										 li211.setIcon(g5);
										 li211.setVisible(true);
										
										 funcn7(s,len,mac,sip,dname,dip);
									 }
									 else
									 {
										//evasdropper in node11
										 
										 lbn11.setVisible(false);
											lbn11.setIcon(rn4);
											lbn11.setVisible(true);
										 
										 Thread.sleep(1000);
										 Statement stu1 = con.createStatement();
										 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N11'";
										 stu1.executeUpdate(sqlu1);
										 
										 Socket sc1=new Socket("localhost",2014);
										 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
										 dout.writeUTF("N11");
										 dout.writeUTF(bw29);
										
										 DataInputStream din1=new DataInputStream(sc1.getInputStream());
										 String msg=din1.readUTF();
										 if(msg.equalsIgnoreCase("success"))
										 {
											 JOptionPane.showMessageDialog(null,"Traffic Occurs in N11");
										 }
										 
										 li29.setVisible(false);
										 li29.setIcon(g7);
										 li29.setVisible(true);
										 Thread.sleep(1000);
										 lbn12.setVisible(false);
										 lbn12.setIcon(gn12);
										 lbn12.setVisible(true);
										 Thread.sleep(1000);
										 li212.setVisible(false);
										 li212.setIcon(g2);
										 li212.setVisible(true);
										 funcn7(s,len,mac,sip,dname,dip);
										 
									 }
								 }
								 else  if(rsn4.next()==false)
								 {
									 
									 lbn11.setVisible(false);
										lbn11.setIcon(rn4);
										lbn11.setVisible(true);
										Thread.sleep(1000);
										 Statement stu1 = con.createStatement();
										 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N11'";
										 stu1.executeUpdate(sqlu1);
									 Socket sc1=new Socket("localhost",2015);
									 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
									 dout.writeUTF("N11");
									 String cip4=rsn4.getString(2);
									 dout.writeUTF(cip4);
									 DataInputStream din1=new DataInputStream(sc1.getInputStream());
									 String msg=din1.readUTF();
									 if(msg.equalsIgnoreCase("success"))
									 {
										 JOptionPane.showMessageDialog(null,"Malicious Attacker in N11");
									 }
									 li29.setVisible(false);
									 li29.setIcon(g7);
									 li29.setVisible(true);
									 Thread.sleep(1000);
									 lbn12.setVisible(false);
									 lbn12.setIcon(gn12);
									 lbn12.setVisible(true);
									 Thread.sleep(1000);
									 li212.setVisible(false);
									 li212.setIcon(g2);
									 li212.setVisible(true);
									 funcn7(s,len,mac,sip,dname,dip);
								 }
								 
								 
								 
								 
							 }
							 else if(tn14<tn11&&tn14<tn13)
							 {
								 
								 li212.setVisible(false);
								 li212.setIcon(g2);
								 li212.setVisible(true);
								 
								 Thread.sleep(1000);
								 
								 funcn7(s,len,mac,sip,dname,dip);
							 }
							 else if(tn13<tn11&&tn13<tn14)
							 {
								 
								 li210.setVisible(false);
								 li210.setIcon(g7);
								 li210.setVisible(true);
								 
								 Thread.sleep(1000);
								 
								 Statement stmtn6 = con.createStatement();
								 String sqln6 = "select * from Nodesinfo where Nname='N13' and Keys='"+mac+"' and senderip='"+sip+"'";
								 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
								 
								 if(rsn6.next()==true)
								 {
									 String bw30=rsn6.getString(4);
									 
									 int bw40=Integer.parseInt(bw30);
									 
									 if(len<bw40)
									 { 
										 lbn13.setVisible(false);
										 lbn13.setIcon(gn13);
										 lbn13.setVisible(true);
										 Thread.sleep(1000);
										 li213.setVisible(false);
										 li213.setIcon(g6);
										 li213.setVisible(true);
										 funcn7(s,len,mac,sip,dname,dip);
									 }
									 else
									 {
										//evasdropper in node13
										 
										 lbn13.setVisible(false);
											lbn13.setIcon(rn6);
											lbn13.setVisible(true);
										 
										 Thread.sleep(1000);
										 Statement stu1 = con.createStatement();
										 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N13'";
										 stu1.executeUpdate(sqlu1);
										 
										 Socket sc1=new Socket("localhost",2014);
										 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
										 dout.writeUTF("N13");
										 dout.writeUTF(bw30);
										
										 DataInputStream din1=new DataInputStream(sc1.getInputStream());
										 String msg=din1.readUTF();
										 if(msg.equalsIgnoreCase("success"))
										 {
											 JOptionPane.showMessageDialog(null,"Traffic Occurs in N13");
										 }
										 
										 li210.setVisible(false);
										 li210.setIcon(g7);
										 li210.setVisible(true);
										 Thread.sleep(1000);
										 lbn12.setVisible(false);
										 lbn12.setIcon(gn12);
										 lbn12.setVisible(true);
										 Thread.sleep(1000);
										 li212.setVisible(false);
										 li212.setIcon(g2);
										 li212.setVisible(true);
										 funcn7(s,len,mac,sip,dname,dip);
										
										
										 
									 }
								 }
								 else  if(rsn6.next()==false)
								 {
									 
									 lbn13.setVisible(false);
										lbn13.setIcon(rn6);
										lbn13.setVisible(true);
										Thread.sleep(1000);
										 Statement stu1 = con.createStatement();
										 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N13'";
										 stu1.executeUpdate(sqlu1);
									 Socket sc1=new Socket("localhost",2015);
									 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
									 dout.writeUTF("N13");
									 String cip6=rsn6.getString(2);
									 dout.writeUTF(cip6);
									 DataInputStream din1=new DataInputStream(sc1.getInputStream());
									 String msg=din1.readUTF();
									 if(msg.equalsIgnoreCase("success"))
									 {
										 JOptionPane.showMessageDialog(null,"Malicious Attacker in N13");
									 }
									 li210.setVisible(false);
									 li210.setIcon(g7);
									 li210.setVisible(true);
									 Thread.sleep(1000);
									 lbn12.setVisible(false);
									 lbn12.setIcon(gn12);
									 lbn12.setVisible(true);
									 Thread.sleep(1000);
									 li212.setVisible(false);
									 li212.setIcon(g2);
									 li212.setVisible(true);
									 funcn7(s,len,mac,sip,dname,dip);
								 }
							 
							 }
							 
							 
							 
							 
						 }
						 else 
						 {
							 //evasdropper in node12
							 
							 lbn12.setVisible(false);
								lbn12.setIcon(rn5);
								lbn12.setVisible(true);
							 
							 Thread.sleep(1000);
							 Statement stu1 = con.createStatement();
							 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N12'";
							 stu1.executeUpdate(sqlu1);
							 
							 Socket sc1=new Socket("localhost",2014);
							 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
							 dout.writeUTF("N12");
							 dout.writeUTF(bw28);
							
							 DataInputStream din1=new DataInputStream(sc1.getInputStream());
							 String msg=din1.readUTF();
							 if(msg.equalsIgnoreCase("success"))
							 {
								 JOptionPane.showMessageDialog(null,"Traffic Occurs in N12");
							 }
							 
							 li29.setVisible(false);
							 li29.setIcon(g7);
							 li29.setVisible(true);
							 Thread.sleep(1000);
							 lbn11.setVisible(false);
							 lbn11.setIcon(gn11);
							 lbn11.setVisible(true);
							 Thread.sleep(1000);
							 li211.setVisible(false);
							 li211.setIcon(g5);
							 li211.setVisible(true);
							 funcn7(s,len,mac,sip,dname,dip);
							 
						 }
						 
						 
					 }else  if(rsn5.next()==false)
					 {
						 
						 lbn12.setVisible(false);
							lbn12.setIcon(rn5);
							lbn12.setVisible(true);
							Thread.sleep(1000);
							 Statement stu1 = con.createStatement();
							 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N12'";
							 stu1.executeUpdate(sqlu1);
						 Socket sc1=new Socket("localhost",2015);
						 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
						 dout.writeUTF("N12");
						 String cip5=rsn5.getString(2);
						 dout.writeUTF(cip5);
						 DataInputStream din1=new DataInputStream(sc1.getInputStream());
						 String msg=din1.readUTF();
						 if(msg.equalsIgnoreCase("success"))
						 {
							 JOptionPane.showMessageDialog(null,"Malicious Attacker in N12");
						 }
						 li29.setVisible(false);
						 li29.setIcon(g7);
						 li29.setVisible(true);
						 Thread.sleep(1000);
						 lbn11.setVisible(false);
						 lbn11.setIcon(gn11);
						 lbn11.setVisible(true);
						 Thread.sleep(1000);
						 li211.setVisible(false);
						 li211.setIcon(g5);
						 li211.setVisible(true);
						 funcn7(s,len,mac,sip,dname,dip);
					 }
					 
					 
					 
					 
				 }
				 else if(tn10<tn12&&tn10<tn8)
				 {
					 
					 li25.setVisible(false);
					 li25.setIcon(g7);
					 li25.setVisible(true);
					 
					 Thread.sleep(1000);
					 
					 
					 Statement stmtn3 = con.createStatement();
					 String sqln3 = "select * from Nodesinfo where Nname='N10' and Keys='"+mac+"' and senderip='"+sip+"'";
					 ResultSet rsn3 = stmtn3.executeQuery(sqln3);
					 
					 if(rsn3.next()==true)
					 {
						 String bw41=rsn3.getString(4);
						 
						 int bw51=Integer.parseInt(bw41);
						 
						 if(len<bw51)
						 { 
							 lbn10.setVisible(false);
							 lbn10.setIcon(gn10);
							 lbn10.setVisible(true);
							 Thread.sleep(1000);
							 
							 li28.setVisible(false);
							 li28.setIcon(g4);
							 li28.setVisible(true);
							 
							 Thread.sleep(1000);
							 
							 Statement stmtn6 = con.createStatement();
							 String sqln6 = "select * from Nodesinfo where Nname='N13' and Keys='"+mac+"' and senderip='"+sip+"'";
							 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
							 
							 if(rsn6.next()==true)
							 {
								 String bw42=rsn6.getString(4);
								 
								 int bw52=Integer.parseInt(bw42);
								 
								 if(len<bw52)
								 { 
									 
									 lbn13.setVisible(false);
									 lbn13.setIcon(gn13);
									 lbn13.setVisible(true);
									 
									 Thread.sleep(1000);
									 
									tn12=r1.nextInt(50);
									tn14=r1.nextInt(50);
									
									l310.setVisible(false);
									l310.setText(Integer.toString(tn12));
									l310.setVisible(true);
									
									l313.setVisible(false);
									l313.setText(Integer.toString(tn14));
									l313.setVisible(true);
									
									Thread.sleep(1000);
									
									
									
									if(tn12<tn14)
									{
										li210.setVisible(false);
										li210.setIcon(g7);
										li210.setVisible(true);
										
										Thread.sleep(1000);
										
										
										 Statement stmtn5 = con.createStatement();
										 String sqln5 = "select * from Nodesinfo where Nname='N12' and Keys='"+mac+"' and senderip='"+sip+"'";
										 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
										 
										 if(rsn5.next()==true)
										 {
											 String bw43=rsn5.getString(4);
											 
											 int bw53=Integer.parseInt(bw43);
											 
											 if(len<bw53)
											 { 
												 
												 lbn12.setVisible(false);
												 lbn12.setIcon(gn12);
												 lbn12.setVisible(true);
												 
												 Thread.sleep(1000);
												
												tn14=r1.nextInt(50);
												tn11=r1.nextInt(50);
												
												l312.setVisible(false);
												l312.setText(Integer.toString(tn14));
												l312.setVisible(true);
												
												l39.setVisible(false);
												l39.setText(Integer.toString(tn11));
												l39.setVisible(true);
												
												Thread.sleep(1000);
												
												if(tn14<tn11)
												{
													li212.setVisible(false);
													li212.setIcon(g2);
													li212.setVisible(true);
													
													Thread.sleep(1000);
													
													funcn7(s,len,mac,sip,dname,dip);
												}
												else if(tn11<tn14)
												{
													
													li29.setVisible(false);
													li29.setIcon(g7);
													li29.setVisible(true);
													
													Thread.sleep(1000);
													
													Statement stmtn4 = con.createStatement();
													 String sqln4 = "select * from Nodesinfo where Nname='N11' and Keys='"+mac+"' and senderip='"+sip+"'";
													 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
													 
													 if(rsn4.next()==true)
													 {
														 String bw44=rsn4.getString(4);
														 
														 int bw54=Integer.parseInt(bw44);
														 
														 if(len<bw54)
														 { 
															 
															 lbn11.setVisible(false);
															 lbn11.setIcon(gn11);
															 lbn11.setVisible(true);
															 
															 Thread.sleep(1000);
															 
															 li211.setVisible(false);
															 li211.setIcon(g5);
															 li211.setVisible(true);
															 
															 Thread.sleep(1000);
															 
															 
															 funcn7(s,len,mac,sip,dname,dip);
														 
														 }
														 else 
														 {
																//evasdropper in node11
																 
																 lbn11.setVisible(false);
																	lbn11.setIcon(rn4);
																	lbn11.setVisible(true);
																 
																 Thread.sleep(1000);
																 Statement stu1 = con.createStatement();
																 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N11'";
																 stu1.executeUpdate(sqlu1);
																 
																 Socket sc1=new Socket("localhost",2014);
																 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																 dout.writeUTF("N11");
																 dout.writeUTF(bw44);
																
																 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																 String msg=din1.readUTF();
																 if(msg.equalsIgnoreCase("success"))
																 {
																	 JOptionPane.showMessageDialog(null,"Traffic Occurs in N11");
																 }
																 
																 li29.setVisible(false);
																 li29.setIcon(g7);
																 li29.setVisible(true);
																 Thread.sleep(1000);
																 lbn12.setVisible(false);
																 lbn12.setIcon(gn12);
																 lbn12.setVisible(true);
																 Thread.sleep(1000);
																 li212.setVisible(false);
																 li212.setIcon(g2);
																 li212.setVisible(true);
																 funcn7(s,len,mac,sip,dname,dip);
																 
															 }
														 }
														 else  if(rsn4.next()==false)
														 {
															 
															 lbn11.setVisible(false);
																lbn11.setIcon(rn4);
																lbn11.setVisible(true);
																Thread.sleep(1000);
																 Statement stu1 = con.createStatement();
																 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N11'";
																 stu1.executeUpdate(sqlu1);
															 Socket sc1=new Socket("localhost",2015);
															 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
															 dout.writeUTF("N11");
															 String cip4=rsn4.getString(2);
															 dout.writeUTF(cip4);
															 DataInputStream din1=new DataInputStream(sc1.getInputStream());
															 String msg=din1.readUTF();
															 if(msg.equalsIgnoreCase("success"))
															 {
																 JOptionPane.showMessageDialog(null,"Malicious Attacker in N11");
															 }
															 li29.setVisible(false);
															 li29.setIcon(g7);
															 li29.setVisible(true);
															 Thread.sleep(1000);
															 lbn12.setVisible(false);
															 lbn12.setIcon(gn12);
															 lbn12.setVisible(true);
															 Thread.sleep(1000);
															 li212.setVisible(false);
															 li212.setIcon(g2);
															 li212.setVisible(true);
															 funcn7(s,len,mac,sip,dname,dip);
														 }
													
												}
												
												
											 }
											 else 
											 {
												 //evasdropper in node12
												 
												 lbn12.setVisible(false);
													lbn12.setIcon(rn5);
													lbn12.setVisible(true);
												 
												 Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N12'";
												 stu1.executeUpdate(sqlu1);
												 
												 Socket sc1=new Socket("localhost",2014);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N12");
												 dout.writeUTF(bw43);
												
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Traffic Occurs in N12");
												 }
												 
												 li29.setVisible(false);
												 li29.setIcon(g7);
												 li29.setVisible(true);
												 Thread.sleep(1000);
												 lbn11.setVisible(false);
												 lbn11.setIcon(gn11);
												 lbn11.setVisible(true);
												 Thread.sleep(1000);
												 li211.setVisible(false);
												 li211.setIcon(g5);
												 li211.setVisible(true);
												 funcn7(s,len,mac,sip,dname,dip);
												 
											 }
											 
											 
										 }else  if(rsn5.next()==false)
										 {
											 
											 lbn12.setVisible(false);
												lbn12.setIcon(rn5);
												lbn12.setVisible(true);
												Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N12'";
												 stu1.executeUpdate(sqlu1);
											 Socket sc1=new Socket("localhost",2015);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N12");
											 String cip5=rsn5.getString(2);
											 dout.writeUTF(cip5);
											 DataInputStream din1=new DataInputStream(sc1.getInputStream());
											 String msg=din1.readUTF();
											 if(msg.equalsIgnoreCase("success"))
											 {
												 JOptionPane.showMessageDialog(null,"Malicious Attacker in N12");
											 }
											 li29.setVisible(false);
											 li29.setIcon(g7);
											 li29.setVisible(true);
											 Thread.sleep(1000);
											 lbn11.setVisible(false);
											 lbn11.setIcon(gn11);
											 lbn11.setVisible(true);
											 Thread.sleep(1000);
											 li211.setVisible(false);
											 li211.setIcon(g5);
											 li211.setVisible(true);
											 funcn7(s,len,mac,sip,dname,dip);
										 }
										
										
										
										
									}
									else if(tn14<tn12)
									{
										li213.setVisible(false);
										li213.setIcon(g6);
										li213.setVisible(true);
										
										Thread.sleep(1000);
										
										
										funcn7(s,len,mac,sip,dname,dip);
									}
									
									
								 }
								 else
								 {
									//evasdropper in node13
									 
									 lbn13.setVisible(false);
										lbn13.setIcon(rn6);
										lbn13.setVisible(true);
									 
									 Thread.sleep(1000);
									 Statement stu1 = con.createStatement();
									 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N13'";
									 stu1.executeUpdate(sqlu1);
									 
									 Socket sc1=new Socket("localhost",2014);
									 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
									 dout.writeUTF("N13");
									 dout.writeUTF(bw42);
									
									 DataInputStream din1=new DataInputStream(sc1.getInputStream());
									 String msg=din1.readUTF();
									 if(msg.equalsIgnoreCase("success"))
									 {
										 JOptionPane.showMessageDialog(null,"Traffic Occurs in N13");
									 }
									 
									 li28.setVisible(false);
									 li28.setIcon(g4);
									 li28.setVisible(true);
									 Thread.sleep(1000);
									 lbn10.setVisible(false);
									 lbn10.setIcon(gn10);
									 lbn10.setVisible(true);
									 Thread.sleep(1000);
									 li25.setVisible(false);
									 li25.setIcon(g7);
									 li25.setVisible(true);
									 lbn9.setVisible(false);
									 lbn9.setIcon(gn9);
									 lbn9.setVisible(true);
									 Thread.sleep(1000);
									 li27.setVisible(false);
									 li27.setIcon(g4);
									 li27.setVisible(true);
									 Thread.sleep(1000);
									 lbn12.setVisible(false);
									 lbn12.setIcon(gn12);
									 lbn12.setVisible(true);
									 Thread.sleep(1000);
									 li212.setVisible(false);
									 li212.setIcon(g2);
									 li212.setVisible(true);
									 funcn7(s,len,mac,sip,dname,dip);
									
									
									
									 
								 }
							 }
							 else  if(rsn6.next()==false)
							 {
								 
								 lbn13.setVisible(false);
									lbn13.setIcon(rn6);
									lbn13.setVisible(true);
									Thread.sleep(1000);
									 Statement stu1 = con.createStatement();
									 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N13'";
									 stu1.executeUpdate(sqlu1);
								 Socket sc1=new Socket("localhost",2015);
								 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
								 dout.writeUTF("N13");
								 String cip6=rsn6.getString(2);
								 dout.writeUTF(cip6);
								 DataInputStream din1=new DataInputStream(sc1.getInputStream());
								 String msg=din1.readUTF();
								 if(msg.equalsIgnoreCase("success"))
								 {
									 JOptionPane.showMessageDialog(null,"Malicious Attacker in N13");
								 }
								 li28.setVisible(false);
								 li28.setIcon(g4);
								 li28.setVisible(true);
								 Thread.sleep(1000);
								 lbn10.setVisible(false);
								 lbn10.setIcon(gn10);
								 lbn10.setVisible(true);
								 Thread.sleep(1000);
								 li25.setVisible(false);
								 li25.setIcon(g7);
								 li25.setVisible(true);
								 lbn9.setVisible(false);
								 lbn9.setIcon(gn9);
								 lbn9.setVisible(true);
								 Thread.sleep(1000);
								 li27.setVisible(false);
								 li27.setIcon(g4);
								 li27.setVisible(true);
								 Thread.sleep(1000);
								 lbn12.setVisible(false);
								 lbn12.setIcon(gn12);
								 lbn12.setVisible(true);
								 Thread.sleep(1000);
								 li212.setVisible(false);
								 li212.setIcon(g2);
								 li212.setVisible(true);
								 funcn7(s,len,mac,sip,dname,dip);
							 }
						 
							 
						 }
						 else 
						 {
							 //evasdropper in node10
							 
							 
							 lbn10.setVisible(false);
								lbn10.setIcon(rn3);
								lbn10.setVisible(true);
							 
							 Thread.sleep(1000);
							 Statement stu1 = con.createStatement();
							 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N10'";
							 stu1.executeUpdate(sqlu1);
							 
							 Socket sc1=new Socket("localhost",2014);
							 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
							 dout.writeUTF("N10");
							 dout.writeUTF(bw41);
							
							 DataInputStream din1=new DataInputStream(sc1.getInputStream());
							 String msg=din1.readUTF();
							 if(msg.equalsIgnoreCase("success"))
							 {
								 JOptionPane.showMessageDialog(null,"Traffic Occurs in N10");
							 }
							 
							
							 li25.setVisible(false);
							 li25.setIcon(g7);
							 li25.setVisible(true);
							 Thread.sleep(1000);
							 lbn9.setVisible(false);
							 lbn9.setIcon(gn9);
							 lbn9.setVisible(true);
							 Thread.sleep(1000);
							 li27.setVisible(false);
							 li27.setIcon(g4);
							 li27.setVisible(true);
							 Thread.sleep(1000);
							 lbn12.setVisible(false);
							 lbn12.setIcon(gn12);
							 lbn12.setVisible(true);
							 Thread.sleep(1000);
							 li212.setVisible(false);
							 li212.setIcon(g2);
							 li212.setVisible(true);
							 funcn7(s,len,mac,sip,dname,dip);
							
							
							
							 
						 }
					 }
					 else  if(rsn3.next()==false)
					 {
						 
						 lbn10.setVisible(false);
							lbn10.setIcon(rn3);
							lbn10.setVisible(true);
							Thread.sleep(1000);
							 Statement stu1 = con.createStatement();
							 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N10'";
							 stu1.executeUpdate(sqlu1);
						 Socket sc1=new Socket("localhost",2015);
						 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
						 dout.writeUTF("N10");
						 String cip3=rsn3.getString(2);
						 dout.writeUTF(cip3);
						 DataInputStream din1=new DataInputStream(sc1.getInputStream());
						 String msg=din1.readUTF();
						 if(msg.equalsIgnoreCase("success"))
						 {
							 JOptionPane.showMessageDialog(null,"Malicious Attacker in N10");
						 }
						 
						 li25.setVisible(false);
						 li25.setIcon(g7);
						 li25.setVisible(true);
						 Thread.sleep(1000);
						 lbn9.setVisible(false);
						 lbn9.setIcon(gn9);
						 lbn9.setVisible(true);
						 Thread.sleep(1000);
						 li27.setVisible(false);
						 li27.setIcon(g4);
						 li27.setVisible(true);
						 Thread.sleep(1000);
						 lbn12.setVisible(false);
						 lbn12.setIcon(gn12);
						 lbn12.setVisible(true);
						 Thread.sleep(1000);
						 li212.setVisible(false);
						 li212.setIcon(g2);
						 li212.setVisible(true);
						 funcn7(s,len,mac,sip,dname,dip);
					 }
				 }
				 
				 
			 }
			 else 
			 {
				 //evasdropper in node9
				 
				 
				 lbn9.setVisible(false);
					lbn9.setIcon(rn2);
					lbn9.setVisible(true);
				 
				 Thread.sleep(1000);
				 Statement stu1 = con.createStatement();
				 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N9'";
				 stu1.executeUpdate(sqlu1);
				 
				 Socket sc1=new Socket("localhost",2014);
				 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
				 dout.writeUTF("N9");
				 dout.writeUTF(bw23);
				
				 DataInputStream din1=new DataInputStream(sc1.getInputStream());
				 String msg=din1.readUTF();
				 if(msg.equalsIgnoreCase("success"))
				 {
					 JOptionPane.showMessageDialog(null,"Traffic Occurs in N9");
				 }
				 
				
				 li24.setVisible(false);
				 li24.setIcon(g7);
				 li24.setVisible(true);
				 Thread.sleep(1000);
				 lbn8.setVisible(false);
				 lbn8.setIcon(gn8);
				 lbn8.setVisible(true);
				 Thread.sleep(1000);
				 li26.setVisible(false);
				 li26.setIcon(g4);
				 li26.setVisible(true);
				 Thread.sleep(1000);
				 lbn11.setVisible(false);
				 lbn11.setIcon(gn11);
				 lbn11.setVisible(true);
				 Thread.sleep(1000);
				 li211.setVisible(false);
				 li211.setIcon(g5);
				 li211.setVisible(true);
				 funcn7(s,len,mac,sip,dname,dip);
				
				
				
				 
			 }
		 }
		 else  if(rsn2.next()==false)
		 {
			 lbn9.setVisible(false);
				lbn9.setIcon(rn2);
				lbn9.setVisible(true);
				Thread.sleep(1000);
				 Statement stu1 = con.createStatement();
				 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N9'";
				 stu1.executeUpdate(sqlu1);
			 Socket sc1=new Socket("localhost",2015);
			 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
			 dout.writeUTF("N9");
			 String cip2=rsn2.getString(2);
			 dout.writeUTF(cip2);
			 DataInputStream din1=new DataInputStream(sc1.getInputStream());
			 String msg=din1.readUTF();
			 if(msg.equalsIgnoreCase("success"))
			 {
				 JOptionPane.showMessageDialog(null,"Malicious Attacker in N9");
			 }
			 
			 li24.setVisible(false);
			 li24.setIcon(g7);
			 li24.setVisible(true);
			 Thread.sleep(1000);
			 lbn8.setVisible(false);
			 lbn8.setIcon(gn8);
			 lbn8.setVisible(true);
			 Thread.sleep(1000);
			 li26.setVisible(false);
			 li26.setIcon(g4);
			 li26.setVisible(true);
			 Thread.sleep(1000);
			 lbn11.setVisible(false);
			 lbn11.setIcon(gn11);
			 lbn11.setVisible(true);
			 Thread.sleep(1000);
			 li211.setVisible(false);
			 li211.setIcon(g5);
			 li211.setVisible(true);
			 funcn7(s,len,mac,sip,dname,dip);
		 }
		 
		 
		 
		 
	 }//************************Node2 ends here
	 
	 
	 
	 else if(tn10<tn8 && tn10<tn9)
	 {
		//node10
		 
		 li23.setVisible(false);
		 li23.setIcon(g3);
		 li23.setVisible(true);
		 
		 Thread.sleep(1000);
		 
		 
		 
		 Statement stmtn3 = con.createStatement();
		 String sqln3 = "select * from Nodesinfo where Nname='N10' and Keys='"+mac+"' and senderip='"+sip+"'";
		 ResultSet rsn3 = stmtn3.executeQuery(sqln3);
		 
		 if(rsn3.next()==true)
		 {
			 String bw45=rsn3.getString(4);
			 
			 int bw55=Integer.parseInt(bw45);
			 
			 if(len<bw55)
			 { 
				 
				 lbn10.setVisible(false);
					lbn10.setIcon(gn10);
					lbn10.setVisible(true);
				 
				 Thread.sleep(1000);
				 
				tn9=r1.nextInt(50);
				tn13=r1.nextInt(50);
				
				l35.setVisible(false);
				l35.setText(Integer.toString(tn9));
				l35.setVisible(true);
				
				l38.setVisible(false);
				l38.setText(Integer.toString(tn13));
				l38.setVisible(true);
				
				Thread.sleep(1000);
				
				
				
				if(tn9<tn13)
				{ 
					
					li25.setVisible(false);
					li25.setIcon(g7);
					li25.setVisible(true);
					
					Thread.sleep(1000);
					
					
					
					Statement stmtn2 = con.createStatement();
				 String sqln2 = "select * from Nodesinfo where Nname='N9' and Keys='"+mac+"' and senderip='"+sip+"'";
				 ResultSet rsn2 = stmtn2.executeQuery(sqln2);
				 
				 if(rsn2.next()==true)
				 {
					 String bw46=rsn2.getString(4);
					 
					 int bw56=Integer.parseInt(bw46);
					 
					 if(len<bw56)
					 { 
						 
						 lbn9.setVisible(false);
							lbn9.setIcon(gn9);
							lbn9.setVisible(true);
						 
						 
						 Thread.sleep(1000);
					
						tn12=r1.nextInt(50);
						tn8=r1.nextInt(50);
						
						l37.setVisible(false);
						l37.setText(Integer.toString(tn12));
						l37.setVisible(true);
						
						l34.setVisible(false);
						l34.setText(Integer.toString(tn8));
						l34.setVisible(true);
						
						Thread.sleep(1000);
						
						
						
						if(tn12<tn8)
						{
							li27.setVisible(false);
							li27.setIcon(g4);
							li27.setVisible(true);
							
							Thread.sleep(1000);

							 Statement stmtn5 = con.createStatement();
							 String sqln5 = "select * from Nodesinfo where Nname='N12' and Keys='"+mac+"' and senderip='"+sip+"'";
							 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
							 
							 if(rsn5.next()==true)
							 {
								 String bw47=rsn5.getString(4);
								 
								 int bw57=Integer.parseInt(bw47);
								 
								 if(len<bw57)
								 { 
									 
									 lbn12.setVisible(false);
										lbn12.setIcon(gn12);
										lbn12.setVisible(true);
									 
									 Thread.sleep(1000);

									 
									 tn11=r1.nextInt(50);
									 tn14=r1.nextInt(50);
									 tn13=r1.nextInt(50);
									 
									 l39.setVisible(false);
									 l39.setText(Integer.toString(tn11));
									 l39.setVisible(true);
									 
									 l312.setVisible(false);
									 l312.setText(Integer.toString(tn14));
									 l312.setVisible(true);
									 
									 l310.setVisible(false);
									 l310.setText(Integer.toString(tn13));
									 l310.setVisible(true);
									 
									 Thread.sleep(1000);

									 
									 
									 if(tn11<tn14&&tn11<tn13)
									 {
										 li29.setVisible(false);
										 li29.setIcon(g7);
										 li29.setVisible(true);


										 Thread.sleep(1000);

										 Statement stmtn4 = con.createStatement();
										 String sqln4 = "select * from Nodesinfo where Nname='N11' and Keys='"+mac+"' and senderip='"+sip+"'";
										 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
										 
										 if(rsn4.next()==true)
										 {
											 String bw48=rsn4.getString(4);
											 
											 int bw58=Integer.parseInt(bw48);
											 
											 if(len<bw58)
											 { 
												 lbn11.setVisible(false);
													lbn11.setIcon(gn11);
													lbn11.setVisible(true);
												 
												 Thread.sleep(1000);

												 li211.setVisible(false);
												 li211.setIcon(g5);
												 li211.setVisible(true);

												 
												 funcn7(s,len,mac,sip,dname,dip);
											 }
											 else
											 {
												//evasdropper in node12
												 lbn12.setVisible(false);
													lbn12.setIcon(rn5);
													lbn12.setVisible(true);
												 
												 Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N12'";
												 stu1.executeUpdate(sqlu1);
												 
												 Socket sc1=new Socket("localhost",2014);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N12");
												 dout.writeUTF(bw48);
												
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Traffic Occurs in N12");
												 }
												 
												 li27.setVisible(false);
												 li27.setIcon(g4);
												 li27.setVisible(true);
												 Thread.sleep(1000);
												 lbn9.setVisible(false);
												 lbn9.setIcon(gn9);
												 lbn9.setVisible(true);
												 Thread.sleep(1000);
												 li24.setVisible(false);
												 li24.setIcon(g7);
												 li24.setVisible(true);
												 Thread.sleep(1000);
												 lbn8.setVisible(false);
												 lbn8.setIcon(gn8);
												 lbn8.setVisible(true);
												 Thread.sleep(1000);
												 li26.setVisible(false);
												 li26.setIcon(g4);
												 li26.setVisible(true);
												 Thread.sleep(1000);
												 lbn11.setVisible(false);
												 lbn11.setIcon(gn11);
												 lbn11.setVisible(true);
												 Thread.sleep(1000);
												 li211.setVisible(false);
												 li211.setIcon(g5);
												 li211.setVisible(true);
												 funcn7(s,len,mac,sip,dname,dip);
												 
											 }
											 
											 
										 }else  if(rsn5.next()==false)
										 {
											 
											 lbn12.setVisible(false);
												lbn12.setIcon(rn5);
												lbn12.setVisible(true);
												Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N12'";
												 stu1.executeUpdate(sqlu1);
											 Socket sc1=new Socket("localhost",2015);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N12");
											 String cip5=rsn5.getString(2);
											 dout.writeUTF(cip5);
											 DataInputStream din1=new DataInputStream(sc1.getInputStream());
											 String msg=din1.readUTF();
											 if(msg.equalsIgnoreCase("success"))
											 {
												 JOptionPane.showMessageDialog(null,"Malicious Attacker in N12");
											 }
											 li27.setVisible(false);
											 li27.setIcon(g4);
											 li27.setVisible(true);
											 Thread.sleep(1000);
											 lbn9.setVisible(false);
											 lbn9.setIcon(gn9);
											 lbn9.setVisible(true);
											 Thread.sleep(1000);
											 li24.setVisible(false);
											 li24.setIcon(g7);
											 li24.setVisible(true);
											 Thread.sleep(1000);
											 lbn8.setVisible(false);
											 lbn8.setIcon(gn8);
											 lbn8.setVisible(true);
											 Thread.sleep(1000);
											 li26.setVisible(false);
											 li26.setIcon(g4);
											 li26.setVisible(true);
											 Thread.sleep(1000);
											 lbn11.setVisible(false);
											 lbn11.setIcon(gn11);
											 lbn11.setVisible(true);
											 Thread.sleep(1000);
											 li211.setVisible(false);
											 li211.setIcon(g5);
											 li211.setVisible(true);
											 funcn7(s,len,mac,sip,dname,dip);
										 }
										 
										 
										 
										 
									 }
									 else if(tn14<tn11&&tn14<tn13)
									 {
										 li212.setVisible(false);
										 li212.setIcon(g2);
										 li212.setVisible(true);
										 
										 Thread.sleep(1000);

										 
										 
										 funcn7(s,len,mac,sip,dname,dip);
									 }
									 else if(tn13<tn11&&tn13<tn14)
									 {
										 li210.setVisible(false);
										 li210.setIcon(g7);
										 li210.setVisible(true);
										 
										 Thread.sleep(1000);

										 
										 
										 Statement stmtn6 = con.createStatement();
										 String sqln6 = "select * from Nodesinfo where Nname='N13' and Keys='"+mac+"' and senderip='"+sip+"'";
										 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
										 
										 if(rsn6.next()==true)
										 {
											 String bw49=rsn6.getString(4);
											 
											 int bw59=Integer.parseInt(bw49);
											 
											 if(len<bw59)
											 { 
												 lbn13.setVisible(false);
												 lbn13.setIcon(gn13);
												 lbn13.setVisible(true);
												 Thread.sleep(1000);
												 
												 li213.setVisible(false);
												 li213.setIcon(g6);
												 li213.setVisible(true);
												 
												 Thread.sleep(1000);

												 
												 
												 funcn7(s,len,mac,sip,dname,dip);
											 }
											 else
											 {
												//evasdropper in node13
												 
												 lbn13.setVisible(false);
													lbn13.setIcon(rn6);
													lbn13.setVisible(true);
												 
												 Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N13'";
												 stu1.executeUpdate(sqlu1);
												 
												 Socket sc1=new Socket("localhost",2014);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N13");
												 dout.writeUTF(bw49);
												
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Traffic Occurs in N13");
												 }
												 
												 
												 li210.setVisible(false);
												 li210.setIcon(g7);
												 li210.setVisible(true);
												 Thread.sleep(1000);
												 lbn12.setVisible(false);
												 lbn12.setIcon(gn12);
												 lbn12.setVisible(true);
												 Thread.sleep(1000);
												 li212.setVisible(false);
												 li212.setIcon(g2);
												 li212.setVisible(true);
												 funcn7(s,len,mac,sip,dname,dip);
												
												
												
												 
											 }
										 }
										 else  if(rsn6.next()==false)
										 {
											 
											 lbn13.setVisible(false);
												lbn13.setIcon(rn6);
												lbn13.setVisible(true);
												Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N13'";
												 stu1.executeUpdate(sqlu1);
											 Socket sc1=new Socket("localhost",2015);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N13");
											 String cip6=rsn6.getString(2);
											 dout.writeUTF(cip6);
											 DataInputStream din1=new DataInputStream(sc1.getInputStream());
											 String msg=din1.readUTF();
											 if(msg.equalsIgnoreCase("success"))
											 {
												 JOptionPane.showMessageDialog(null,"Malicious Attacker in N13");
											 }
											 li210.setVisible(false);
											 li210.setIcon(g7);
											 li210.setVisible(true);
											 Thread.sleep(1000);
											 lbn12.setVisible(false);
											 lbn12.setIcon(gn12);
											 lbn12.setVisible(true);
											 Thread.sleep(1000);
											 li212.setVisible(false);
											 li212.setIcon(g2);
											 li212.setVisible(true);
											 funcn7(s,len,mac,sip,dname,dip);
										 }
									 
									 }
									 
									 
									 
									 
								 }
								 else 
								 {
									 //evasdropper in node12
									 lbn12.setVisible(false);
										lbn12.setIcon(rn5);
										lbn12.setVisible(true);
									 
									 Thread.sleep(1000);
									 Statement stu1 = con.createStatement();
									 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N12'";
									 stu1.executeUpdate(sqlu1);
									 
									 Socket sc1=new Socket("localhost",2014);
									 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
									 dout.writeUTF("N12");
									 dout.writeUTF(bw47);
									
									 DataInputStream din1=new DataInputStream(sc1.getInputStream());
									 String msg=din1.readUTF();
									 if(msg.equalsIgnoreCase("success"))
									 {
										 JOptionPane.showMessageDialog(null,"Traffic Occurs in N12");
									 }
									 
									 li27.setVisible(false);
									 li27.setIcon(g4);
									 li27.setVisible(true);
									 Thread.sleep(1000);
									 lbn9.setVisible(false);
									 lbn9.setIcon(gn9);
									 lbn9.setVisible(true);
									 Thread.sleep(1000);
									 li24.setVisible(false);
									 li24.setIcon(g7);
									 li24.setVisible(true);
									 Thread.sleep(1000);
									 lbn8.setVisible(false);
									 lbn8.setIcon(gn8);
									 lbn8.setVisible(true);
									 Thread.sleep(1000);
									 li26.setVisible(false);
									 li26.setIcon(g4);
									 li26.setVisible(true);
									 Thread.sleep(1000);
									 lbn11.setVisible(false);
									 lbn11.setIcon(gn11);
									 lbn11.setVisible(true);
									 Thread.sleep(1000);
									 li211.setVisible(false);
									 li211.setIcon(g5);
									 li211.setVisible(true);
									 funcn7(s,len,mac,sip,dname,dip);
									 
								 }
								 
								 
							 }else  if(rsn5.next()==false)
							 {
								 
								 lbn12.setVisible(false);
									lbn12.setIcon(rn5);
									lbn12.setVisible(true);
									Thread.sleep(1000);
									 Statement stu1 = con.createStatement();
									 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N12'";
									 stu1.executeUpdate(sqlu1);
								 Socket sc1=new Socket("localhost",2015);
								 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
								 dout.writeUTF("N12");
								 String cip5=rsn5.getString(2);
								 dout.writeUTF(cip5);
								 DataInputStream din1=new DataInputStream(sc1.getInputStream());
								 String msg=din1.readUTF();
								 if(msg.equalsIgnoreCase("success"))
								 {
									 JOptionPane.showMessageDialog(null,"Malicious Attacker in N12");
								 }
								 li27.setVisible(false);
								 li27.setIcon(g4);
								 li27.setVisible(true);
								 Thread.sleep(1000);
								 lbn9.setVisible(false);
								 lbn9.setIcon(gn9);
								 lbn9.setVisible(true);
								 Thread.sleep(1000);
								 li24.setVisible(false);
								 li24.setIcon(g7);
								 li24.setVisible(true);
								 Thread.sleep(1000);
								 lbn8.setVisible(false);
								 lbn8.setIcon(gn8);
								 lbn8.setVisible(true);
								 Thread.sleep(1000);
								 li26.setVisible(false);
								 li26.setIcon(g4);
								 li26.setVisible(true);
								 Thread.sleep(1000);
								 lbn11.setVisible(false);
								 lbn11.setIcon(gn11);
								 lbn11.setVisible(true);
								 Thread.sleep(1000);
								 li211.setVisible(false);
								 li211.setIcon(g5);
								 li211.setVisible(true);
								 funcn7(s,len,mac,sip,dname,dip);
							 }
							 
							 
						}
						else if(tn8<tn12)
						{
							li24.setVisible(false);
							li24.setIcon(g7);
							li24.setVisible(true);
							
							Thread.sleep(1000);
							
							
							 Statement stmtn1 = con.createStatement();
							 String sqln1 = "select * from Nodesinfo where Nname='N8' and Keys='"+mac+"' and senderip='"+sip+"'";
							 ResultSet rsn1 = stmtn1.executeQuery(sqln1);
							 
							 if(rsn1.next()==true)
							 {
								 String bw50=rsn1.getString(4);
								 
								 int bw60=Integer.parseInt(bw50);
								 
								 if(len<bw60)
								 { 
									 
									 lbn8.setVisible(false);
									 lbn8.setIcon(gn8);
									 lbn8.setVisible(true);
									 
									 Thread.sleep(1000);
									 
									 li26.setVisible(false);
									 li26.setIcon(g4);
									 li26.setVisible(true);
									 
									 Thread.sleep(1000);
									 
									 Statement stmtn4 = con.createStatement();
									 String sqln4 = "select * from Nodesinfo where Nname='N11' and Keys='"+mac+"' and senderip='"+sip+"'";
									 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
									 
									 if(rsn4.next()==true)
									 {
										 String bw61=rsn4.getString(4);
										 
										 int bw71=Integer.parseInt(bw61);
										 
										 if(len<bw71)
										 { 
											 lbn11.setVisible(false);
											 lbn11.setIcon(gn11);
											 lbn11.setVisible(true);
											 
											 Thread.sleep(1000);

											 
											 tn14=r1.nextInt(50);
											 tn12=r1.nextInt(50);
											 
											 
											 l311.setVisible(false);
											 l311.setText(Integer.toString(tn14));
											 l311.setVisible(true);
											 
											 l39.setVisible(false);
											 l39.setText(Integer.toString(tn12));
											 l39.setVisible(true);
											 
											 Thread.sleep(1000);

											 
											 
											 
											 if(tn14<tn12)
											 {
												 li211.setVisible(false);
												 li211.setIcon(g5);
												 li211.setVisible(true);
												 
												 Thread.sleep(1000);
												 
												 
												 funcn7(s,len,mac,sip,dname,dip);
											 }
											 else if(tn12<tn14)
											 {
												 li29.setVisible(false);
												 li29.setIcon(g7);
												 li29.setVisible(true);
												 
												 Thread.sleep(1000);

												 Statement stmtn5 = con.createStatement();
												 String sqln5 = "select * from Nodesinfo where Nname='N12' and Keys='"+mac+"' and senderip='"+sip+"'";
												 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
												 
												 if(rsn5.next()==true)
												 {
													 

													 
													 String bw62=rsn5.getString(4);
													 
													 int bw72=Integer.parseInt(bw62);
													 
													 if(len<bw72)
													 { 
														 lbn12.setVisible(false);
															lbn12.setIcon(gn12);
															lbn12.setVisible(true);
														 
														 Thread.sleep(1000);
														 
														 
														 tn14= r1.nextInt(50);
														 tn13=r1.nextInt(50);
														 
														 l312.setVisible(false);
														 l312.setText(Integer.toString(tn14));
														 l312.setVisible(true);
														 
														 l310.setVisible(false);
														 l310.setText(Integer.toString(tn13));
														 l310.setVisible(true);
														 
														 Thread.sleep(1000);

														 
														 
														 
														 if(tn14<tn13)
														 {
															 
															 li212.setVisible(false);
															 li212.setIcon(g2);
															 li212.setVisible(true);
															 
															 Thread.sleep(1000);

															 
															 funcn7(s,len,mac,sip,dname,dip);
														 }
														 else if(tn13<tn14)
														 {
															 
															 li210.setVisible(false);
															 li210.setIcon(g7);
															 li210.setVisible(true);
															 
															 Thread.sleep(1000);

															 
															 
															 Statement stmtn6 = con.createStatement();
															 String sqln6 = "select * from Nodesinfo where Nname='N13' and Keys='"+mac+"' and senderip='"+sip+"'";
															 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
															 
															 if(rsn6.next()==true)
															 {
																 String bw63=rsn6.getString(4);
																 
																 int bw73=Integer.parseInt(bw63);
																 
																 if(len<bw73)
																 { 
																	 lbn13.setVisible(false);
																		lbn13.setIcon(gn13);
																		lbn13.setVisible(true);
																	 
																	 Thread.sleep(1000);
																	 
																	 li213.setVisible(false);
																	 li213.setIcon(g6);
																	 li213.setVisible(true);
																	 
																	 Thread.sleep(1000);

																	 
						
																	 funcn7(s,len,mac,sip,dname,dip);
																 }
																 else 
																 {
																	 //evasdropper in node13
																	 
																	 lbn13.setVisible(false);
																		lbn13.setIcon(rn6);
																		lbn13.setVisible(true);
																	 
																	 Thread.sleep(1000);
																	 Statement stu1 = con.createStatement();
																	 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N13'";
																	 stu1.executeUpdate(sqlu1);
																	 
																	 Socket sc1=new Socket("localhost",2014);
																	 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																	 dout.writeUTF("N13");
																	 dout.writeUTF(bw63);
																	
																	 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																	 String msg=din1.readUTF();
																	 if(msg.equalsIgnoreCase("success"))
																	 {
																		 JOptionPane.showMessageDialog(null,"Traffic Occurs in N13");
																	 }
																	 
																	 
																	 li210.setVisible(false);
																	 li210.setIcon(g7);
																	 li210.setVisible(true);
																	 Thread.sleep(1000);
																	 lbn12.setVisible(false);
																	 lbn12.setIcon(gn12);
																	 lbn12.setVisible(true);
																	 Thread.sleep(1000);
																	 li212.setVisible(false);
																	 li212.setIcon(g2);
																	 li212.setVisible(true);
																	 funcn7(s,len,mac,sip,dname,dip);
																	
																	
																	
																	 
																 }
															 }
															 else  if(rsn6.next()==false)
															 {
																 
																 lbn13.setVisible(false);
																	lbn13.setIcon(rn6);
																	lbn13.setVisible(true);
																	Thread.sleep(1000);
																	 Statement stu1 = con.createStatement();
																	 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N13'";
																	 stu1.executeUpdate(sqlu1);
																 Socket sc1=new Socket("localhost",2015);
																 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																 dout.writeUTF("N13");
																 String cip6=rsn6.getString(2);
																 dout.writeUTF(cip6);
																 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																 String msg=din1.readUTF();
																 if(msg.equalsIgnoreCase("success"))
																 {
																	 JOptionPane.showMessageDialog(null,"Malicious Attacker in N13");
																 }
																 li210.setVisible(false);
																 li210.setIcon(g7);
																 li210.setVisible(true);
																 Thread.sleep(1000);
																 lbn12.setVisible(false);
																 lbn12.setIcon(gn12);
																 lbn12.setVisible(true);
																 Thread.sleep(1000);
																 li212.setVisible(false);
																 li212.setIcon(g2);
																 li212.setVisible(true);
																 funcn7(s,len,mac,sip,dname,dip);
															 }
														 
														 }
														 
														 
														 
													 }
													 else 
													 {
														 //evasdropper in node12
														 lbn12.setVisible(false);
															lbn12.setIcon(rn5);
															lbn12.setVisible(true);
														 
														 Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N12'";
														 stu1.executeUpdate(sqlu1);
														 
														 Socket sc1=new Socket("localhost",2014);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N12");
														 dout.writeUTF(bw62);
														
														 DataInputStream din1=new DataInputStream(sc1.getInputStream());
														 String msg=din1.readUTF();
														 if(msg.equalsIgnoreCase("success"))
														 {
															 JOptionPane.showMessageDialog(null,"Traffic Occurs in N12");
														 }
														 
														 li27.setVisible(false);
														 li27.setIcon(g4);
														 li27.setVisible(true);
														 Thread.sleep(1000);
														 lbn9.setVisible(false);
														 lbn9.setIcon(gn9);
														 lbn9.setVisible(true);
														 Thread.sleep(1000);
														 li24.setVisible(false);
														 li24.setIcon(g7);
														 li24.setVisible(true);
														 Thread.sleep(1000);
														 lbn8.setVisible(false);
														 lbn8.setIcon(gn8);
														 lbn8.setVisible(true);
														 Thread.sleep(1000);
														 li26.setVisible(false);
														 li26.setIcon(g4);
														 li26.setVisible(true);
														 Thread.sleep(1000);
														 lbn11.setVisible(false);
														 lbn11.setIcon(gn11);
														 lbn11.setVisible(true);
														 Thread.sleep(1000);
														 li211.setVisible(false);
														 li211.setIcon(g5);
														 li211.setVisible(true);
														 funcn7(s,len,mac,sip,dname,dip);
														 
													 }
													 
													 
												 }
												 else  if(rsn5.next()==false)
												 {
													 
													 lbn12.setVisible(false);
														lbn12.setIcon(rn5);
														lbn12.setVisible(true);
														Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N12'";
														 stu1.executeUpdate(sqlu1);
													 Socket sc1=new Socket("localhost",2015);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N12");
													 String cip5=rsn5.getString(2);
													 dout.writeUTF(cip5);
													 DataInputStream din1=new DataInputStream(sc1.getInputStream());
													 String msg=din1.readUTF();
													 if(msg.equalsIgnoreCase("success"))
													 {
														 JOptionPane.showMessageDialog(null,"Malicious Attacker in N12");
													 }
													 li27.setVisible(false);
													 li27.setIcon(g4);
													 li27.setVisible(true);
													 Thread.sleep(1000);
													 lbn9.setVisible(false);
													 lbn9.setIcon(gn9);
													 lbn9.setVisible(true);
													 Thread.sleep(1000);
													 li24.setVisible(false);
													 li24.setIcon(g7);
													 li24.setVisible(true);
													 Thread.sleep(1000);
													 lbn8.setVisible(false);
													 lbn8.setIcon(gn8);
													 lbn8.setVisible(true);
													 Thread.sleep(1000);
													 li26.setVisible(false);
													 li26.setIcon(g4);
													 li26.setVisible(true);
													 Thread.sleep(1000);
													 lbn11.setVisible(false);
													 lbn11.setIcon(gn11);
													 lbn11.setVisible(true);
													 Thread.sleep(1000);
													 li211.setVisible(false);
													 li211.setIcon(g5);
													 li211.setVisible(true);
													 funcn7(s,len,mac,sip,dname,dip);
												 }
												 
											 }
												 
											 
											 
										
										 }
									 }
									 
									 
								 
								 }
							 }
							 
							 
						}
						
						
					
					 }
				 }
				}
				else if(tn13<tn9)
				{
					
					li28.setVisible(false);
					 li28.setIcon(g4);
					 li28.setVisible(true);
					 
					 Thread.sleep(1000);

					
					 Statement stmtn6 = con.createStatement();
					 String sqln6 = "select * from Nodesinfo where Nname='N13' and Keys='"+mac+"' and senderip='"+sip+"'";
					 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
					 
					 if(rsn6.next()==true)
					 {
						 String bw64=rsn6.getString(4);
						 
						 int bw74=Integer.parseInt(bw64);
						 
						 if(len<bw74)
						 { 
							 
							 lbn13.setVisible(false);
							 lbn13.setIcon(gn13);
							 lbn13.setVisible(true);
							 
							 Thread.sleep(1000);

							 
							 
							tn12=r1.nextInt(50);
							tn14=r1.nextInt(50);
							
							l310.setVisible(false);
							l310.setText(Integer.toString(tn12));
							l310.setVisible(true);
							
							l313.setVisible(false);
							l313.setText(Integer.toString(tn14));
							l313.setVisible(true);
							
							Thread.sleep(1000);

							
							
							
							
							
							if(tn12<tn14)
							{
								
								li210.setVisible(false);
								li210.setIcon(g7);
								li210.setVisible(true);
								
								Thread.sleep(1000);

								
								
								 Statement stmtn5 = con.createStatement();
								 String sqln5 = "select * from Nodesinfo where Nname='N12' and Keys='"+mac+"' and senderip='"+sip+"'";
								 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
								 
								 if(rsn5.next()==true)
								 {
									 String bw65=rsn5.getString(4);
									 
									 int bw75=Integer.parseInt(bw65);
									 
									 if(len<bw75)
									 { 
										 lbn12.setVisible(false);
										 lbn12.setIcon(gn12);
										 lbn12.setVisible(true);
										 
										 Thread.sleep(1000);

										 
										 
										 
										tn14=r1.nextInt(50);
										tn11=r1.nextInt(50);
										
										l312.setVisible(false);
										l312.setText(Integer.toString(tn14));
										l312.setVisible(true);
										
										l39.setVisible(false);
										l39.setText(Integer.toString(tn11));
										l39.setVisible(true);
										
										Thread.sleep(1000);


										
										
										
										
										if(tn14<tn11)
										{
											
											li212.setVisible(false);
											li212.setIcon(g2);
											li212.setVisible(true);
											
											Thread.sleep(1000);


											funcn7(s,len,mac,sip,dname,dip);
										}
										else if(tn11<tn14)
										{
											
											li29.setVisible(false);
											li29.setIcon(g7);
											li29.setVisible(true);
											
											Thread.sleep(1000);

											
											
											Statement stmtn4 = con.createStatement();
											 String sqln4 = "select * from Nodesinfo where Nname='N11' and Keys='"+mac+"' and senderip='"+sip+"'";
											 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
											 
											 if(rsn4.next()==true)
											 {
												 String bw66=rsn4.getString(4);
												 
												 int bw76=Integer.parseInt(bw66);
												 
												 if(len<bw76)
												 { 
													 lbn11.setVisible(false);
													 lbn11.setIcon(gn11);
													 lbn11.setVisible(true);
													 
													 Thread.sleep(1000);
													 li211.setVisible(false);
													 li211.setIcon(g5);
													 li211.setVisible(true);
													 
													 Thread.sleep(1000);

													 
													 
													 
													 funcn7(s,len,mac,sip,dname,dip);
												 
												 }
												 else 
												 {
													 //evasdropper in node11
													 
													 lbn11.setVisible(false);
														lbn11.setIcon(rn4);
														lbn11.setVisible(true);
													 
													 Thread.sleep(1000);
													 Statement stu1 = con.createStatement();
													 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N11'";
													 stu1.executeUpdate(sqlu1);
													 
													 Socket sc1=new Socket("localhost",2014);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N11");
													 dout.writeUTF(bw66);
													
													 DataInputStream din1=new DataInputStream(sc1.getInputStream());
													 String msg=din1.readUTF();
													 if(msg.equalsIgnoreCase("success"))
													 {
														 JOptionPane.showMessageDialog(null,"Traffic Occurs in N11");
													 }
													 
													 li29.setVisible(false);
													 li29.setIcon(g7);
													 li29.setVisible(true);
													 Thread.sleep(1000);
													 lbn12.setVisible(false);
													 lbn12.setIcon(gn12);
													 lbn12.setVisible(true);
													 Thread.sleep(1000);
													 li212.setVisible(false);
													 li212.setIcon(g2);
													 li212.setVisible(true);
													 funcn7(s,len,mac,sip,dname,dip);
													 
												 }
											 }
											 else  if(rsn4.next()==false)
											 {
												 
												 lbn11.setVisible(false);
													lbn11.setIcon(rn4);
													lbn11.setVisible(true);
													Thread.sleep(1000);
													 Statement stu1 = con.createStatement();
													 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N11'";
													 stu1.executeUpdate(sqlu1);
												 Socket sc1=new Socket("localhost",2015);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N11");
												 String cip4=rsn4.getString(2);
												 dout.writeUTF(cip4);
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Malicious Attacker in N11");
												 }
												 li29.setVisible(false);
												 li29.setIcon(g7);
												 li29.setVisible(true);
												 Thread.sleep(1000);
												 lbn12.setVisible(false);
												 lbn12.setIcon(gn12);
												 lbn12.setVisible(true);
												 Thread.sleep(1000);
												 li212.setVisible(false);
												 li212.setIcon(g2);
												 li212.setVisible(true);
												 funcn7(s,len,mac,sip,dname,dip);
											 }
											
										}
										
										
									 }
									 else 
									 {
										 //evasdropper in node12
										 lbn12.setVisible(false);
											lbn12.setIcon(rn5);
											lbn12.setVisible(true);
										 
										 Thread.sleep(1000);
										 Statement stu1 = con.createStatement();
										 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N12'";
										 stu1.executeUpdate(sqlu1);
										 
										 Socket sc1=new Socket("localhost",2014);
										 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
										 dout.writeUTF("N12");
										 dout.writeUTF(bw65);
										
										 DataInputStream din1=new DataInputStream(sc1.getInputStream());
										 String msg=din1.readUTF();
										 if(msg.equalsIgnoreCase("success"))
										 {
											 JOptionPane.showMessageDialog(null,"Traffic Occurs in N12");
										 }
										 
										 li27.setVisible(false);
										 li27.setIcon(g4);
										 li27.setVisible(true);
										 Thread.sleep(1000);
										 lbn9.setVisible(false);
										 lbn9.setIcon(gn9);
										 lbn9.setVisible(true);
										 Thread.sleep(1000);
										 li24.setVisible(false);
										 li24.setIcon(g7);
										 li24.setVisible(true);
										 Thread.sleep(1000);
										 lbn8.setVisible(false);
										 lbn8.setIcon(gn8);
										 lbn8.setVisible(true);
										 Thread.sleep(1000);
										 li26.setVisible(false);
										 li26.setIcon(g4);
										 li26.setVisible(true);
										 Thread.sleep(1000);
										 lbn11.setVisible(false);
										 lbn11.setIcon(gn11);
										 lbn11.setVisible(true);
										 Thread.sleep(1000);
										 li211.setVisible(false);
										 li211.setIcon(g5);
										 li211.setVisible(true);
										 funcn7(s,len,mac,sip,dname,dip);
										 
									 }
									 
									 
								 }
								 else  if(rsn5.next()==false)
								 {
									 
									 lbn12.setVisible(false);
										lbn12.setIcon(rn5);
										lbn12.setVisible(true);
										Thread.sleep(1000);
										 Statement stu1 = con.createStatement();
										 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N12'";
										 stu1.executeUpdate(sqlu1);
									 Socket sc1=new Socket("localhost",2015);
									 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
									 dout.writeUTF("N12");
									 String cip5=rsn5.getString(2);
									 dout.writeUTF(cip5);
									 DataInputStream din1=new DataInputStream(sc1.getInputStream());
									 String msg=din1.readUTF();
									 if(msg.equalsIgnoreCase("success"))
									 {
										 JOptionPane.showMessageDialog(null,"Malicious Attacker in N12");
									 }
									 li27.setVisible(false);
									 li27.setIcon(g4);
									 li27.setVisible(true);
									 Thread.sleep(1000);
									 lbn9.setVisible(false);
									 lbn9.setIcon(gn9);
									 lbn9.setVisible(true);
									 Thread.sleep(1000);
									 li24.setVisible(false);
									 li24.setIcon(g7);
									 li24.setVisible(true);
									 Thread.sleep(1000);
									 lbn8.setVisible(false);
									 lbn8.setIcon(gn8);
									 lbn8.setVisible(true);
									 Thread.sleep(1000);
									 li26.setVisible(false);
									 li26.setIcon(g4);
									 li26.setVisible(true);
									 Thread.sleep(1000);
									 lbn11.setVisible(false);
									 lbn11.setIcon(gn11);
									 lbn11.setVisible(true);
									 Thread.sleep(1000);
									 li211.setVisible(false);
									 li211.setIcon(g5);
									 li211.setVisible(true);
									 funcn7(s,len,mac,sip,dname,dip);
								 }
								
								
								
								
							}
							else if(tn14<tn12)
							{
								
								li213.setVisible(false);
								li213.setIcon(g6);
								li213.setVisible(true);
								
								Thread.sleep(1000);

								
								funcn7(s,len,mac,sip,dname,dip);
							}
							
							
						 }
						 else
						 {
							//evasdropper in node13
							 lbn13.setVisible(false);
								lbn13.setIcon(rn6);
								lbn13.setVisible(true);
							 
							 Thread.sleep(1000);
							 Statement stu1 = con.createStatement();
							 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N13'";
							 stu1.executeUpdate(sqlu1);
							 
							 Socket sc1=new Socket("localhost",2014);
							 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
							 dout.writeUTF("N13");
							 dout.writeUTF(bw64);
							
							 DataInputStream din1=new DataInputStream(sc1.getInputStream());
							 String msg=din1.readUTF();
							 if(msg.equalsIgnoreCase("success"))
							 {
								 JOptionPane.showMessageDialog(null,"Traffic Occurs in N13");
							 }
							 
							 
							 li210.setVisible(false);
							 li210.setIcon(g7);
							 li210.setVisible(true);
							 Thread.sleep(1000);
							 lbn12.setVisible(false);
							 lbn12.setIcon(gn12);
							 lbn12.setVisible(true);
							 Thread.sleep(1000);
							 li212.setVisible(false);
							 li212.setIcon(g2);
							 li212.setVisible(true);
							 funcn7(s,len,mac,sip,dname,dip);
							
							
							
							 
						 }
					 }
					 else  if(rsn6.next()==false)
					 {
						 
						 lbn13.setVisible(false);
							lbn13.setIcon(rn6);
							lbn13.setVisible(true);
							Thread.sleep(1000);
							 Statement stu1 = con.createStatement();
							 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N13'";
							 stu1.executeUpdate(sqlu1);
						 Socket sc1=new Socket("localhost",2015);
						 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
						 dout.writeUTF("N13");
						 String cip6=rsn6.getString(2);
						 dout.writeUTF(cip6);
						 DataInputStream din1=new DataInputStream(sc1.getInputStream());
						 String msg=din1.readUTF();
						 if(msg.equalsIgnoreCase("success"))
						 {
							 JOptionPane.showMessageDialog(null,"Malicious Attacker in N13");
						 }
						 li210.setVisible(false);
						 li210.setIcon(g7);
						 li210.setVisible(true);
						 Thread.sleep(1000);
						 lbn12.setVisible(false);
						 lbn12.setIcon(gn12);
						 lbn12.setVisible(true);
						 Thread.sleep(1000);
						 li212.setVisible(false);
						 li212.setIcon(g2);
						 li212.setVisible(true);
						 funcn7(s,len,mac,sip,dname,dip);
					 }
						 }
					 }
				 
				
				
				
			 
			 
			 else 
			 {
				 //evasdropper in node10
				 

				 lbn10.setVisible(false);
					lbn10.setIcon(rn3);
					lbn10.setVisible(true);
				 
				 Thread.sleep(1000);
				 Statement stu1 = con.createStatement();
				 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N10'";
				 stu1.executeUpdate(sqlu1);
				 
				 Socket sc1=new Socket("localhost",2014);
				 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
				 dout.writeUTF("N10");
				 dout.writeUTF(bw45);
				
				 DataInputStream din1=new DataInputStream(sc1.getInputStream());
				 String msg=din1.readUTF();
				 if(msg.equalsIgnoreCase("success"))
				 {
					 JOptionPane.showMessageDialog(null,"Traffic Occurs in N10");
				 }
				 
				
				 li25.setVisible(false);
				 li25.setIcon(g7);
				 li25.setVisible(true);
				 Thread.sleep(1000);
				 lbn9.setVisible(false);
				 lbn9.setIcon(gn9);
				 lbn9.setVisible(true);
				 Thread.sleep(1000);
				 li27.setVisible(false);
				 li27.setIcon(g4);
				 li27.setVisible(true);
				 Thread.sleep(1000);
				 lbn12.setVisible(false);
				 lbn12.setIcon(gn12);
				 lbn12.setVisible(true);
				 Thread.sleep(1000);
				 li212.setVisible(false);
				 li212.setIcon(g2);
				 li212.setVisible(true);
				 funcn7(s,len,mac,sip,dname,dip);
				
				
				
				 
			 }
		 }

		 else  if(rsn3.next()==false)
		 {
			 
			 lbn10.setVisible(false);
				lbn10.setIcon(rn3);
				lbn10.setVisible(true);
				Thread.sleep(1000);
				 Statement stu1 = con.createStatement();
				 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N10'";
				 stu1.executeUpdate(sqlu1);
			 Socket sc1=new Socket("localhost",2015);
			 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
			 dout.writeUTF("N10");
			 String cip3=rsn3.getString(2);
			 dout.writeUTF(cip3);
			 
			 DataInputStream din1=new DataInputStream(sc1.getInputStream());
			 String msg=din1.readUTF();
			 if(msg.equalsIgnoreCase("success"))
			 {
				 JOptionPane.showMessageDialog(null,"Malicious Attacker in N10");
			 }
			 li25.setVisible(false);
			 li25.setIcon(g7);
			 li25.setVisible(true);
			 Thread.sleep(1000);
			 lbn9.setVisible(false);
			 lbn9.setIcon(gn9);
			 lbn9.setVisible(true);
			 Thread.sleep(1000);
			 li27.setVisible(false);
			 li27.setIcon(g4);
			 li27.setVisible(true);
			 Thread.sleep(1000);
			 lbn12.setVisible(false);
			 lbn12.setIcon(gn12);
			 lbn12.setVisible(true);
			 Thread.sleep(1000);
			 li212.setVisible(false);
			 li212.setIcon(g2);
			 li212.setVisible(true);
			 funcn7(s,len,mac,sip,dname,dip);
		 }
		 
		 
		 
		 
	 }//***************Node3 ends here
}
