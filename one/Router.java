import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.net.ServerSocket;
import java.net.Socket;
import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.Statement;
import java.util.Date;
import java.util.Random;

import javax.swing.ImageIcon;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JOptionPane;
import javax.swing.UIManager;


public class Router extends JFrame implements ActionListener
{
	
	
	Container c;
	
	
	
	Font f1 = new Font("Times New Roman",Font.BOLD,18);
	
	Font f3 = new Font("Times New Roman",Font.BOLD,25);
	
	Font f2 = new Font("Times New Roman",Font.BOLD,16);
	
	
	JLabel status,info;
	JMenuBar mb;
	JMenu m;
	JMenuItem m1,m2,m3,mi1;
	
	
	
	
	ImageIcon bn1 = new ImageIcon(this.getClass().getResource("bn1.png"));
	ImageIcon bn2 = new ImageIcon(this.getClass().getResource("bn2.png"));
	ImageIcon bn3 = new ImageIcon(this.getClass().getResource("bn3.png"));
	ImageIcon bn4 = new ImageIcon(this.getClass().getResource("bn4.png"));
	ImageIcon bn5 = new ImageIcon(this.getClass().getResource("bn5.png"));
	ImageIcon bn6 = new ImageIcon(this.getClass().getResource("bn6.png"));
	ImageIcon bn7 = new ImageIcon(this.getClass().getResource("bn7.png"));
	ImageIcon bn8 = new ImageIcon(this.getClass().getResource("bn8.png"));
	ImageIcon bn9 = new ImageIcon(this.getClass().getResource("bn9.png"));
	ImageIcon bn10 = new ImageIcon(this.getClass().getResource("bn10.png"));
	ImageIcon bn11 = new ImageIcon(this.getClass().getResource("bn11.png"));
	ImageIcon bn12 = new ImageIcon(this.getClass().getResource("bn12.png"));
	ImageIcon bn13 = new ImageIcon(this.getClass().getResource("bn13.png"));
	
	
	ImageIcon gn1 = new ImageIcon(this.getClass().getResource("gn1.png"));
	ImageIcon gn2 = new ImageIcon(this.getClass().getResource("gn2.png"));
	ImageIcon gn3 = new ImageIcon(this.getClass().getResource("gn3.png"));
	ImageIcon gn4 = new ImageIcon(this.getClass().getResource("gn4.png"));
	ImageIcon gn5 = new ImageIcon(this.getClass().getResource("gn5.png"));
	ImageIcon gn6 = new ImageIcon(this.getClass().getResource("gn6.png"));
	ImageIcon gn7 = new ImageIcon(this.getClass().getResource("gn7.png"));
	ImageIcon gn8 = new ImageIcon(this.getClass().getResource("gn8.png"));
	ImageIcon gn9 = new ImageIcon(this.getClass().getResource("gn9.png"));
	ImageIcon gn10 = new ImageIcon(this.getClass().getResource("gn10.png"));
	ImageIcon gn11 = new ImageIcon(this.getClass().getResource("gn11.png"));
	ImageIcon gn12 = new ImageIcon(this.getClass().getResource("gn12.png"));
	ImageIcon gn13 = new ImageIcon(this.getClass().getResource("gn13.png"));
	
	ImageIcon rn1 = new ImageIcon(this.getClass().getResource("rn1.png"));
	ImageIcon rn2 = new ImageIcon(this.getClass().getResource("rn2.png"));
	ImageIcon rn3 = new ImageIcon(this.getClass().getResource("rn3.png"));
	ImageIcon rn4 = new ImageIcon(this.getClass().getResource("rn4.png"));
	ImageIcon rn5 = new ImageIcon(this.getClass().getResource("rn5.png"));
	ImageIcon rn6 = new ImageIcon(this.getClass().getResource("rn6.png"));
	ImageIcon rn7 = new ImageIcon(this.getClass().getResource("rn7.png"));
	ImageIcon rn8 = new ImageIcon(this.getClass().getResource("rn8.png"));
	ImageIcon rn9 = new ImageIcon(this.getClass().getResource("rn9.png"));
	ImageIcon rn10 = new ImageIcon(this.getClass().getResource("rn10.png"));
	ImageIcon rn11 = new ImageIcon(this.getClass().getResource("rn11.png"));
	ImageIcon rn12 = new ImageIcon(this.getClass().getResource("rn12.png"));
	ImageIcon rn13 = new ImageIcon(this.getClass().getResource("rn13.png"));
	
	
	ImageIcon bs1 = new ImageIcon(this.getClass().getResource("bs1.png"));
	ImageIcon gs1 = new ImageIcon(this.getClass().getResource("gs1.png"));
	
	ImageIcon bd1 = new ImageIcon(this.getClass().getResource("bd1.png"));
	ImageIcon gd1 = new ImageIcon(this.getClass().getResource("gd1.png"));
	
	
	ImageIcon i1 = new ImageIcon(this.getClass().getResource("1.png"));
	ImageIcon i2 = new ImageIcon(this.getClass().getResource("2.png"));
	ImageIcon i3 = new ImageIcon(this.getClass().getResource("3.png"));
	ImageIcon i4 = new ImageIcon(this.getClass().getResource("4.png"));
	ImageIcon i5 = new ImageIcon(this.getClass().getResource("5.png"));
	ImageIcon i6 = new ImageIcon(this.getClass().getResource("6.png"));
	ImageIcon i7 = new ImageIcon(this.getClass().getResource("7.png"));

	ImageIcon g1 = new ImageIcon(this.getClass().getResource("g1.png"));
	ImageIcon g2 = new ImageIcon(this.getClass().getResource("g2.png"));
	ImageIcon g3 = new ImageIcon(this.getClass().getResource("g3.png"));
	ImageIcon g4 = new ImageIcon(this.getClass().getResource("g4.png"));
	ImageIcon g5 = new ImageIcon(this.getClass().getResource("g5.png"));
	ImageIcon g6 = new ImageIcon(this.getClass().getResource("g6.png"));
	ImageIcon g7 = new ImageIcon(this.getClass().getResource("g7.png"));
	
	
	
	JLabel lbn1,lbn2,lbn3,lbn4,lbn5,lbn6,lbn7,lbn8,lbn9,lbn10,lbn11,lbn12,lbn13; 

	JLabel lbs1,lbd1,ljam,li1,li2,li3,li4,li5,li6,li7,li8,li9,li10,li11,li12,li13;
	JLabel li21,li22,li23,li24,li25,li26,li27,li28,li29,li210,li211,li212,li213;
	JLabel l1,l2,l3,l4,l5,l6,l7,l8,l9,l10,l11,l12,l13;
	JLabel l31,l32,l33,l34,l35,l36,l37,l38,l39,l310,l311,l312,l313;
	
	String content;
	String destip,filename;
	
	
	
	int tn1,tn2,tn3,tn4,tn5,tn6,tn7,tn8,tn9,tn10,tn11,tn12,tn13,tn21,tn22,tn23,tn24,tn25,tn26,tn27,tn28,tn29,tn210,tn211,tn212,tn213;
	
	Router()
	{
		c=getContentPane();
		c.setLayout(null);
		c.setBackground(Color.white);
		
		mb = new JMenuBar();
		m = new JMenu("File");
		mi1 = new JMenuItem("Assign Bandwidth for Nodes");
		m1 = new JMenuItem("Attacker Details");
		m2 = new JMenuItem("Nodes Status Details");
		m3 = new JMenuItem("Exit");
		m.add(mi1);
//		m.add(m1);
		m.add(m2);
		m.add(m3);
		mb.add(m);
		
		
		 setJMenuBar(mb);
		 m1.addActionListener(this);
		 mi1.addActionListener(this);
		 m2.addActionListener(this);
		 m3.addActionListener(this);
		setTitle("Router");
		
		lbs1=new JLabel();
		lbs1.setIcon(bs1);
		lbs1.setBounds(-15, 30, 200, 200);
		c.add(lbs1);
		
		lbn1=new JLabel();
		lbn1.setIcon(bn1);
		lbn1.setBounds(140,-60, 200, 200);
		c.add(lbn1);
		
		lbn2=new JLabel();
		lbn2.setIcon(bn2);
		lbn2.setBounds(140,40, 200, 200);
		c.add(lbn2);
		
		lbn3=new JLabel();
		lbn3.setIcon(bn3);
		lbn3.setBounds(140,140, 200, 200);
		c.add(lbn3);
		
		lbn4=new JLabel();
		lbn4.setIcon(bn4);
		lbn4.setBounds(250,-60, 200, 200);
		c.add(lbn4);
		
		lbn5=new JLabel();
		lbn5.setIcon(bn5);
		lbn5.setBounds(250,40, 200, 200);
		c.add(lbn5);
		
		lbn6=new JLabel();
		lbn6.setIcon(bn6);
		lbn6.setBounds(250,140, 200, 200);
		c.add(lbn6);
		
		lbn7=new JLabel();
		lbn7.setIcon(bn7);
		lbn7.setBounds(370,40, 200, 200);
		c.add(lbn7);
		
		lbn8=new JLabel();
		lbn8.setIcon(bn8);
		lbn8.setBounds(490,-60, 200, 200);
		c.add(lbn8);
		
		lbn9=new JLabel();
		lbn9.setIcon(bn9);
		lbn9.setBounds(490,40, 200, 200);
		c.add(lbn9);
		
		lbn10=new JLabel();
		lbn10.setIcon(bn10);
		lbn10.setBounds(490,140, 200, 200);
		c.add(lbn10);
		
		lbn11=new JLabel();
		lbn11.setIcon(bn11);
		lbn11.setBounds(605,-60, 200, 200);
		c.add(lbn11);
		
		lbn12=new JLabel();
		lbn12.setIcon(bn12);
		lbn12.setBounds(605,40, 200, 200);
		c.add(lbn12);
		
		lbn13=new JLabel();
		lbn13.setIcon(bn13);
		lbn13.setBounds(605,140, 200, 200);
		c.add(lbn13);
		
		
		li1=new JLabel();
		li1.setIcon(i1);
		li1.setBounds(40,-20, 200, 200);
		c.add(li1);
		
		li2=new JLabel();
		li2.setIcon(i2);
		li2.setBounds(55,40, 200, 200);
		c.add(li2);
		
		li3=new JLabel();
		li3.setIcon(i3);
		li3.setBounds(40,95, 200, 200);
		c.add(li3);
		
		li4=new JLabel();
		li4.setIcon(i7);
		li4.setBounds(150,-10, 200, 200);
		c.add(li4);
		
		li5=new JLabel();
		li5.setIcon(i7);
		li5.setBounds(150,90, 200, 200);
		c.add(li5);
		
		li6=new JLabel();
		li6.setIcon(i4);
		li6.setBounds(172,-60, 200, 200);
		c.add(li6);
		
		li7=new JLabel();
		li7.setIcon(i4);
		li7.setBounds(172,40, 200, 200);
		c.add(li7);
		
		li8=new JLabel();
		li8.setIcon(i4);
		li8.setBounds(172,140, 200, 200);
		c.add(li8);
		
		li9=new JLabel();
		li9.setIcon(i7);
		li9.setBounds(260,-10, 200, 200);
		c.add(li9);
		
		li10=new JLabel();
		li10.setIcon(i7);
		li10.setBounds(260,90, 200, 200);
		c.add(li10);
		
		li11=new JLabel();
		li11.setIcon(i5);
		li11.setBounds(288,-20, 200, 200);
		c.add(li11);
		
		li12=new JLabel();
		li12.setIcon(i2);
		li12.setBounds(288,40, 200, 200);
		c.add(li12);
		
		li13=new JLabel();
		li13.setIcon(i6);
		li13.setBounds(288,95, 200, 200);
		c.add(li13);
		
		li21=new JLabel();
		li21.setIcon(i1);
		li21.setBounds(390,-15, 200, 200);
		c.add(li21);
		
		li22=new JLabel();
		li22.setIcon(i2);
		li22.setBounds(408,40, 200, 200);
		c.add(li22);
		
		li23=new JLabel();
		li23.setIcon(i3);
		li23.setBounds(390,93, 200, 200);
		c.add(li23);
		
		li24=new JLabel();
		li24.setIcon(i7);
		li24.setBounds(500,-10, 200, 200);
		c.add(li24);
		
		li25=new JLabel();
		li25.setIcon(i7);
		li25.setBounds(500,90, 200, 200);
		c.add(li25);
		
		li26=new JLabel();
		li26.setIcon(i4);
		li26.setBounds(525,-60, 200, 200);
		c.add(li26);
		
		li27=new JLabel();
		li27.setIcon(i4);
		li27.setBounds(525,40, 200, 200);
		c.add(li27);
		
		li28=new JLabel();
		li28.setIcon(i4);
		li28.setBounds(525,140, 200, 200);
		c.add(li28);
		
		li29=new JLabel();
		li29.setIcon(i7);
		li29.setBounds(615,-10, 200, 200);
		c.add(li29);
		
		li210=new JLabel();
		li210.setIcon(i7);
		li210.setBounds(615,90, 200, 200);
		c.add(li210);
		
		li211=new JLabel();
		li211.setIcon(i5);
		li211.setBounds(643,-23, 200, 200);
		c.add(li211);
		
		li212=new JLabel();
		li212.setIcon(i2);
		li212.setBounds(645,40, 200, 200);
		c.add(li212);
		
		li213=new JLabel();
		li213.setIcon(i6);
		li213.setBounds(643,100, 200, 200);
		c.add(li213);
		
		lbd1=new JLabel();
		lbd1.setIcon(bd1);
		lbd1.setBounds(710,35, 200, 200);
		c.add(lbd1);
		
		l1=new JLabel("1");
		l1.setFont(f2);
		l1.setForeground(Color.blue);
		l1.setBounds(90,-30, 200, 200);
		c.add(l1);
		
		l2=new JLabel("2");
		l2.setFont(f2);
		l2.setForeground(Color.blue);
		l2.setBounds(100,30, 200, 200);
		c.add(l2);
		
		l3=new JLabel("3");
		l3.setFont(f2);
		l3.setForeground(Color.blue);
		l3.setBounds(100,110, 200, 200);
		c.add(l3);
		
		l4=new JLabel("4");
		l4.setFont(f2);
		l4.setForeground(Color.blue);
		l4.setBounds(175,-10, 200, 200);
		c.add(l4);
		
		l5=new JLabel("5");
		l5.setFont(f2);
		l5.setForeground(Color.blue);
		l5.setBounds(175,90, 200, 200);
		c.add(l5);
		
		l6=new JLabel("6");
		l6.setFont(f2);
		l6.setForeground(Color.blue);
		l6.setBounds(220,-70, 200, 200);
		c.add(l6);
		
		l7=new JLabel("7");
		l7.setFont(f2);
		l7.setForeground(Color.blue);
		l7.setBounds(220,30, 200, 200);
		c.add(l7);
		
		l8=new JLabel("8");
		l8.setFont(f2);
		l8.setForeground(Color.blue);
		l8.setBounds(220,150, 200, 200);
		c.add(l8);
		
		l9=new JLabel("9");
		l9.setFont(f2);
		l9.setForeground(Color.blue);
		l9.setBounds(285,-10, 200, 200);
		c.add(l9);
		
		l10=new JLabel("10");
		l10.setFont(f2);
		l10.setForeground(Color.blue);
		l10.setBounds(285,90, 200, 200);
		c.add(l10);
		
		l11=new JLabel("11");
		l11.setFont(f2);
		l11.setForeground(Color.blue);
		l11.setBounds(335,-40, 200, 200);
		c.add(l11);
		
		l12=new JLabel("12");
		l12.setFont(f2);
		l12.setForeground(Color.blue);
		l12.setBounds(335,30, 200, 200);
		c.add(l12);
		
		l13=new JLabel("13");
		l13.setFont(f2);
		l13.setForeground(Color.blue);
		l13.setBounds(335,110, 200, 200);
		c.add(l13);
		
		l31=new JLabel("1");
		l31.setFont(f2);
		l31.setForeground(Color.blue);
		l31.setBounds(450,-30, 200, 200);
		c.add(l31);
		
		l32=new JLabel("2");
		l32.setFont(f2);
		l32.setForeground(Color.blue);
		l32.setBounds(450,30, 200, 200);
		c.add(l32);
		
		l33=new JLabel("3");
		l33.setFont(f2);
		l33.setForeground(Color.blue);
		l33.setBounds(450,110, 200, 200);
		c.add(l33);
		
		l34=new JLabel("4");
		l34.setFont(f2);
		l34.setForeground(Color.blue);
		l34.setBounds(525,-10, 200, 200);
		c.add(l34);
		
		l35=new JLabel("5");
		l35.setFont(f2);
		l35.setForeground(Color.blue);
		l35.setBounds(525,90, 200, 200);
		c.add(l35);
		
		l36=new JLabel("6");
		l36.setFont(f2);
		l36.setForeground(Color.blue);
		l36.setBounds(570,-70, 200, 200);
		c.add(l36);
		
		l37=new JLabel("7");
		l37.setFont(f2);
		l37.setForeground(Color.blue);
		l37.setBounds(570,30, 200, 200);
		c.add(l37);
		
		l38=new JLabel("8");
		l38.setFont(f2);
		l38.setForeground(Color.blue);
		l38.setBounds(570,150, 200, 200);
		c.add(l38);
		
		l39=new JLabel("9");
		l39.setFont(f2);
		l39.setForeground(Color.blue);
		l39.setBounds(640,-10, 200, 200);
		c.add(l39);
		
		l310=new JLabel("10");
		l310.setFont(f2);
		l310.setForeground(Color.blue);
		l310.setBounds(640,90, 200, 200);
		c.add(l310);
		
		l311=new JLabel("11");
		l311.setFont(f2);
		l311.setForeground(Color.blue);
		l311.setBounds(695,-40, 200, 200);
		c.add(l311);
		
		l312=new JLabel("12");
		l312.setFont(f2);
		l312.setForeground(Color.blue);
		l312.setBounds(690,30, 200, 200);
		c.add(l312);
		
		l313=new JLabel("13");
		l313.setFont(f2);
		l313.setForeground(Color.blue);
		l313.setBounds(695,115, 200, 200);
		c.add(l313);
		
		
		l1.setVisible(false);
		l2.setVisible(false);
		l3.setVisible(false);
		l4.setVisible(false);
		l5.setVisible(false);
		l6.setVisible(false);
		l7.setVisible(false);
		l8.setVisible(false);
		l9.setVisible(false);
		l10.setVisible(false);
		l11.setVisible(false);
		l12.setVisible(false);
		l13.setVisible(false);
		l31.setVisible(false);
		l32.setVisible(false);
		l33.setVisible(false);
		l34.setVisible(false);
		l35.setVisible(false);
		l36.setVisible(false);
		l37.setVisible(false);
		l38.setVisible(false);
		l39.setVisible(false);
		l310.setVisible(false);
		l311.setVisible(false);
		l312.setVisible(false);
		l313.setVisible(false);
		setSize(810,350);
		setVisible(true);
		
		int[] ports = new int[]{201,202,203,204,205,206,207};
		
		
		for(int i=0;i<7;i++)
		{
			Thread th = new Thread(new portlistener(ports[i]));
			th.start();
		}
		
		
		
	}
	
	
	public class portlistener implements Runnable
	{
		int port;
		
		portlistener(int port)
		{
			this.port=port;
		}
		
		public void run()
		{

			if(this.port==207)
			{
				
				try
				{
					DBCon db = new DBCon();
					 Connection con = db.getConnection();
					
					ServerSocket sc = new ServerSocket(207);
					while(true)
					{
						Socket s = sc.accept();
						DataInputStream din = new DataInputStream(s.getInputStream());
					String node = din.readUTF();
					String moddest=din.readUTF();
					String ip1=din.readUTF();
					String num=node.substring(4);
					Statement stmt = con.createStatement();
					String sql = "update Nodesinfo set Keys='"+moddest+"',Attacker3='yes' where Nname='N'+'"+num+"'";
					stmt.executeUpdate(sql);
					Date d1 = new Date();
					String dt = d1.toString();
					
					Statement stmt1 = con.createStatement();
					String sql1 = "insert into Hacker values('attacker','"+ip1+"','N'+'"+num+"','"+dt+"')";
					stmt1.executeUpdate(sql1);
					
					
						DataOutputStream dout = new DataOutputStream(s.getOutputStream());
						dout.writeUTF("Updated Successfully");
					
					
					}
				}
				catch(Exception e)
				{
					e.printStackTrace();
				}
			}
			

			if(this.port==206)
			{
				
				try
				{
					DBCon db = new DBCon();
					 Connection con = db.getConnection();
					
					ServerSocket sc = new ServerSocket(206);
					while(true)
					{
						Socket s = sc.accept();
						DataInputStream din = new DataInputStream(s.getInputStream());
					String node = din.readUTF();
					String num=node.substring(4);
					Statement stmt = con.createStatement();
					String sql = "select * from Nodesinfo where Nname='N'+'"+num+"'";
					ResultSet rs = stmt.executeQuery(sql);
					if(rs.next()==true)
					{
						String ipinfo= rs.getString(3);
						DataOutputStream dout = new DataOutputStream(s.getOutputStream());
						dout.writeUTF(ipinfo);
					}
					
					}
				}
				catch(Exception e)
				{
					e.printStackTrace();
				}
			}
			
			
			
			
			
			if(this.port==205)
			{
				
				try
				{
					DBCon db = new DBCon();
					 Connection con = db.getConnection();
					
					ServerSocket sc = new ServerSocket(205);
					while(true)
					{
						Socket s = sc.accept();
						DataInputStream din = new DataInputStream(s.getInputStream());
					String node = din.readUTF();
					String moddest=din.readUTF();
					String ip1=din.readUTF();
					String num=node.substring(4);
					Statement stmt = con.createStatement();
					String sql = "update Nodesinfo set Destination='"+moddest+"',Attacker2='yes' where Nname='N'+'"+num+"'";
					stmt.executeUpdate(sql);
					
					Date d1 = new Date();
					String dt = d1.toString();
					
					Statement stmt1 = con.createStatement();
					String sql1 = "insert into Hacker values('attacker','"+ip1+"','N'+'"+num+"','"+dt+"')";
					stmt1.executeUpdate(sql1);
					
					
						DataOutputStream dout = new DataOutputStream(s.getOutputStream());
						dout.writeUTF("Updated Successfully");
					
					
					}
				}
				catch(Exception e)
				{
					e.printStackTrace();
				}
			}
			
			
			

			if(this.port==204)
			{
				
				try
				{
					DBCon db = new DBCon();
					 Connection con = db.getConnection();
					
					ServerSocket sc = new ServerSocket(204);
					while(true)
					{
						Socket s = sc.accept();
						DataInputStream din = new DataInputStream(s.getInputStream());
					String node = din.readUTF();
					String moddest=din.readUTF();
					String ip1=din.readUTF();
					String num=node.substring(4);
					Statement stmt = con.createStatement();
					String sql = "update Nodesinfo set Destinationip='"+moddest+"',Attacker1='yes' where Nname='N'+'"+num+"'";
					stmt.executeUpdate(sql);
					
					Date d1 = new Date();
					String dt = d1.toString();
					
					Statement stmt1 = con.createStatement();
					String sql1 = "insert into Hacker values('attacker','"+ip1+"','N'+'"+num+"','"+dt+"')";
					stmt1.executeUpdate(sql1);
					
					
					
						DataOutputStream dout = new DataOutputStream(s.getOutputStream());
						dout.writeUTF("Updated Successfully");
					
					
					}
				}
				catch(Exception e)
				{
					e.printStackTrace();
				}
			}
			
			
			
			
			

			if(this.port==203)
			{
				
				try
				{
					DBCon db = new DBCon();
					 Connection con = db.getConnection();
					
					ServerSocket sc = new ServerSocket(203);
					while(true)
					{
						Socket s = sc.accept();
						DataInputStream din = new DataInputStream(s.getInputStream());
					String node = din.readUTF();
					String num=node.substring(4);
					Statement stmt = con.createStatement();
					String sql = "select * from Nodesinfo where Nname='N'+'"+num+"'";
					ResultSet rs = stmt.executeQuery(sql);
					if(rs.next()==true)
					{
						String ipinfo= rs.getString(2);
						DataOutputStream dout = new DataOutputStream(s.getOutputStream());
						dout.writeUTF(ipinfo);
					}
					
					}
				}
				catch(Exception e)
				{
					e.printStackTrace();
				}
			}
			
			
			
ohhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
			
			if(this.port==202)
			{
				
				try
				{
					DBCon db = new DBCon();
					 Connection con = db.getConnection();
					
					ServerSocket sc = new ServerSocket(202);
					while(true)
					{
						Socket s = sc.accept();
						DataInputStream din = new DataInputStream(s.getInputStream());
					content = din.readUTF();
					 String len1 = din.readUTF();
					 int len=Integer.parseInt(len1);
					 String dname=din.readUTF();
					 String dip=din.readUTF();
					 String mac=din.readUTF();
					 String sip=din.readUTF();
					
					
					 lbs1.setVisible(false);
					 lbs1.setIcon(gs1);
					 lbs1.setVisible(true);
					 
					 
					 Random r1 = new Random();
					 
					 tn1 = r1.nextInt(50);
					 tn2= r1.nextInt(50);
					 tn3 = r1.nextInt(50);
					
					 l1.setVisible(false);
					 l1.setText(Integer.toString(tn1));
					 l1.setVisible(true);
					 
					 l2.setVisible(false);
					 l2.setText(Integer.toString(tn2));
					 l2.setVisible(true);
					 
					 l3.setVisible(false);
					 l3.setText(Integer.toString(tn3));
					 l3.setVisible(true);
					 
					 Thread.sleep(1000);
					 
					
					 
					 if(tn1<tn2 && tn1<tn3)
					 {
						 
						 	li1.setVisible(false);
							li1.setIcon(g1);
							li1.setVisible(true);
							Thread.sleep(1000);
							
						
						 
						 Statement stmtn1 = con.createStatement();
						 String sqln1 = "select * from Nodesinfo where Nname='N1' and Keys='"+mac+"' and senderip='"+sip+"' ";
						 ResultSet rsn1 = stmtn1.executeQuery(sqln1);
						 if(rsn1.next()==true)
						 {
							 String bw1=rsn1.getString(4);
							
							 int bw11=Integer.parseInt(bw1);
							 
							 if(len<bw11)
							 {
								 lbn1.setVisible(false);
									lbn1.setIcon(gn1);
									lbn1.setVisible(true);
								 
								 Thread.sleep(1000);
								 
								 tn4=r1.nextInt(50);
								 tn2=r1.nextInt(50);
								 
								 l6.setVisible(false);
								 l6.setText(Integer.toString(tn4));
								 l6.setVisible(true);
								 
								l4.setVisible(false);
								 l4.setText(Integer.toString(tn2));
								 l4.setVisible(true);
								 
								 Thread.sleep(1000);
								 
								 
								 if(tn4<tn2)
								 {
									 
									 li6.setVisible(false);
									 li6.setIcon(g4);
									 li6.setVisible(true);
									 
									 Thread.sleep(1000);
									 
									 Statement stmtn4 = con.createStatement();
									 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"' ";
									 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
									 
									 if(rsn4.next()==true)
									 {
										 String bw2=rsn4.getString(4);
										
										 int bw12=Integer.parseInt(bw2);
										 
										 if(len<bw12)
										 {
											 
											 lbn4.setVisible(false);
												lbn4.setIcon(gn4);
												lbn4.setVisible(true);
											 
											 Thread.sleep(1000);
											
											 
											 tn7=r1.nextInt(50);
											 tn5=r1.nextInt(50);
											 
											 l11.setVisible(false);
											 l11.setText(Integer.toString(tn7));
											 l11.setVisible(true);
											 
											 l9.setVisible(false);
											 l9.setText(Integer.toString(tn5));
											 l9.setVisible(true);
											 
											 Thread.sleep(1000);
											 
											 if(tn7<tn5)
											 {
												 li11.setVisible(false);
												 li11.setIcon(g5);
												 li11.setVisible(true);
												 
												 Thread.sleep(1000);
												 funcn7(s,len,mac,sip,dname,dip);
											 }
											 else if(tn5<tn7)
											 {
												 
												 li9.setVisible(false);
												 li9.setIcon(g7);
												 li9.setVisible(true);
												 
												 Thread.sleep(1000);
												 
												 Statement stmtn5 = con.createStatement();
												 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
												 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
												 
												 if(rsn5.next()==true)
												 {
													 String bw3=rsn5.getString(4);
													
													 int bw13=Integer.parseInt(bw3);
													 
													 if(len<bw13)
													 {
														 
														 lbn5.setVisible(false);
															lbn5.setIcon(gn5);
															lbn5.setVisible(true);
														 
														 Thread.sleep(1000);
														
														 tn7= r1.nextInt(50);
														 tn6=r1.nextInt(50);
														 
														 l12.setVisible(false);
														 l12.setText(Integer.toString(tn7));
														 l12.setVisible(true);
														 
														 l10.setVisible(false);
														 l10.setText(Integer.toString(tn6));
														 l10.setVisible(true);
														 
														 Thread.sleep(1000);
														 
														 
														 
														 if(tn7<tn6)
														 {
															 
															 li12.setVisible(false);
															 li12.setIcon(g2);
															 li12.setVisible(true);
															 
															 funcn7(s,len,mac,sip,dname,dip);
														 }
														 else if(tn6<tn7)
														 {
															 
															 li10.setVisible(false);
															 li10.setIcon(g7);
															 li10.setVisible(true);
															 
															 Thread.sleep(1000);
															 
															 
															 Statement stmtn6 = con.createStatement();
															 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
															 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
															 
															 if(rsn6.next()==true)
															 {
																 String bw4=rsn6.getString(4);
																 
																 int bw14=Integer.parseInt(bw4);
																 
																 if(len<bw14)
																 {
																	 lbn6.setVisible(false);
																		lbn6.setIcon(gn6);
																		lbn6.setVisible(true);
																		
																		 Thread.sleep(1000);
																		 li13.setVisible(false);
																		 li13.setIcon(g6);
																		 li13.setVisible(true);
																	 funcn7(s,len,mac,sip,dname,dip);
																 }
																 else 
																 {
																	 //evasdropper in node6
																	 
																	 lbn6.setVisible(false);
																		lbn6.setIcon(rn6);
																		lbn6.setVisible(true);
																	 
																	 Thread.sleep(1000);
																	 Statement stu1 = con.createStatement();
																	 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
																	 stu1.executeUpdate(sqlu1);
																	 
																	 Socket sc1=new Socket("localhost",2014);
																	 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																	 dout.writeUTF("N6");
																	 dout.writeUTF(bw4);
																	
																	 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																	 String msg=din1.readUTF();
																	 if(msg.equalsIgnoreCase("success"))
																	 {
																		 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
																	 }
																	 
																	 li10.setVisible(false);
																	 li10.setIcon(g7);
																	 li10.setVisible(true);
																	 Thread.sleep(1000);
																	 lbn5.setVisible(false);
																	 lbn5.setIcon(gn5);
																	 lbn5.setVisible(true);
																	 Thread.sleep(1000);
																	 li12.setVisible(false);
																	 li12.setIcon(g2);
																	 li12.setVisible(true);
																	 
																	 funcn7(s,len,mac,sip,dname,dip);
																 }
																 
																 
															 }else  if(rsn6.next()==false)
															 {
																 lbn6.setVisible(false);
																	lbn6.setIcon(rn6);
																	lbn6.setVisible(true);
																	Thread.sleep(1000);
																	 Statement stu1 = con.createStatement();
																	 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
																	 stu1.executeUpdate(sqlu1);
																 Socket sc1=new Socket("localhost",2015);
																 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																 dout.writeUTF("N6");
																 String cip6=rsn6.getString(2);
																 dout.writeUTF(cip6);
																 
																 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																 String msg=din1.readUTF();
																 if(msg.equalsIgnoreCase("success"))
																 {
																	 JOptionPane.showMessageDialog(null,"Malicious Attacker in N6");
																 }
																 
																 li10.setVisible(false);
																 li10.setIcon(g7);
																 li10.setVisible(true);
																 Thread.sleep(1000);
																 lbn5.setVisible(false);
																 lbn5.setIcon(gn5);
																 lbn5.setVisible(true);
																 Thread.sleep(1000);
																 li12.setVisible(false);
																 li12.setIcon(g2);
																 li12.setVisible(true);
																 
																 funcn7(s,len,mac,sip,dname,dip);
															 }
														 
														 }
														 
														 
														 
													 }
													 else 
													 {
														 //evasdropper in node5
														 
														 lbn5.setVisible(false);
															lbn5.setIcon(rn5);
															lbn5.setVisible(true);
														 
														 Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
														 stu1.executeQuery(sqlu1);
														 
														 Socket sc1=new Socket("localhost",2014);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N5");
														 dout.writeUTF(bw3);
														
														 DataInputStream din1=new DataInputStream(sc1.getInputStream());
														 String msg=din1.readUTF();
														 if(msg.equalsIgnoreCase("success"))
														 {
															 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
														 }
														 
														 li9.setVisible(false);
														 li9.setIcon(g7);
														 li9.setVisible(true);
														 Thread.sleep(1000);
														 lbn4.setVisible(false);
														 lbn4.setIcon(gn4);
														 lbn4.setVisible(true);
														 Thread.sleep(1000);
														 li11.setVisible(false);
														 li11.setIcon(g5);
														 li11.setVisible(true);
														 
														 funcn7(s,len,mac,sip,dname,dip);
													
													 }
												 }else  if(rsn5.next()==false)
												 {
													 lbn5.setVisible(false);
														lbn5.setIcon(rn5);
														lbn5.setVisible(true);
														Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
														 stu1.executeUpdate(sqlu1);
													 Socket sc1=new Socket("localhost",2015);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N5");
													 String cip5=rsn5.getString(2);
													 dout.writeUTF(cip5);
													 DataInputStream din1=new DataInputStream(sc1.getInputStream());
													 String msg=din1.readUTF();
													 if(msg.equalsIgnoreCase("success"))
													 {
														 JOptionPane.showMessageDialog(null,"Malicious Attacker in N5");
													 }
													 li9.setVisible(false);
													 li9.setIcon(g7);
													 li9.setVisible(true);
													 Thread.sleep(1000);
													 lbn4.setVisible(false);
													 lbn4.setIcon(gn4);
													 lbn4.setVisible(true);
													 Thread.sleep(1000);
													 li11.setVisible(false);
													 li11.setIcon(g5);
													 li11.setVisible(true);
													 
													 funcn7(s,len,mac,sip,dname,dip);
												 }
												 
											 }
												 
											 
											 
											 
											 
										 }
										 else 
										 {
											 //evasdropper in node 4
											 
											 lbn4.setVisible(false);
												lbn4.setIcon(rn4);
												lbn4.setVisible(true);
											 
											 Thread.sleep(1000);
											 Statement stu1 = con.createStatement();
											 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N4'";
											 stu1.executeQuery(sqlu1);
											 
											 Socket sc1=new Socket("localhost",2014);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N4");
											 dout.writeUTF(bw2);
											
											 DataInputStream din1=new DataInputStream(sc1.getInputStream());
											 String msg=din1.readUTF();
											 if(msg.equalsIgnoreCase("success"))
											 {
												 JOptionPane.showMessageDialog(null,"Traffic Occurs in N4");
											 }
											 
											 li6.setVisible(false);
											 li6.setIcon(g4);
											 li6.setVisible(true);
											 Thread.sleep(1000);
											 lbn1.setVisible(false);
											 lbn1.setIcon(gn1);
											 lbn1.setVisible(true);
											 Thread.sleep(1000);
											 
											 
											 
										
										 }
										 
									 }else  if(rsn4.next()==false)
									 {
										 lbn4.setVisible(false);
											lbn4.setIcon(rn4);
											lbn4.setVisible(true);
											Thread.sleep(1000);
											 Statement stu1 = con.createStatement();
											 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N4'";
											 stu1.executeUpdate(sqlu1);
										 Socket sc1=new Socket("localhost",2015);
										 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
										 dout.writeUTF("N4");
										 String cip4=rsn4.getString(2);
										 dout.writeUTF(cip4);
										 DataInputStream din1=new DataInputStream(sc1.getInputStream());
										 String msg=din1.readUTF();
										 if(msg.equalsIgnoreCase("success"))
										 {
											 JOptionPane.showMessageDialog(null,"Malicious Attacker in N4");
										 }
										 li6.setVisible(false);
										 li6.setIcon(g4);
										 li6.setVisible(true);
										 Thread.sleep(1000);
										 lbn1.setVisible(false);
										 lbn1.setIcon(gn1);
										 lbn1.setVisible(true);
										 Thread.sleep(1000);
									 }
									 
									 
								 }
								 else if(tn2<tn4)
								 {
									 
									 li4.setVisible(false);
									 li4.setIcon(g7);
									 li4.setVisible(true);
									 
									 Thread.sleep(1000);
									 
									 Statement stmtn2 = con.createStatement();
									 String sqln2 = "select * from Nodesinfo where Nname='N2' and Keys='"+mac+"' and senderip='"+sip+"'";
									 ResultSet rsn2 = stmtn2.executeQuery(sqln2);
									 
									 if(rsn2.next()==true)
									 {
										 String bw5=rsn2.getString(4);
										 
										 int bw15=Integer.parseInt(bw5);
										 
										 if(len<bw15)
										 {
											 lbn2.setVisible(false);
											 lbn2.setIcon(gn2);
											 lbn2.setVisible(true);
											 Thread.sleep(1000);
											 
											 tn5 = r1.nextInt(50);
											 tn3= r1.nextInt(50);
											 
											 l7.setVisible(false);
											 l7.setText(Integer.toString(tn5));
											 l7.setVisible(true);
											 
											 l5.setVisible(false);
											 l5.setText(Integer.toString(tn3));
											 l5.setVisible(true);
											 
											 Thread.sleep(1000);
											 
											 
											 if(tn5<tn3)
											 {
												 
												 li7.setVisible(false);
												 li7.setIcon(g4);
												 li7.setVisible(true);
												 
												 Thread.sleep(1000);
												 
												 Statement stmtn5 = con.createStatement();
												 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
												 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
												 
												 if(rsn5.next()==true)
												 {
													 String bw6=rsn5.getString(4);
													 
													 int bw16=Integer.parseInt(bw6);
													 
													 if(len<bw16)
													 {
														 
														 lbn5.setVisible(false);
														 lbn5.setIcon(gn5);
														 lbn5.setVisible(true);
														 Thread.sleep(1000);
														 
														 tn4=r1.nextInt(50);
														 tn7=r1.nextInt(50);
														 tn6=r1.nextInt(50);
														 
														 l9.setVisible(false);
														 l9.setText(Integer.toString(tn4));
														 l9.setVisible(true);
														 
														 l12.setVisible(false);
														 l12.setText(Integer.toString(tn7));
														 l12.setVisible(true);
														 
														 
														 l10.setVisible(false);
														 l10.setText(Integer.toString(tn6));
														 l10.setVisible(true);
														 
														 Thread.sleep(1000);
														 
														 
														 
														 if(tn4<tn7&&tn4<tn6)
														 {
															 li9.setVisible(false);
															 li9.setIcon(g7);
															 li9.setVisible(true);
															 
															 Thread.sleep(1000);
															 
															 Statement stmtn4 = con.createStatement();
															 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"'";
															 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
															 
															 if(rsn4.next()==true)
															 {
																 String bw7=rsn4.getString(4);
																 
																 int bw17=Integer.parseInt(bw7);
																 
																 if(len<bw17)
																 {
																	 lbn4.setVisible(false);
																	 lbn4.setIcon(gn4);
																	 lbn4.setVisible(true);
																	 Thread.sleep(1000);
																	 
																	 
																	 li11.setVisible(false);
																	 li11.setIcon(g5);
																	 li11.setVisible(true);
															
																	 funcn7(s,len,mac,sip,dname,dip);
																 }
																 else
																 {
																	//evasdropper in node4
																	 lbn4.setVisible(false);
																		lbn4.setIcon(rn4);
																		lbn4.setVisible(true);
																	 
																	 Thread.sleep(1000);
																	 Statement stu1 = con.createStatement();
																	 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N4'";
																	 stu1.executeQuery(sqlu1);
																	 
																	 Socket sc1=new Socket("localhost",2014);
																	 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																	 dout.writeUTF("N4");
																	 dout.writeUTF(bw7);
																	
																	 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																	 String msg=din1.readUTF();
																	 if(msg.equalsIgnoreCase("success"))
																	 {
																		 JOptionPane.showMessageDialog(null,"Traffic Occurs in N4");
																	 }
																	 
																	 li9.setVisible(false);
																	 li9.setIcon(g7);
																	 li9.setVisible(true);
																	 Thread.sleep(1000);
																	 lbn5.setVisible(false);
																	 lbn5.setIcon(gn5);
																	 lbn5.setVisible(true);
																	 Thread.sleep(1000);
																	 li12.setVisible(false);
																	 li12.setIcon(g2);
																	 li12.setVisible(true);
																	 Thread.sleep(1000);
																	 funcn7(s,len,mac,sip,dname,dip);
																	 
																 }
															 }
															 else  if(rsn4.next()==false)
															 {
																 lbn4.setVisible(false);
																	lbn4.setIcon(rn4);
																	lbn4.setVisible(true);
																	Thread.sleep(1000);
																	 Statement stu1 = con.createStatement();
																	 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N4'";
																	 stu1.executeUpdate(sqlu1);
																 Socket sc1=new Socket("localhost",2015);
																 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																 dout.writeUTF("N4");
																 String cip4=rsn4.getString(2);
																 dout.writeUTF(cip4);
																 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																 String msg=din1.readUTF();
																 if(msg.equalsIgnoreCase("success"))
																 {
																	 JOptionPane.showMessageDialog(null,"Malicious Attacker in N4");
																 }
																 li9.setVisible(false);
																 li9.setIcon(g7);
																 li9.setVisible(true);
																 Thread.sleep(1000);
																 lbn5.setVisible(false);
																 lbn5.setIcon(gn5);
																 lbn5.setVisible(true);
																 Thread.sleep(1000);
																 li12.setVisible(false);
																 li12.setIcon(g2);
																 li12.setVisible(true);
																 Thread.sleep(1000);
																 funcn7(s,len,mac,sip,dname,dip);
															 }
															 
															 
															 
															 
															 
															 
														 }
														 else if(tn7<tn4&&tn7<tn6)
														 {
															 li12.setVisible(false);
															 li12.setIcon(g2);
															 li12.setVisible(true);
															 Thread.sleep(1000);
															 
															
															 funcn7(s,len,mac,sip,dname,dip);
														 }
														 else if(tn6<tn4&&tn6<tn7)
														 {
															 li10.setVisible(false);
															 li10.setIcon(g7);
															 li10.setVisible(true);
															 Thread.sleep(1000);
															 
															 
															 Statement stmtn6 = con.createStatement();
															 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
															 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
															 
															 if(rsn6.next()==true)
															 {
																 String bw8=rsn6.getString(4);
																 
																 int bw18=Integer.parseInt(bw8);
																 
																 if(len<bw18)
																 {
																	 lbn6.setVisible(false);
																	 lbn6.setIcon(gn6);
																	 lbn6.setVisible(true);
																	 
																	 Thread.sleep(1000);
																	 
																	 li13.setVisible(false);
																	 li13.setIcon(g6);
																	 li13.setVisible(true);
																	 Thread.sleep(1000);
																	 
																	 funcn7(s,len,mac,sip,dname,dip);
																 }
																 else
																 {
																	//evasdropper in node6
																	
																	 lbn6.setVisible(false);
																		lbn6.setIcon(rn6);
																		lbn6.setVisible(true);
																	 
																	 Thread.sleep(1000);
																	 Statement stu1 = con.createStatement();
																	 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
																	 stu1.executeUpdate(sqlu1);
																	 
																	 Socket sc1=new Socket("localhost",2014);
																	 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																	 dout.writeUTF("N6");
																	 dout.writeUTF(bw8);
																	
																	 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																	 String msg=din1.readUTF();
																	 if(msg.equalsIgnoreCase("success"))
																	 {
																		 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
																	 }
																	 
																	 li10.setVisible(false);
																	 li10.setIcon(g7);
																	 li10.setVisible(true);
																	 Thread.sleep(1000);
																	 lbn5.setVisible(false);
																	 lbn5.setIcon(gn5);
																	 lbn5.setVisible(true);
																	 Thread.sleep(1000);
																	 li12.setVisible(false);
																	 li12.setIcon(g2);
																	 li12.setVisible(true);
																	 
																	 funcn7(s,len,mac,sip,dname,dip);
																	
																
																	 
																 }
															 }
															 else  if(rsn6.next()==false)
															 {
																 lbn6.setVisible(false);
																	lbn6.setIcon(rn6);
																	lbn6.setVisible(true);
																	Thread.sleep(1000);
																	 Statement stu1 = con.createStatement();
																	 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
																	 stu1.executeUpdate(sqlu1);
																 Socket sc1=new Socket("localhost",2015);
																 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																 dout.writeUTF("N6");
																 String cip6=rsn6.getString(2);
																 dout.writeUTF(cip6);
																 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																 String msg=din1.readUTF();
																 if(msg.equalsIgnoreCase("success"))
																 {
																	 JOptionPane.showMessageDialog(null,"Malicious Attacker in N6");
																 }
																 li10.setVisible(false);
																 li10.setIcon(g7);
																 li10.setVisible(true);
																 Thread.sleep(1000);
																 lbn5.setVisible(false);
																 lbn5.setIcon(gn5);
																 lbn5.setVisible(true);
																 Thread.sleep(1000);
																 li12.setVisible(false);
																 li12.setIcon(g2);
																 li12.setVisible(true);
																 
																 funcn7(s,len,mac,sip,dname,dip);
															 }
														 
														 }
														 
														 
														 
														 
													 }
													 else 
													 {
														 //evasdropper in node5
														 
														 lbn5.setVisible(false);
															lbn5.setIcon(rn5);
															lbn5.setVisible(true);
														 
														 Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
														 stu1.executeQuery(sqlu1);
														 
														 Socket sc1=new Socket("localhost",2014);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N5");
														 dout.writeUTF(bw6);
														
														 DataInputStream din1=new DataInputStream(sc1.getInputStream());
														 String msg=din1.readUTF();
														 if(msg.equalsIgnoreCase("success"))
														 {
															 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
														 }
														 
														 li9.setVisible(false);
														 li9.setIcon(g7);
														 li9.setVisible(true);
														 Thread.sleep(1000);
														 lbn4.setVisible(false);
														 lbn4.setIcon(gn4);
														 lbn4.setVisible(true);
														 Thread.sleep(1000);
														 li11.setVisible(false);
														 li11.setIcon(g5);
														 li11.setVisible(true);
														 
														 funcn7(s,len,mac,sip,dname,dip);
														
														
													 }
													 
													 
												 }
												 else  if(rsn5.next()==false)
												 {
													 lbn5.setVisible(false);
														lbn5.setIcon(rn5);
														lbn5.setVisible(true);
														Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
														 stu1.executeUpdate(sqlu1);
													 Socket sc1=new Socket("localhost",2015);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N5");
													 String cip5=rsn5.getString(2);
													 dout.writeUTF(cip5);
													 DataInputStream din1=new DataInputStream(sc1.getInputStream());
													 String msg=din1.readUTF();
													 if(msg.equalsIgnoreCase("success"))
													 {
														 JOptionPane.showMessageDialog(null,"Malicious Attacker in N5");
													 }
													 li9.setVisible(false);
													 li9.setIcon(g7);
													 li9.setVisible(true);
													 Thread.sleep(1000);
													 lbn4.setVisible(false);
													 lbn4.setIcon(gn4);
													 lbn4.setVisible(true);
													 Thread.sleep(1000);
													 li11.setVisible(false);
													 li11.setIcon(g5);
													 li11.setVisible(true);
													 
													 funcn7(s,len,mac,sip,dname,dip);
												 }
												 
												 
												 
											 }
											 else if(tn3<tn5)
											 {
												 
												 li5.setVisible(false);
												 li5.setIcon(g7);
												 li5.setVisible(true);
												 
												 Thread.sleep(1000);
												 
												 Statement stmtn3 = con.createStatement();
												 String sqln3 = "select * from Nodesinfo where Nname='N3' and Keys='"+mac+"' and senderip='"+sip+"'";
												 ResultSet rsn3 = stmtn3.executeQuery(sqln3);
												 
												 if(rsn3.next()==true)
												 {
													 String bw9=rsn3.getString(4);
													 
													 int bw19=Integer.parseInt(bw9);
													 
													 if(len<bw19)
													 { 
														 lbn3.setVisible(false);
														 lbn3.setIcon(gn3);
														 lbn3.setVisible(true);
														 
														 Thread.sleep(1000);
														 
														 li8.setVisible(false);
														 li8.setIcon(g4);
														 li8.setVisible(true);
														 
														 Thread.sleep(1000);
														 
														 Statement stmtn6 = con.createStatement();
														 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
														 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
														 
														 if(rsn6.next()==true)
														 {
															 String bw10=rsn6.getString(4);
															 
															 int bw20=Integer.parseInt(bw10);
															 
															 if(len<bw20)
															 { 
																 lbn6.setVisible(false);
																 lbn6.setIcon(gn6);
																 lbn6.setVisible(true);
																 Thread.sleep(1000);
																 
																 tn5=r1.nextInt(50);
																	tn7=r1.nextInt(50);
																	
																	l10.setVisible(false);
																	l10.setText(Integer.toString(tn5));
																	l10.setVisible(true);
																	
																	l13.setVisible(false);
																	l13.setText(Integer.toString(tn7));
																	l13.setVisible(true);
																	
																	Thread.sleep(1000);
																	
																	if(tn5<tn7)
																	{
																		
																		li10.setVisible(false);
																		li10.setIcon(g7);
																		li10.setVisible(true);
																		
																		Thread.sleep(1000);
																		
																		 Statement stmtn5 = con.createStatement();
																		 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
																		 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
																		 
																		 if(rsn5.next()==true)
																		 {
																			 String bw21=rsn5.getString(4);
																			 
																			 int bw31=Integer.parseInt(bw21);
																			 
																			 if(len<bw31)
																			 { 
																				 lbn5.setVisible(false);
																				 lbn5.setIcon(gn5);
																				 lbn5.setVisible(true);
																				 Thread.sleep(1000);
																				 
																				tn7=r1.nextInt(50);
																				tn4=r1.nextInt(50);
																				
																				l12.setVisible(false);
																				l12.setText(Integer.toString(tn7));
																				l12.setVisible(true);
																				
																				l9.setVisible(false);
																				l9.setText(Integer.toString(tn4));
																				l9.setVisible(true);
																				
																				Thread.sleep(1000);
																				
																				if(tn7<tn4)
																				{
																					li12.setVisible(false);
																					li12.setIcon(g2);
																					li12.setVisible(true);
																					
																					Thread.sleep(1000);
																					
																					funcn7(s,len,mac,sip,dname,dip);
																				}
																				else if(tn4<tn7)
																				{
																					li9.setVisible(false);
																					li9.setIcon(g7);
																					li9.setVisible(true);
																					
																					Thread.sleep(1000);
																					
																					Statement stmtn4 = con.createStatement();
																					 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"'";
																					 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
																					 
																					 if(rsn4.next()==true)
																					 {
																						 String bw22=rsn4.getString(4);
																						 
																						 int bw32=Integer.parseInt(bw22);
																						 
																						 if(len<bw32)
																						 { 
																							 lbn4.setVisible(false);
																							 lbn4.setIcon(gn4);
																							 lbn4.setVisible(true);
																							 Thread.sleep(1000);
																							 
																							 li11.setVisible(false);
																							 li11.setIcon(g5);
																							 li11.setVisible(true);
																							 
																							 Thread.sleep(1000);
																							 
																							 funcn7(s,len,mac,sip,dname,dip);
																						 
																						 }
																						 else 
																						 {
																							 //evasdropper in node4
																							 
																							 lbn4.setVisible(false);
																								lbn4.setIcon(rn4);
																								lbn4.setVisible(true);
																							 
																							 Thread.sleep(1000);
																							 Statement stu1 = con.createStatement();
																							 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N4'";
																							 stu1.executeQuery(sqlu1);
																							 
																							 Socket sc1=new Socket("localhost",2014);
																							 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																							 dout.writeUTF("N4");
																							 dout.writeUTF(bw22);
																							
																							 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																							 String msg=din1.readUTF();
																							 if(msg.equalsIgnoreCase("success"))
																							 {
																								 JOptionPane.showMessageDialog(null,"Traffic Occurs in N4");
																							 }
																							 
																							 li9.setVisible(false);
																							 li9.setIcon(g7);
																							 li9.setVisible(true);
																							 Thread.sleep(1000);
																							 lbn5.setVisible(false);
																							 lbn5.setIcon(gn5);
																							 lbn5.setVisible(true);
																							 Thread.sleep(1000);
																							 li12.setVisible(false);
																							 li12.setIcon(g2);
																							 li12.setVisible(true);
																							 Thread.sleep(1000);
																							 funcn7(s,len,mac,sip,dname,dip);
																							
																							 
																						 }
																					 }
																					 else  if(rsn4.next()==false)
																					 {
																						 lbn4.setVisible(false);
																							lbn4.setIcon(rn4);
																							lbn4.setVisible(true);
																							Thread.sleep(1000);
																							 Statement stu1 = con.createStatement();
																							 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N4'";
																							 stu1.executeUpdate(sqlu1);
																						 Socket sc1=new Socket("localhost",2015);
																						 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																						 dout.writeUTF("N4");
																						 String cip4=rsn4.getString(2);
																						 dout.writeUTF(cip4);
																						 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																						 String msg=din1.readUTF();
																						 if(msg.equalsIgnoreCase("success"))
																						 {
																							 JOptionPane.showMessageDialog(null,"Malicious Attacker in N4");
																						 }
																						 li9.setVisible(false);
																						 li9.setIcon(g7);
																						 li9.setVisible(true);
																						 Thread.sleep(1000);
																						 lbn5.setVisible(false);
																						 lbn5.setIcon(gn5);
																						 lbn5.setVisible(true);
																						 Thread.sleep(1000);
																						 li12.setVisible(false);
																						 li12.setIcon(g2);
																						 li12.setVisible(true);
																						 Thread.sleep(1000);
																						 funcn7(s,len,mac,sip,dname,dip);
																					 }
																					 
																					 
																					
																				}
																				
																				
																			 }
																			 else 
																			 {
																				 //evasdropper in node5
																				 
																				 lbn5.setVisible(false);
																					lbn5.setIcon(rn5);
																					lbn5.setVisible(true);
																				 
																				 Thread.sleep(1000);
																				 Statement stu1 = con.createStatement();
																				 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
																				 stu1.executeQuery(sqlu1);
																				 
																				 Socket sc1=new Socket("localhost",2014);
																				 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																				 dout.writeUTF("N5");
																				 dout.writeUTF(bw21);
																				
																				 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																				 String msg=din1.readUTF();
																				 if(msg.equalsIgnoreCase("success"))
																				 {
																					 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
																				 }
																				 
																				 li10.setVisible(false);
																				 li10.setIcon(g7);
																				 li10.setVisible(true);
																				 Thread.sleep(1000);
																				 lbn6.setVisible(false);
																				 lbn6.setIcon(gn6);
																				 lbn6.setVisible(true);
																				 Thread.sleep(1000);
																				 li13.setVisible(false);
																				 li13.setIcon(g6);
																				 li13.setVisible(true);
																				 
																				 funcn7(s,len,mac,sip,dname,dip);
																				
																			 }
																		 }
																		 else  if(rsn5.next()==false)
																		 {
																			 lbn5.setVisible(false);
																				lbn5.setIcon(rn5);
																				lbn5.setVisible(true);
																				Thread.sleep(1000);
																				 Statement stu1 = con.createStatement();
																				 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
																				 stu1.executeUpdate(sqlu1);
																			 Socket sc1=new Socket("localhost",2015);
																			 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																			 dout.writeUTF("N5");
																			 String cip5=rsn5.getString(2);
																			 dout.writeUTF(cip5);
																			 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																			 String msg=din1.readUTF();
																			 if(msg.equalsIgnoreCase("success"))
																			 {
																				 JOptionPane.showMessageDialog(null,"Malicious Attacker in N5");
																			 }
																			 li10.setVisible(false);
																			 li10.setIcon(g7);
																			 li10.setVisible(true);
																			 Thread.sleep(1000);
																			 lbn6.setVisible(false);
																			 lbn6.setIcon(gn6);
																			 lbn6.setVisible(true);
																			 Thread.sleep(1000);
																			 li13.setVisible(false);
																			 li13.setIcon(g6);
																			 li13.setVisible(true);
																			 
																			 funcn7(s,len,mac,sip,dname,dip);
																		 }
																		
																		
																		
																		
																	}
																	else if(tn7<tn5)
																	{
																		
																		li12.setVisible(false);
																		li12.setIcon(g2);
																		li12.setVisible(true);
																		
																		Thread.sleep(1000);
																		
																		funcn7(s,len,mac,sip,dname,dip);
																	}
																	
															 }
															 else
															 {
																//evasdropper in node6
																 
																 lbn6.setVisible(false);
																	lbn6.setIcon(rn6);
																	lbn6.setVisible(true);
																 
																 Thread.sleep(1000);
																 Statement stu1 = con.createStatement();
																 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
																 stu1.executeUpdate(sqlu1);
																 
																 Socket sc1=new Socket("localhost",2014);
																 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																 dout.writeUTF("N6");
																 dout.writeUTF(bw10);
																
																 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																 String msg=din1.readUTF();
																 if(msg.equalsIgnoreCase("success"))
																 {
																	 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
																 }
																 
																 li10.setVisible(false);
																 li10.setIcon(g7);
																 li10.setVisible(true);
																 Thread.sleep(1000);
																 lbn5.setVisible(false);
																 lbn5.setIcon(gn5);
																 lbn5.setVisible(true);
																 Thread.sleep(1000);
																 li12.setVisible(false);
																 li12.setIcon(g2);
																 li12.setVisible(true);
																 
																 funcn7(s,len,mac,sip,dname,dip);
																
																 
															 }
														 }else  if(rsn6.next()==false)
														 {
															 lbn6.setVisible(false);
																lbn6.setIcon(rn6);
																lbn6.setVisible(true);
																Thread.sleep(1000);
																 Statement stu1 = con.createStatement();
																 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
																 stu1.executeUpdate(sqlu1);
															 Socket sc1=new Socket("localhost",2015);
															 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
															 dout.writeUTF("N6");
															 String cip6=rsn6.getString(2);
															 dout.writeUTF(cip6);
															 DataInputStream din1=new DataInputStream(sc1.getInputStream());
															 String msg=din1.readUTF();
															 if(msg.equalsIgnoreCase("success"))
															 {
																 JOptionPane.showMessageDialog(null,"Malicious Attacker in N6");
															 }
															 li10.setVisible(false);
															 li10.setIcon(g7);
															 li10.setVisible(true);
															 Thread.sleep(1000);
															 lbn5.setVisible(false);
															 lbn5.setIcon(gn5);
															 lbn5.setVisible(true);
															 Thread.sleep(1000);
															 li12.setVisible(false);
															 li12.setIcon(g2);
															 li12.setVisible(true);
															 
															 funcn7(s,len,mac,sip,dname,dip);
														 }
													 
														 
													 }
													 else 
													 {
														 //evasdropper in node3
														 
														 
														 lbn3.setVisible(false);
															lbn3.setIcon(rn3);
															lbn3.setVisible(true);
														 
														 Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N3'";
														 stu1.executeUpdate(sqlu1);
														 
														 Socket sc1=new Socket("localhost",2014);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N3");
														 dout.writeUTF(bw9);
														
														 DataInputStream din1=new DataInputStream(sc1.getInputStream());
														 String msg=din1.readUTF();
														 if(msg.equalsIgnoreCase("success"))
														 {
															 JOptionPane.showMessageDialog(null,"Traffic Occurs in N3");
														 }
														 
														 li5.setVisible(false);
														 li5.setIcon(g7);
														 li5.setVisible(true);
														 Thread.sleep(1000);
														 lbn2.setVisible(false);
														 lbn2.setIcon(gn2);
														 lbn2.setVisible(true);
														 Thread.sleep(1000);
														 li7.setVisible(false);
														 li7.setIcon(g4);
														 li7.setVisible(true);
														 lbn5.setVisible(false);
														 lbn5.setIcon(gn5);
														 lbn5.setVisible(true);
														 Thread.sleep(1000);
														 li12.setVisible(false);
														 li12.setIcon(g2);
														 li12.setVisible(true);
														 funcn7(s,len,mac,sip,dname,dip);
														 
														 
													 }
													 
													 
												 }else  if(rsn3.next()==false)
												 {
													 
													 lbn3.setVisible(false);
														lbn3.setIcon(rn3);
														lbn3.setVisible(true);
														Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N3'";
														 stu1.executeUpdate(sqlu1);
													 Socket sc1=new Socket("localhost",2015);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N3");
													 String cip3=rsn3.getString(2);
													 dout.writeUTF(cip3);
													 DataInputStream din1=new DataInputStream(sc1.getInputStream());
													 String msg=din1.readUTF();
													 if(msg.equalsIgnoreCase("success"))
													 {
														 JOptionPane.showMessageDialog(null,"Malicious Attacker in N3");
													 }
													 li5.setVisible(false);
													 li5.setIcon(g7);
													 li5.setVisible(true);
													 Thread.sleep(1000);
													 lbn2.setVisible(false);
													 lbn2.setIcon(gn2);
													 lbn2.setVisible(true);
													 Thread.sleep(1000);
													 li7.setVisible(false);
													 li7.setIcon(g4);
													 li7.setVisible(true);
													 Thread.sleep(1000);
													 lbn5.setVisible(false);
													 lbn5.setIcon(gn5);
													 lbn5.setVisible(true);
													 Thread.sleep(1000);
													 li12.setVisible(false);
													 li12.setIcon(g2);
													 li12.setVisible(true);
													 funcn7(s,len,mac,sip,dname,dip);
												 }
												 
												 
											 }
											 
											 
										 }
										 else 
										 {
											 //evasdropper in node 2
											 
											 
											 lbn2.setVisible(false);
												lbn2.setIcon(rn2);
												lbn2.setVisible(true);
											 
											 Thread.sleep(1000);
											 Statement stu1 = con.createStatement();
											 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N2'";
											 stu1.executeUpdate(sqlu1);
											 
											 Socket sc1=new Socket("localhost",2014);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N2");
											 dout.writeUTF(bw5);
											
											 DataInputStream din1=new DataInputStream(sc1.getInputStream());
											 String msg=din1.readUTF();
											 if(msg.equalsIgnoreCase("success"))
											 {
												 JOptionPane.showMessageDialog(null,"Traffic Occurs in N2");
											 }
											 
											 li7.setVisible(false);
											 li7.setIcon(g4);
											 li7.setVisible(true);
											 Thread.sleep(1000);
											 lbn5.setVisible(false);
											 lbn5.setIcon(gn5);
											 lbn5.setVisible(true);
											 Thread.sleep(1000);
											 li12.setVisible(false);
											 li12.setIcon(g2);
											 li12.setVisible(true);
											 funcn7(s,len,mac,sip,dname,dip);
											
											 
										 }
										 
									 }else  if(rsn2.next()==false)
									 {
										 
										 lbn2.setVisible(false);
											lbn2.setIcon(rn2);
											lbn2.setVisible(true);
											Thread.sleep(1000);
											 Statement stu1 = con.createStatement();
											 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N2'";
											 stu1.executeUpdate(sqlu1);
										 Socket sc1=new Socket("localhost",2015);
										 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
										 dout.writeUTF("N2");
										 String cip2=rsn2.getString(2);
										 dout.writeUTF(cip2);
										 
										 DataInputStream din1=new DataInputStream(sc1.getInputStream());
										 String msg=din1.readUTF();
										 if(msg.equalsIgnoreCase("success"))
										 {
											 JOptionPane.showMessageDialog(null,"Malicious Attacker in N2");
										 }
										 li7.setVisible(false);
										 li7.setIcon(g4);
										 li7.setVisible(true);
										 Thread.sleep(1000);
										 lbn5.setVisible(false);
										 lbn5.setIcon(gn5);
										 lbn5.setVisible(true);
										 Thread.sleep(1000);
										 li12.setVisible(false);
										 li12.setIcon(g2);
										 li12.setVisible(true);
										 funcn7(s,len,mac,sip,dname,dip);
									 }
									 
								 }
								 
								 
								 
							 }
							 else 
							 {
								 // EvasDropper in node1
								 
								 lbn1.setVisible(false);
									lbn1.setIcon(rn1);
									lbn1.setVisible(true);
								 
								 Thread.sleep(1000);
								 Statement stu1 = con.createStatement();
								 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N1'";
								 stu1.executeUpdate(sqlu1);
								 
								 Socket sc1=new Socket("localhost",2014);
								 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
								 dout.writeUTF("N1");
								 dout.writeUTF(bw1);
								
								 DataInputStream din1=new DataInputStream(sc1.getInputStream());
								 String msg=din1.readUTF();
								 if(msg.equalsIgnoreCase("success"))
								 {
									 JOptionPane.showMessageDialog(null,"Traffic Occurs in N1");
								 }
								 
								 li4.setVisible(false);
								 li4.setIcon(g7);
								 li4.setVisible(true);
								 Thread.sleep(1000);
								 lbn2.setVisible(false);
								 lbn2.setIcon(gn2);
								 lbn2.setVisible(true);
								 Thread.sleep(1000);
								 li7.setVisible(false);
								 li7.setIcon(g4);
								 li7.setVisible(true);
								 Thread.sleep(1000);
								 lbn5.setVisible(false);
								 lbn5.setIcon(gn5);
								 lbn5.setVisible(true);
								 Thread.sleep(1000);
								 li12.setVisible(false);
								 li12.setIcon(g2);
								 li12.setVisible(true);
								 funcn7(s,len,mac,sip,dname,dip);
								 
								 
								 
							 }
							 
							 
						 }else  if(rsn1.next()==false)
						 {
							 
							 lbn1.setVisible(false);
								lbn1.setIcon(rn1);
								lbn1.setVisible(true);
								Thread.sleep(1000);
								 Statement stu1 = con.createStatement();
								 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N1'";
								 stu1.executeUpdate(sqlu1);
							 Socket sc1=new Socket("localhost",2015);
							 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
							 dout.writeUTF("N1");
							 String cip1=rsn1.getString(2);
							 dout.writeUTF(cip1);
							 
							 DataInputStream din1=new DataInputStream(sc1.getInputStream());
							 String msg=din1.readUTF();
							 if(msg.equalsIgnoreCase("success"))
							 {
								 JOptionPane.showMessageDialog(null,"Malicious Attacker in N1");
							 }
							 li4.setVisible(false);
							 li4.setIcon(g7);
							 li4.setVisible(true);
							 Thread.sleep(1000);
							 lbn2.setVisible(false);
							 lbn2.setIcon(gn2);
							 lbn2.setVisible(true);
							 Thread.sleep(1000);
							 li7.setVisible(false);
							 li7.setIcon(g4);
							 li7.setVisible(true);
							 Thread.sleep(1000);
							 lbn5.setVisible(false);
							 lbn5.setIcon(gn5);
							 lbn5.setVisible(true);
							 Thread.sleep(1000);
							 li12.setVisible(false);
							 li12.setIcon(g2);
							 li12.setVisible(true);
							 funcn7(s,len,mac,sip,dname,dip);
						 }
						 
						 
						 
						 
					 } //******************* Node1 ends Here 
					 
					 
					 
					 
					 else if(tn2<tn1 && tn2<tn3)
					 {
						 //node2
						 
						 li2.setVisible(false);
						 li2.setIcon(g2);
						 li2.setVisible(true);
						 
						 Thread.sleep(1000);
						 
					
						 Statement stmtn2 = con.createStatement();
						 String sqln2 = "select * from Nodesinfo where Nname='N2' and Keys='"+mac+"' and senderip='"+sip+"'";
						 ResultSet rsn2 = stmtn2.executeQuery(sqln2);
						 
						 if(rsn2.next()==true)
						 {
							 String bw23=rsn2.getString(4);
							 
							 int bw33=Integer.parseInt(bw23);
							 
							 if(len<bw33)
							 { 
								 lbn2.setVisible(false);
								 lbn2.setIcon(gn2);
								 lbn2.setVisible(true);
								 
								 Thread.sleep(1000);
								 
								 tn1=r1.nextInt(50);
								 tn5=r1.nextInt(50);
								 tn3=r1.nextInt(50);
								 
								 l4.setVisible(false);
								 l4.setText(Integer.toString(tn1));
								 l4.setVisible(true);
								 
								 l7.setVisible(false);
								 l7.setText(Integer.toString(tn5));
								 l7.setVisible(true);
								 
								 l5.setVisible(false);
								 l5.setText(Integer.toString(tn3));
								 l5.setVisible(true);
								 
								 Thread.sleep(1000);
								 
								 
								 
								 if(tn1<tn5&&tn1<tn3)
								 {
									 
									 li4.setVisible(false);
									 li4.setIcon(g7);
									 li4.setVisible(true);
									 
									 Thread.sleep(1000);
									 
									 
									 Statement stmtn1 = con.createStatement();
									 String sqln1 = "select * from Nodesinfo where Nname='N1' and Keys='"+mac+"' and senderip='"+sip+"'";
									 ResultSet rsn1 = stmtn1.executeQuery(sqln1);
									 
									 if(rsn1.next()==true)
									 {
										 String bw24=rsn1.getString(4);
										 
										 int bw34=Integer.parseInt(bw24);
										 
										 if(len<bw34)
										 { 
											 
											 lbn1.setVisible(false);
												lbn1.setIcon(gn1);
												lbn1.setVisible(true);
											 
											 Thread.sleep(1000);
											 
											 
											 li6.setVisible(false);
											 li6.setIcon(g4);
											 li6.setVisible(true);
										
											 Statement stmtn4 = con.createStatement();
											 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"'";
											 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
											 
											 if(rsn4.next()==true)
											 {
												 String bw25=rsn4.getString(4);
												 
												 int bw35=Integer.parseInt(bw25);
												 
												 if(len<bw35)
												 { 
													 
													 lbn4.setVisible(false);
														lbn4.setIcon(gn4);
														lbn4.setVisible(true);
													 
													 Thread.sleep(1000);
													 
													 tn7=r1.nextInt(50);
													 tn5=r1.nextInt(50);
													 
													 l11.setVisible(false);
													 l11.setText(Integer.toString(tn7));
													 l11.setVisible(true);
													 
													 l9.setVisible(false);
													 l9.setText(Integer.toString(tn5));
													 l9.setVisible(true);
													 
													 Thread.sleep(1000);
													 
													 
													 
													 if(tn7<tn5)
													 {
														 
														 li11.setVisible(false);
														 li11.setIcon(g5);
														 li11.setVisible(true);
														 
														 Thread.sleep(1000);
														 
														 
														 funcn7(s,len,mac,sip,dname,dip);
													 }
													 else if(tn5<tn7)
													 {
														 li9.setVisible(false);
														 li9.setIcon(g7);
														 li9.setVisible(true);
														 
														 Thread.sleep(1000);
														
														 Statement stmtn5 = con.createStatement();
														 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
														 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
														 
														 if(rsn5.next()==true)
														 {
															 String bw26=rsn5.getString(4);
															 
															 int bw36=Integer.parseInt(bw26);
															 
															 if(len<bw36)
															 { 
																 
																 lbn5.setVisible(false);
																	lbn5.setIcon(gn5);
																	lbn5.setVisible(true);
																 
																 Thread.sleep(1000);
																 
																 
																 tn7= r1.nextInt(50);
																 tn6=r1.nextInt(50);
																 
																 l12.setVisible(false);
																 l12.setText(Integer.toString(tn7));
																 l12.setVisible(true);
																 
																 l10.setVisible(false);
																 l10.setText(Integer.toString(tn6));
																 l10.setVisible(true);
																 
																 Thread.sleep(1000);
																 
																 
																 if(tn7<tn6)
																 {
																	 li12.setVisible(false);
																	 li12.setIcon(g2);
																	 li12.setVisible(true);
																	 
																	 Thread.sleep(1000);
																	 
																	 funcn7(s,len,mac,sip,dname,dip);
																 }
																 else if(tn6<tn7)
																 {
																	 li10.setVisible(false);
																	 li10.setIcon(g7);
																	 li10.setVisible(true);
																	 
																	 Thread.sleep(1000);
																	 
																	 Statement stmtn6 = con.createStatement();
																	 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
																	 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
																	 
																	 if(rsn6.next()==true)
																	 {
																		 String bw27=rsn6.getString(4);
																		 
																		 int bw37=Integer.parseInt(bw27);
																		 
																		 if(len<bw37)
																		 { 
																			 lbn6.setVisible(false);
																				lbn6.setIcon(gn6);
																				lbn6.setVisible(true);
																			 
																			 Thread.sleep(1000);
																			 
																			 li13.setVisible(false);
																			 li13.setIcon(g6);
																			 li13.setVisible(true);
																			 
																			 Thread.sleep(1000);
																		
																			 funcn7(s,len,mac,sip,dname,dip);
																		 }
																		 else 
																		 {
																			 //evasdropper in node6
																			 
																			 lbn6.setVisible(false);
																				lbn6.setIcon(rn6);
																				lbn6.setVisible(true);
																			 
																			 Thread.sleep(1000);
																			 Statement stu1 = con.createStatement();
																			 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
																			 stu1.executeUpdate(sqlu1);
																			 
																			 Socket sc1=new Socket("localhost",2014);
																			 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																			 dout.writeUTF("N6");
																			 dout.writeUTF(bw27);
																			
																			 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																			 String msg=din1.readUTF();
																			 if(msg.equalsIgnoreCase("success"))
																			 {
																				 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
																			 }
																			 
																			 li10.setVisible(false);
																			 li10.setIcon(g7);
																			 li10.setVisible(true);
																			 Thread.sleep(1000);
																			 lbn5.setVisible(false);
																			 lbn5.setIcon(gn5);
																			 lbn5.setVisible(true);
																			 Thread.sleep(1000);
																			 li12.setVisible(false);
																			 li12.setIcon(g2);
																			 li12.setVisible(true);
																			 funcn7(s,len,mac,sip,dname,dip);
																			
																				
																		
																			 
																		 }
																	 }else  if(rsn6.next()==false)
																	 {
																		 
																		 lbn6.setVisible(false);
																			lbn6.setIcon(rn6);
																			lbn6.setVisible(true);
																			Thread.sleep(1000);
																			 Statement stu1 = con.createStatement();
																			 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
																			 stu1.executeUpdate(sqlu1);
																		 Socket sc1=new Socket("localhost",2015);
																		 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																		 dout.writeUTF("N6");
																		 String cip6=rsn6.getString(2);
																		 dout.writeUTF(cip6);
																		 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																		 String msg=din1.readUTF();
																		 if(msg.equalsIgnoreCase("success"))
																		 {
																			 JOptionPane.showMessageDialog(null,"Malicious Attacker in N6");
																		 }
																		 li10.setVisible(false);
																		 li10.setIcon(g7);
																		 li10.setVisible(true);
																		 Thread.sleep(1000);
																		 lbn5.setVisible(false);
																		 lbn5.setIcon(gn5);
																		 lbn5.setVisible(true);
																		 Thread.sleep(1000);
																		 li12.setVisible(false);
																		 li12.setIcon(g2);
																		 li12.setVisible(true);
																		 funcn7(s,len,mac,sip,dname,dip);
																	 }
																 
																 }
																 
																 
																 
															 }
															 else 
															 {
																 //evasdropper in node5
																 
																 lbn5.setVisible(false);
																	lbn5.setIcon(rn5);
																	lbn5.setVisible(true);
																 
																 Thread.sleep(1000);
																 Statement stu1 = con.createStatement();
																 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
																 stu1.executeUpdate(sqlu1);
																 
																 Socket sc1=new Socket("localhost",2014);
																 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																 dout.writeUTF("N5");
																 dout.writeUTF(bw26);
																
																 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																 String msg=din1.readUTF();
																 if(msg.equalsIgnoreCase("success"))
																 {
																	 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
																 }
																 
																 li9.setVisible(false);
																 li9.setIcon(g7);
																 li9.setVisible(true);
																 Thread.sleep(1000);
																 lbn4.setVisible(false);
																 lbn4.setIcon(gn4);
																 lbn4.setVisible(true);
																 Thread.sleep(1000);
																 li11.setVisible(false);
																 li11.setIcon(g5);
																 li11.setVisible(true);
																 funcn7(s,len,mac,sip,dname,dip);
																
															 }
														 }
														 else  if(rsn5.next()==false)
														 {
															 
															 lbn5.setVisible(false);
																lbn5.setIcon(rn5);
																lbn5.setVisible(true);
																Thread.sleep(1000);
																 Statement stu1 = con.createStatement();
																 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
																 stu1.executeUpdate(sqlu1);
															 Socket sc1=new Socket("localhost",2015);
															 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
															 dout.writeUTF("N5");
															 String cip5=rsn5.getString(2);
															 dout.writeUTF(cip5);
															 DataInputStream din1=new DataInputStream(sc1.getInputStream());
															 String msg=din1.readUTF();
															 if(msg.equalsIgnoreCase("success"))
															 {
																 JOptionPane.showMessageDialog(null,"Malicious Attacker in N5");
															 }
															 li9.setVisible(false);
															 li9.setIcon(g7);
															 li9.setVisible(true);
															 Thread.sleep(1000);
															 lbn4.setVisible(false);
															 lbn4.setIcon(gn4);
															 lbn4.setVisible(true);
															 Thread.sleep(1000);
															 li11.setVisible(false);
															 li11.setIcon(g5);
															 li11.setVisible(true);
															 funcn7(s,len,mac,sip,dname,dip);
														 }
														 
													 }
														 
													 
													 
												
												 }
												 else 
												 {
													//evasdropper in node4
													 lbn4.setVisible(false);
														lbn4.setIcon(rn4);
														lbn4.setVisible(true);
													 
													 Thread.sleep(1000);
													 Statement stu1 = con.createStatement();
													 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N4'";
													 stu1.executeUpdate(sqlu1);
													 
													 Socket sc1=new Socket("localhost",2014);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N4");
													 dout.writeUTF(bw25);
													
													 DataInputStream din1=new DataInputStream(sc1.getInputStream());
													 String msg=din1.readUTF();
													 if(msg.equalsIgnoreCase("success"))
													 {
														 JOptionPane.showMessageDialog(null,"Traffic Occurs in N4");
													 }
													 
													 li9.setVisible(false);
													 li9.setIcon(g7);
													 li9.setVisible(true);
													 Thread.sleep(1000);
													 lbn5.setVisible(false);
													 lbn5.setIcon(gn5);
													 lbn5.setVisible(true);
													 Thread.sleep(1000);
													 li12.setVisible(false);
													 li12.setIcon(g2);
													 li12.setVisible(true);
													 funcn7(s,len,mac,sip,dname,dip);
													
												 }
												 
												 
											 }
											 else  if(rsn4.next()==false)
											 {
												 
												 lbn4.setVisible(false);
													lbn4.setIcon(rn4);
													lbn4.setVisible(true);
													Thread.sleep(1000);
													 Statement stu1 = con.createStatement();
													 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N4'";
													 stu1.executeUpdate(sqlu1);
												 Socket sc1=new Socket("localhost",2015);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N4");
												 String cip4=rsn4.getString(2);
												 dout.writeUTF(cip4);
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Malicious Attacker in N4");
												 }
												 li9.setVisible(false);
												 li9.setIcon(g7);
												 li9.setVisible(true);
												 Thread.sleep(1000);
												 lbn5.setVisible(false);
												 lbn5.setIcon(gn5);
												 lbn5.setVisible(true);
												 Thread.sleep(1000);
												 li12.setVisible(false);
												 li12.setIcon(g2);
												 li12.setVisible(true);
												 funcn7(s,len,mac,sip,dname,dip);
											 }
											 
											 
										 
										 }
									 }
									 
									 
									 
									 
								 }
								 else if(tn5<tn1&&tn5<tn3)
								 {
									 
									 li7.setVisible(false);
									 li7.setIcon(g4);
									 li7.setVisible(true);
									 
									 Thread.sleep(1000);
									 
									 
									 
									 Statement stmtn5 = con.createStatement();
									 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
									 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
									 
									 if(rsn5.next()==true)
									 {
										 String bw28=rsn5.getString(4);
										 
										 int bw38=Integer.parseInt(bw28);
										 
										 if(len<bw38)
										 { 
											 
											 lbn5.setVisible(false);
											 lbn5.setIcon(gn5);
											 lbn5.setVisible(true);
											 
											 Thread.sleep(1000);
											 
											 tn4=r1.nextInt(50);
											 tn7=r1.nextInt(50);
											 tn6=r1.nextInt(50);
											 
											 
											 l9.setVisible(false);
											 l9.setText(Integer.toString(tn4));
											 l9.setVisible(true);
											 
											 l12.setVisible(false);
											 l12.setText(Integer.toString(tn7));
											 l12.setVisible(true);
											 
											 l10.setVisible(false);
											 l10.setText(Integer.toString(tn6));
											 l10.setVisible(true);
											 
											 Thread.sleep(1000);
											 
											 
											 
											 if(tn4<tn7&&tn4<tn6)
											 {
												 
												 li9.setVisible(false);
												 li9.setIcon(g7);
												 li9.setVisible(true);
												 
												 Thread.sleep(1000);
												 
												 
												 Statement stmtn4 = con.createStatement();
												 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"'";
												 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
												 
												 if(rsn4.next()==true)
												 {
													 String bw29=rsn4.getString(4);
													 
													 int bw39=Integer.parseInt(bw29);
													 
													 if(len<bw39)
													 { 
														 lbn4.setVisible(false);
														 lbn4.setIcon(gn4);
														 lbn4.setVisible(true);
														 Thread.sleep(1000);
														 
														 li11.setVisible(false);
														 li11.setIcon(g5);
														 li11.setVisible(true);
														
														 funcn7(s,len,mac,sip,dname,dip);
													 }
													 else
													 {
														//evasdropper in node4
														 
														 lbn4.setVisible(false);
															lbn4.setIcon(rn4);
															lbn4.setVisible(true);
														 
														 Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N4'";
														 stu1.executeUpdate(sqlu1);
														 
														 Socket sc1=new Socket("localhost",2014);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N4");
														 dout.writeUTF(bw29);
														
														 DataInputStream din1=new DataInputStream(sc1.getInputStream());
														 String msg=din1.readUTF();
														 if(msg.equalsIgnoreCase("success"))
														 {
															 JOptionPane.showMessageDialog(null,"Traffic Occurs in N4");
														 }
														 
														 li9.setVisible(false);
														 li9.setIcon(g7);
														 li9.setVisible(true);
														 Thread.sleep(1000);
														 lbn5.setVisible(false);
														 lbn5.setIcon(gn5);
														 lbn5.setVisible(true);
														 Thread.sleep(1000);
														 li12.setVisible(false);
														 li12.setIcon(g2);
														 li12.setVisible(true);
														 funcn7(s,len,mac,sip,dname,dip);
														 
													 }
												 }
												 else  if(rsn4.next()==false)
												 {
													 
													 lbn4.setVisible(false);
														lbn4.setIcon(rn4);
														lbn4.setVisible(true);
														Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N4'";
														 stu1.executeUpdate(sqlu1);
													 Socket sc1=new Socket("localhost",2015);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N4");
													 String cip4=rsn4.getString(2);
													 dout.writeUTF(cip4);
													 DataInputStream din1=new DataInputStream(sc1.getInputStream());
													 String msg=din1.readUTF();
													 if(msg.equalsIgnoreCase("success"))
													 {
														 JOptionPane.showMessageDialog(null,"Malicious Attacker in N4");
													 }
													 li9.setVisible(false);
													 li9.setIcon(g7);
													 li9.setVisible(true);
													 Thread.sleep(1000);
													 lbn5.setVisible(false);
													 lbn5.setIcon(gn5);
													 lbn5.setVisible(true);
													 Thread.sleep(1000);
													 li12.setVisible(false);
													 li12.setIcon(g2);
													 li12.setVisible(true);
													 funcn7(s,len,mac,sip,dname,dip);
												 }
												 
												 
												 
												 
											 }
											 else if(tn7<tn4&&tn7<tn6)
											 {
												 
												 li12.setVisible(false);
												 li12.setIcon(g2);
												 li12.setVisible(true);
												 
												 Thread.sleep(1000);
												 
												 funcn7(s,len,mac,sip,dname,dip);
											 }
											 else if(tn6<tn4&&tn6<tn7)
											 {
												 
												 li10.setVisible(false);
												 li10.setIcon(g7);
												 li10.setVisible(true);
												 
												 Thread.sleep(1000);
												 
												 Statement stmtn6 = con.createStatement();
												 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
												 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
												 
												 if(rsn6.next()==true)
												 {
													 String bw30=rsn6.getString(4);
													 
													 int bw40=Integer.parseInt(bw30);
													 
													 if(len<bw40)
													 { 
														 lbn6.setVisible(false);
														 lbn6.setIcon(gn6);
														 lbn6.setVisible(true);
														 Thread.sleep(1000);
														 li13.setVisible(false);
														 li13.setIcon(g6);
														 li13.setVisible(true);
														 funcn7(s,len,mac,sip,dname,dip);
													 }
													 else
													 {
														//evasdropper in node6
														 
														 lbn6.setVisible(false);
															lbn6.setIcon(rn6);
															lbn6.setVisible(true);
														 
														 Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
														 stu1.executeUpdate(sqlu1);
														 
														 Socket sc1=new Socket("localhost",2014);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N6");
														 dout.writeUTF(bw30);
														
														 DataInputStream din1=new DataInputStream(sc1.getInputStream());
														 String msg=din1.readUTF();
														 if(msg.equalsIgnoreCase("success"))
														 {
															 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
														 }
														 
														 li10.setVisible(false);
														 li10.setIcon(g7);
														 li10.setVisible(true);
														 Thread.sleep(1000);
														 lbn5.setVisible(false);
														 lbn5.setIcon(gn5);
														 lbn5.setVisible(true);
														 Thread.sleep(1000);
														 li12.setVisible(false);
														 li12.setIcon(g2);
														 li12.setVisible(true);
														 funcn7(s,len,mac,sip,dname,dip);
														
														
														 
													 }
												 }
												 else  if(rsn6.next()==false)
												 {
													 
													 lbn6.setVisible(false);
														lbn6.setIcon(rn6);
														lbn6.setVisible(true);
														Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
														 stu1.executeUpdate(sqlu1);
													 Socket sc1=new Socket("localhost",2015);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N6");
													 String cip6=rsn6.getString(2);
													 dout.writeUTF(cip6);
													 DataInputStream din1=new DataInputStream(sc1.getInputStream());
													 String msg=din1.readUTF();
													 if(msg.equalsIgnoreCase("success"))
													 {
														 JOptionPane.showMessageDialog(null,"Malicious Attacker in N6");
													 }
													 li10.setVisible(false);
													 li10.setIcon(g7);
													 li10.setVisible(true);
													 Thread.sleep(1000);
													 lbn5.setVisible(false);
													 lbn5.setIcon(gn5);
													 lbn5.setVisible(true);
													 Thread.sleep(1000);
													 li12.setVisible(false);
													 li12.setIcon(g2);
													 li12.setVisible(true);
													 funcn7(s,len,mac,sip,dname,dip);
												 }
											 
											 }
											 
											 
											 
											 
										 }
										 else 
										 {
											 //evasdropper in node5
											 
											 lbn5.setVisible(false);
												lbn5.setIcon(rn5);
												lbn5.setVisible(true);
											 
											 Thread.sleep(1000);
											 Statement stu1 = con.createStatement();
											 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
											 stu1.executeUpdate(sqlu1);
											 
											 Socket sc1=new Socket("localhost",2014);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N5");
											 dout.writeUTF(bw28);
											
											 DataInputStream din1=new DataInputStream(sc1.getInputStream());
											 String msg=din1.readUTF();
											 if(msg.equalsIgnoreCase("success"))
											 {
												 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
											 }
											 
											 li9.setVisible(false);
											 li9.setIcon(g7);
											 li9.setVisible(true);
											 Thread.sleep(1000);
											 lbn4.setVisible(false);
											 lbn4.setIcon(gn4);
											 lbn4.setVisible(true);
											 Thread.sleep(1000);
											 li11.setVisible(false);
											 li11.setIcon(g5);
											 li11.setVisible(true);
											 funcn7(s,len,mac,sip,dname,dip);
											 
										 }
										 
										 
									 }else  if(rsn5.next()==false)
									 {
										 
										 lbn5.setVisible(false);
											lbn5.setIcon(rn5);
											lbn5.setVisible(true);
											Thread.sleep(1000);
											 Statement stu1 = con.createStatement();
											 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
											 stu1.executeUpdate(sqlu1);
										 Socket sc1=new Socket("localhost",2015);
										 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
										 dout.writeUTF("N5");
										 String cip5=rsn5.getString(2);
										 dout.writeUTF(cip5);
										 DataInputStream din1=new DataInputStream(sc1.getInputStream());
										 String msg=din1.readUTF();
										 if(msg.equalsIgnoreCase("success"))
										 {
											 JOptionPane.showMessageDialog(null,"Malicious Attacker in N5");
										 }
										 li9.setVisible(false);
										 li9.setIcon(g7);
										 li9.setVisible(true);
										 Thread.sleep(1000);
										 lbn4.setVisible(false);
										 lbn4.setIcon(gn4);
										 lbn4.setVisible(true);
										 Thread.sleep(1000);
										 li11.setVisible(false);
										 li11.setIcon(g5);
										 li11.setVisible(true);
										 funcn7(s,len,mac,sip,dname,dip);
									 }
									 
									 
									 
									 
								 }
								 else if(tn3<tn5&&tn3<tn1)
								 {
									 
									 li5.setVisible(false);
									 li5.setIcon(g7);
									 li5.setVisible(true);
									 
									 Thread.sleep(1000);
									 
									 
									 Statement stmtn3 = con.createStatement();
									 String sqln3 = "select * from Nodesinfo where Nname='N3' and Keys='"+mac+"' and senderip='"+sip+"'";
									 ResultSet rsn3 = stmtn3.executeQuery(sqln3);
									 
									 if(rsn3.next()==true)
									 {
										 String bw41=rsn3.getString(4);
										 
										 int bw51=Integer.parseInt(bw41);
										 
										 if(len<bw51)
										 { 
											 lbn3.setVisible(false);
											 lbn3.setIcon(gn3);
											 lbn3.setVisible(true);
											 Thread.sleep(1000);
											 
											 li8.setVisible(false);
											 li8.setIcon(g4);
											 li8.setVisible(true);
											 
											 Thread.sleep(1000);
											 
											 Statement stmtn6 = con.createStatement();
											 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
											 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
											 
											 if(rsn6.next()==true)
											 {
												 String bw42=rsn6.getString(4);
												 
												 int bw52=Integer.parseInt(bw42);
												 
												 if(len<bw52)
												 { 
													 
													 lbn6.setVisible(false);
													 lbn6.setIcon(gn6);
													 lbn6.setVisible(true);
													 
													 Thread.sleep(1000);
													 
													tn5=r1.nextInt(50);
													tn7=r1.nextInt(50);
													
													l10.setVisible(false);
													l10.setText(Integer.toString(tn5));
													l10.setVisible(true);
													
													l13.setVisible(false);
													l13.setText(Integer.toString(tn7));
													l13.setVisible(true);
													
													Thread.sleep(1000);
													
													
													
													if(tn5<tn7)
													{
														li10.setVisible(false);
														li10.setIcon(g7);
														li10.setVisible(true);
														
														Thread.sleep(1000);
														
														
														 Statement stmtn5 = con.createStatement();
														 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
														 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
														 
														 if(rsn5.next()==true)
														 {
															 String bw43=rsn5.getString(4);
															 
															 int bw53=Integer.parseInt(bw43);
															 
															 if(len<bw53)
															 { 
																 
																 lbn5.setVisible(false);
																 lbn5.setIcon(gn5);
																 lbn5.setVisible(true);
																 
																 Thread.sleep(1000);
																
																tn7=r1.nextInt(50);
																tn4=r1.nextInt(50);
																
																l12.setVisible(false);
																l12.setText(Integer.toString(tn7));
																l12.setVisible(true);
																
																l9.setVisible(false);
																l9.setText(Integer.toString(tn4));
																l9.setVisible(true);
																
																Thread.sleep(1000);
																
																if(tn7<tn4)
																{
																	li12.setVisible(false);
																	li12.setIcon(g2);
																	li12.setVisible(true);
																	
																	Thread.sleep(1000);
																	
																	funcn7(s,len,mac,sip,dname,dip);
																}
																else if(tn4<tn7)
																{
																	
																	li9.setVisible(false);
																	li9.setIcon(g7);
																	li9.setVisible(true);
																	
																	Thread.sleep(1000);
																	
																	Statement stmtn4 = con.createStatement();
																	 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"'";
																	 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
																	 
																	 if(rsn4.next()==true)
																	 {
																		 String bw44=rsn4.getString(4);
																		 
																		 int bw54=Integer.parseInt(bw44);
																		 
																		 if(len<bw54)
																		 { 
																			 
																			 lbn4.setVisible(false);
																			 lbn4.setIcon(gn4);
																			 lbn4.setVisible(true);
																			 
																			 Thread.sleep(1000);
																			 
																			 li11.setVisible(false);
																			 li11.setIcon(g5);
																			 li11.setVisible(true);
																			 
																			 Thread.sleep(1000);
																			 
																			 
																			 funcn7(s,len,mac,sip,dname,dip);
																		 
																		 }
																		 else 
																		 {
																				//evasdropper in node4
																				 
																				 lbn4.setVisible(false);
																					lbn4.setIcon(rn4);
																					lbn4.setVisible(true);
																				 
																				 Thread.sleep(1000);
																				 Statement stu1 = con.createStatement();
																				 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N4'";
																				 stu1.executeUpdate(sqlu1);
																				 
																				 Socket sc1=new Socket("localhost",2014);
																				 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																				 dout.writeUTF("N4");
																				 dout.writeUTF(bw44);
																				
																				 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																				 String msg=din1.readUTF();
																				 if(msg.equalsIgnoreCase("success"))
																				 {
																					 JOptionPane.showMessageDialog(null,"Traffic Occurs in N4");
																				 }
																				 
																				 li9.setVisible(false);
																				 li9.setIcon(g7);
																				 li9.setVisible(true);
																				 Thread.sleep(1000);
																				 lbn5.setVisible(false);
																				 lbn5.setIcon(gn5);
																				 lbn5.setVisible(true);
																				 Thread.sleep(1000);
																				 li12.setVisible(false);
																				 li12.setIcon(g2);
																				 li12.setVisible(true);
																				 funcn7(s,len,mac,sip,dname,dip);
																				 
																			 }
																		 }
																		 else  if(rsn4.next()==false)
																		 {
																			 
																			 lbn4.setVisible(false);
																				lbn4.setIcon(rn4);
																				lbn4.setVisible(true);
																				Thread.sleep(1000);
																				 Statement stu1 = con.createStatement();
																				 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N4'";
																				 stu1.executeUpdate(sqlu1);
																			 Socket sc1=new Socket("localhost",2015);
																			 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																			 dout.writeUTF("N4");
																			 String cip4=rsn4.getString(2);
																			 dout.writeUTF(cip4);
																			 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																			 String msg=din1.readUTF();
																			 if(msg.equalsIgnoreCase("success"))
																			 {
																				 JOptionPane.showMessageDialog(null,"Malicious Attacker in N4");
																			 }
																			 li9.setVisible(false);
																			 li9.setIcon(g7);
																			 li9.setVisible(true);
																			 Thread.sleep(1000);
																			 lbn5.setVisible(false);
																			 lbn5.setIcon(gn5);
																			 lbn5.setVisible(true);
																			 Thread.sleep(1000);
																			 li12.setVisible(false);
																			 li12.setIcon(g2);
																			 li12.setVisible(true);
																			 funcn7(s,len,mac,sip,dname,dip);
																		 }
																	
																}
																
																
															 }
															 else 
															 {
																 //evasdropper in node5
																 
																 lbn5.setVisible(false);
																	lbn5.setIcon(rn5);
																	lbn5.setVisible(true);
																 
																 Thread.sleep(1000);
																 Statement stu1 = con.createStatement();
																 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
																 stu1.executeUpdate(sqlu1);
																 
																 Socket sc1=new Socket("localhost",2014);
																 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																 dout.writeUTF("N5");
																 dout.writeUTF(bw43);
																
																 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																 String msg=din1.readUTF();
																 if(msg.equalsIgnoreCase("success"))
																 {
																	 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
																 }
																 
																 li9.setVisible(false);
																 li9.setIcon(g7);
																 li9.setVisible(true);
																 Thread.sleep(1000);
																 lbn4.setVisible(false);
																 lbn4.setIcon(gn4);
																 lbn4.setVisible(true);
																 Thread.sleep(1000);
																 li11.setVisible(false);
																 li11.setIcon(g5);
																 li11.setVisible(true);
																 funcn7(s,len,mac,sip,dname,dip);
																 
															 }
															 
															 
														 }else  if(rsn5.next()==false)
														 {
															 
															 lbn5.setVisible(false);
																lbn5.setIcon(rn5);
																lbn5.setVisible(true);
																Thread.sleep(1000);
																 Statement stu1 = con.createStatement();
																 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
																 stu1.executeUpdate(sqlu1);
															 Socket sc1=new Socket("localhost",2015);
															 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
															 dout.writeUTF("N5");
															 String cip5=rsn5.getString(2);
															 dout.writeUTF(cip5);
															 DataInputStream din1=new DataInputStream(sc1.getInputStream());
															 String msg=din1.readUTF();
															 if(msg.equalsIgnoreCase("success"))
															 {
																 JOptionPane.showMessageDialog(null,"Malicious Attacker in N5");
															 }
															 li9.setVisible(false);
															 li9.setIcon(g7);
															 li9.setVisible(true);
															 Thread.sleep(1000);
															 lbn4.setVisible(false);
															 lbn4.setIcon(gn4);
															 lbn4.setVisible(true);
															 Thread.sleep(1000);
															 li11.setVisible(false);
															 li11.setIcon(g5);
															 li11.setVisible(true);
															 funcn7(s,len,mac,sip,dname,dip);
														 }
														
														
														
														
													}
													else if(tn7<tn5)
													{
														li13.setVisible(false);
														li13.setIcon(g6);
														li13.setVisible(true);
														
														Thread.sleep(1000);
														
														
														funcn7(s,len,mac,sip,dname,dip);
													}
													
													
												 }
												 else
												 {
													//evasdropper in node6
													 
													 lbn6.setVisible(false);
														lbn6.setIcon(rn6);
														lbn6.setVisible(true);
													 
													 Thread.sleep(1000);
													 Statement stu1 = con.createStatement();
													 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
													 stu1.executeUpdate(sqlu1);
													 
													 Socket sc1=new Socket("localhost",2014);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N6");
													 dout.writeUTF(bw42);
													
													 DataInputStream din1=new DataInputStream(sc1.getInputStream());
													 String msg=din1.readUTF();
													 if(msg.equalsIgnoreCase("success"))
													 {
														 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
													 }
													 
													 li8.setVisible(false);
													 li8.setIcon(g4);
													 li8.setVisible(true);
													 Thread.sleep(1000);
													 lbn3.setVisible(false);
													 lbn3.setIcon(gn3);
													 lbn3.setVisible(true);
													 Thread.sleep(1000);
													 li5.setVisible(false);
													 li5.setIcon(g7);
													 li5.setVisible(true);
													 lbn2.setVisible(false);
													 lbn2.setIcon(gn2);
													 lbn2.setVisible(true);
													 Thread.sleep(1000);
													 li7.setVisible(false);
													 li7.setIcon(g4);
													 li7.setVisible(true);
													 Thread.sleep(1000);
													 lbn5.setVisible(false);
													 lbn5.setIcon(gn5);
													 lbn5.setVisible(true);
													 Thread.sleep(1000);
													 li12.setVisible(false);
													 li12.setIcon(g2);
													 li12.setVisible(true);
													 funcn7(s,len,mac,sip,dname,dip);
													
													
													
													 
												 }
											 }
											 else  if(rsn6.next()==false)
											 {
												 
												 lbn6.setVisible(false);
													lbn6.setIcon(rn6);
													lbn6.setVisible(true);
													Thread.sleep(1000);
													 Statement stu1 = con.createStatement();
													 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
													 stu1.executeUpdate(sqlu1);
												 Socket sc1=new Socket("localhost",2015);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N6");
												 String cip6=rsn6.getString(2);
												 dout.writeUTF(cip6);
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Malicious Attacker in N6");
												 }
												 li8.setVisible(false);
												 li8.setIcon(g4);
												 li8.setVisible(true);
												 Thread.sleep(1000);
												 lbn3.setVisible(false);
												 lbn3.setIcon(gn3);
												 lbn3.setVisible(true);
												 Thread.sleep(1000);
												 li5.setVisible(false);
												 li5.setIcon(g7);
												 li5.setVisible(true);
												 lbn2.setVisible(false);
												 lbn2.setIcon(gn2);
												 lbn2.setVisible(true);
												 Thread.sleep(1000);
												 li7.setVisible(false);
												 li7.setIcon(g4);
												 li7.setVisible(true);
												 Thread.sleep(1000);
												 lbn5.setVisible(false);
												 lbn5.setIcon(gn5);
												 lbn5.setVisible(true);
												 Thread.sleep(1000);
												 li12.setVisible(false);
												 li12.setIcon(g2);
												 li12.setVisible(true);
												 funcn7(s,len,mac,sip,dname,dip);
											 }
										 
											 
										 }
										 else 
										 {
											 //evasdropper in node3
											 
											 
											 lbn3.setVisible(false);
												lbn3.setIcon(rn3);
												lbn3.setVisible(true);
											 
											 Thread.sleep(1000);
											 Statement stu1 = con.createStatement();
											 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N3'";
											 stu1.executeUpdate(sqlu1);
											 
											 Socket sc1=new Socket("localhost",2014);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N3");
											 dout.writeUTF(bw41);
											
											 DataInputStream din1=new DataInputStream(sc1.getInputStream());
											 String msg=din1.readUTF();
											 if(msg.equalsIgnoreCase("success"))
											 {
												 JOptionPane.showMessageDialog(null,"Traffic Occurs in N3");
											 }
											 
											
											 li5.setVisible(false);
											 li5.setIcon(g7);
											 li5.setVisible(true);
											 Thread.sleep(1000);
											 lbn2.setVisible(false);
											 lbn2.setIcon(gn2);
											 lbn2.setVisible(true);
											 Thread.sleep(1000);
											 li7.setVisible(false);
											 li7.setIcon(g4);
											 li7.setVisible(true);
											 Thread.sleep(1000);
											 lbn5.setVisible(false);
											 lbn5.setIcon(gn5);
											 lbn5.setVisible(true);
											 Thread.sleep(1000);
											 li12.setVisible(false);
											 li12.setIcon(g2);
											 li12.setVisible(true);
											 funcn7(s,len,mac,sip,dname,dip);
											
											
											
											 
										 }
									 }
									 else  if(rsn3.next()==false)
									 {
										 
										 lbn3.setVisible(false);
											lbn3.setIcon(rn3);
											lbn3.setVisible(true);
											Thread.sleep(1000);
											 Statement stu1 = con.createStatement();
											 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N3'";
											 stu1.executeUpdate(sqlu1);
										 Socket sc1=new Socket("localhost",2015);
										 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
										 dout.writeUTF("N3");
										 String cip3=rsn3.getString(2);
										 dout.writeUTF(cip3);
										 DataInputStream din1=new DataInputStream(sc1.getInputStream());
										 String msg=din1.readUTF();
										 if(msg.equalsIgnoreCase("success"))
										 {
											 JOptionPane.showMessageDialog(null,"Malicious Attacker in N3");
										 }
										 
										 li5.setVisible(false);
										 li5.setIcon(g7);
										 li5.setVisible(true);
										 Thread.sleep(1000);
										 lbn2.setVisible(false);
										 lbn2.setIcon(gn2);
										 lbn2.setVisible(true);
										 Thread.sleep(1000);
										 li7.setVisible(false);
										 li7.setIcon(g4);
										 li7.setVisible(true);
										 Thread.sleep(1000);
										 lbn5.setVisible(false);
										 lbn5.setIcon(gn5);
										 lbn5.setVisible(true);
										 Thread.sleep(1000);
										 li12.setVisible(false);
										 li12.setIcon(g2);
										 li12.setVisible(true);
										 funcn7(s,len,mac,sip,dname,dip);
									 }
								 }
								 
								 
							 }
							 else 
							 {
								 //evasdropper in node2
								 
								 
								 lbn2.setVisible(false);
									lbn2.setIcon(rn2);
									lbn2.setVisible(true);
								 
								 Thread.sleep(1000);
								 Statement stu1 = con.createStatement();
								 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N2'";
								 stu1.executeUpdate(sqlu1);
								 
								 Socket sc1=new Socket("localhost",2014);
								 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
								 dout.writeUTF("N2");
								 dout.writeUTF(bw23);
								
								 DataInputStream din1=new DataInputStream(sc1.getInputStream());
								 String msg=din1.readUTF();
								 if(msg.equalsIgnoreCase("success"))
								 {
									 JOptionPane.showMessageDialog(null,"Traffic Occurs in N2");
								 }
								 
								
								 li4.setVisible(false);
								 li4.setIcon(g7);
								 li4.setVisible(true);
								 Thread.sleep(1000);
								 lbn1.setVisible(false);
								 lbn1.setIcon(gn1);
								 lbn1.setVisible(true);
								 Thread.sleep(1000);
								 li6.setVisible(false);
								 li6.setIcon(g4);
								 li6.setVisible(true);
								 Thread.sleep(1000);
								 lbn4.setVisible(false);
								 lbn4.setIcon(gn4);
								 lbn4.setVisible(true);
								 Thread.sleep(1000);
								 li11.setVisible(false);
								 li11.setIcon(g5);
								 li11.setVisible(true);
								 funcn7(s,len,mac,sip,dname,dip);
								
								
								
								 
							 }
						 }
						 else  if(rsn2.next()==false)
						 {
							 lbn2.setVisible(false);
								lbn2.setIcon(rn2);
								lbn2.setVisible(true);
								Thread.sleep(1000);
								 Statement stu1 = con.createStatement();
								 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N2'";
								 stu1.executeUpdate(sqlu1);
							 Socket sc1=new Socket("localhost",2015);
							 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
							 dout.writeUTF("N2");
							 String cip2=rsn2.getString(2);
							 dout.writeUTF(cip2);
							 DataInputStream din1=new DataInputStream(sc1.getInputStream());
							 String msg=din1.readUTF();
							 if(msg.equalsIgnoreCase("success"))
							 {
								 JOptionPane.showMessageDialog(null,"Malicious Attacker in N2");
							 }
							 
							 li4.setVisible(false);
							 li4.setIcon(g7);
							 li4.setVisible(true);
							 Thread.sleep(1000);
							 lbn1.setVisible(false);
							 lbn1.setIcon(gn1);
							 lbn1.setVisible(true);
							 Thread.sleep(1000);
							 li6.setVisible(false);
							 li6.setIcon(g4);
							 li6.setVisible(true);
							 Thread.sleep(1000);
							 lbn4.setVisible(false);
							 lbn4.setIcon(gn4);
							 lbn4.setVisible(true);
							 Thread.sleep(1000);
							 li11.setVisible(false);
							 li11.setIcon(g5);
							 li11.setVisible(true);
							 funcn7(s,len,mac,sip,dname,dip);
						 }
						 
						 
						 
						 
					 }//************************Node2 ends here
					 
					 
					 
					 else if(tn3<tn1 && tn3<tn2)
					 {
						//node3
						 
						 li3.setVisible(false);
						 li3.setIcon(g3);
						 li3.setVisible(true);
						 
						 Thread.sleep(1000);
						 
						 
						 
						 Statement stmtn3 = con.createStatement();
						 String sqln3 = "select * from Nodesinfo where Nname='N3' and Keys='"+mac+"' and senderip='"+sip+"'";
						 ResultSet rsn3 = stmtn3.executeQuery(sqln3);
						 
						 if(rsn3.next()==true)
						 {
							 String bw45=rsn3.getString(4);
							 
							 int bw55=Integer.parseInt(bw45);
							 
							 if(len<bw55)
							 { 
								 
								 lbn3.setVisible(false);
									lbn3.setIcon(gn3);
									lbn3.setVisible(true);
								 
								 Thread.sleep(1000);
								 
								tn2=r1.nextInt(50);
								tn6=r1.nextInt(50);
								
								l5.setVisible(false);
								l5.setText(Integer.toString(tn2));
								l5.setVisible(true);
								
								l8.setVisible(false);
								l8.setText(Integer.toString(tn6));
								l8.setVisible(true);
								
								Thread.sleep(1000);
								
								
								
								if(tn2<tn6)
								{ 
									
									li5.setVisible(false);
									li5.setIcon(g7);
									li5.setVisible(true);
									
									Thread.sleep(1000);
									
									
									
									Statement stmtn2 = con.createStatement();
								 String sqln2 = "select * from Nodesinfo where Nname='N2' and Keys='"+mac+"' and senderip='"+sip+"'";
								 ResultSet rsn2 = stmtn2.executeQuery(sqln2);
								 
								 if(rsn2.next()==true)
								 {
									 String bw46=rsn2.getString(4);
									 
									 int bw56=Integer.parseInt(bw46);
									 
									 if(len<bw56)
									 { 
										 
										 lbn2.setVisible(false);
											lbn2.setIcon(gn2);
											lbn2.setVisible(true);
										 
										 
										 Thread.sleep(1000);
									
										tn5=r1.nextInt(50);
										tn1=r1.nextInt(50);
										
										l7.setVisible(false);
										l7.setText(Integer.toString(tn5));
										l7.setVisible(true);
										
										l4.setVisible(false);
										l4.setText(Integer.toString(tn1));
										l4.setVisible(true);
										
										Thread.sleep(1000);
										
										
										
										if(tn5<tn1)
										{
											li7.setVisible(false);
											li7.setIcon(g4);
											li7.setVisible(true);
											
											Thread.sleep(1000);

											 Statement stmtn5 = con.createStatement();
											 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
											 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
											 
											 if(rsn5.next()==true)
											 {
												 String bw47=rsn5.getString(4);
												 
												 int bw57=Integer.parseInt(bw47);
												 
												 if(len<bw57)
												 { 
													 
													 lbn5.setVisible(false);
														lbn5.setIcon(gn5);
														lbn5.setVisible(true);
													 
													 Thread.sleep(1000);

													 
													 tn4=r1.nextInt(50);
													 tn7=r1.nextInt(50);
													 tn6=r1.nextInt(50);
													 
													 l9.setVisible(false);
													 l9.setText(Integer.toString(tn4));
													 l9.setVisible(true);
													 
													 l12.setVisible(false);
													 l12.setText(Integer.toString(tn7));
													 l12.setVisible(true);
													 
													 l10.setVisible(false);
													 l10.setText(Integer.toString(tn6));
													 l10.setVisible(true);
													 
													 Thread.sleep(1000);

													 
													 
													 if(tn4<tn7&&tn4<tn6)
													 {
														 li9.setVisible(false);
														 li9.setIcon(g7);
														 li9.setVisible(true);


														 Thread.sleep(1000);

														 Statement stmtn4 = con.createStatement();
														 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"'";
														 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
														 
														 if(rsn4.next()==true)
														 {
															 String bw48=rsn4.getString(4);
															 
															 int bw58=Integer.parseInt(bw48);
															 
															 if(len<bw58)
															 { 
																 lbn4.setVisible(false);
																	lbn4.setIcon(gn4);
																	lbn4.setVisible(true);
																 
																 Thread.sleep(1000);

																 li11.setVisible(false);
																 li11.setIcon(g5);
																 li11.setVisible(true);

																 
																 funcn7(s,len,mac,sip,dname,dip);
															 }
															 else
															 {
																//evasdropper in node5
																 lbn5.setVisible(false);
																	lbn5.setIcon(rn5);
																	lbn5.setVisible(true);
																 
																 Thread.sleep(1000);
																 Statement stu1 = con.createStatement();
																 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
																 stu1.executeUpdate(sqlu1);
																 
																 Socket sc1=new Socket("localhost",2014);
																 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																 dout.writeUTF("N5");
																 dout.writeUTF(bw48);
																
																 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																 String msg=din1.readUTF();
																 if(msg.equalsIgnoreCase("success"))
																 {
																	 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
																 }
																 
																 li7.setVisible(false);
																 li7.setIcon(g4);
																 li7.setVisible(true);
																 Thread.sleep(1000);
																 lbn2.setVisible(false);
																 lbn2.setIcon(gn2);
																 lbn2.setVisible(true);
																 Thread.sleep(1000);
																 li4.setVisible(false);
																 li4.setIcon(g7);
																 li4.setVisible(true);
																 Thread.sleep(1000);
																 lbn1.setVisible(false);
																 lbn1.setIcon(gn1);
																 lbn1.setVisible(true);
																 Thread.sleep(1000);
																 li6.setVisible(false);
																 li6.setIcon(g4);
																 li6.setVisible(true);
																 Thread.sleep(1000);
																 lbn4.setVisible(false);
																 lbn4.setIcon(gn4);
																 lbn4.setVisible(true);
																 Thread.sleep(1000);
																 li11.setVisible(false);
																 li11.setIcon(g5);
																 li11.setVisible(true);
																 funcn7(s,len,mac,sip,dname,dip);
																 
															 }
															 
															 
														 }else  if(rsn5.next()==false)
														 {
															 
															 lbn5.setVisible(false);
																lbn5.setIcon(rn5);
																lbn5.setVisible(true);
																Thread.sleep(1000);
																 Statement stu1 = con.createStatement();
																 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
																 stu1.executeUpdate(sqlu1);
															 Socket sc1=new Socket("localhost",2015);
															 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
															 dout.writeUTF("N5");
															 String cip5=rsn5.getString(2);
															 dout.writeUTF(cip5);
															 DataInputStream din1=new DataInputStream(sc1.getInputStream());
															 String msg=din1.readUTF();
															 if(msg.equalsIgnoreCase("success"))
															 {
																 JOptionPane.showMessageDialog(null,"Malicious Attacker in N5");
															 }
															 li7.setVisible(false);
															 li7.setIcon(g4);
															 li7.setVisible(true);
															 Thread.sleep(1000);
															 lbn2.setVisible(false);
															 lbn2.setIcon(gn2);
															 lbn2.setVisible(true);
															 Thread.sleep(1000);
															 li4.setVisible(false);
															 li4.setIcon(g7);
															 li4.setVisible(true);
															 Thread.sleep(1000);
															 lbn1.setVisible(false);
															 lbn1.setIcon(gn1);
															 lbn1.setVisible(true);
															 Thread.sleep(1000);
															 li6.setVisible(false);
															 li6.setIcon(g4);
															 li6.setVisible(true);
															 Thread.sleep(1000);
															 lbn4.setVisible(false);
															 lbn4.setIcon(gn4);
															 lbn4.setVisible(true);
															 Thread.sleep(1000);
															 li11.setVisible(false);
															 li11.setIcon(g5);
															 li11.setVisible(true);
															 funcn7(s,len,mac,sip,dname,dip);
														 }
														 
														 
														 
														 
													 }
													 else if(tn7<tn4&&tn7<tn6)
													 {
														 li12.setVisible(false);
														 li12.setIcon(g2);
														 li12.setVisible(true);
														 
														 Thread.sleep(1000);

														 
														 
														 funcn7(s,len,mac,sip,dname,dip);
													 }
													 else if(tn6<tn4&&tn6<tn7)
													 {
														 li10.setVisible(false);
														 li10.setIcon(g7);
														 li10.setVisible(true);
														 
														 Thread.sleep(1000);

														 
														 
														 Statement stmtn6 = con.createStatement();
														 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
														 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
														 
														 if(rsn6.next()==true)
														 {
															 String bw49=rsn6.getString(4);
															 
															 int bw59=Integer.parseInt(bw49);
															 
															 if(len<bw59)
															 { 
																 lbn6.setVisible(false);
																 lbn6.setIcon(gn6);
																 lbn6.setVisible(true);
																 Thread.sleep(1000);
																 
																 li13.setVisible(false);
																 li13.setIcon(g6);
																 li13.setVisible(true);
																 
																 Thread.sleep(1000);

																 
																 
																 funcn7(s,len,mac,sip,dname,dip);
															 }
															 else
															 {
																//evasdropper in node6
																 
																 lbn6.setVisible(false);
																	lbn6.setIcon(rn6);
																	lbn6.setVisible(true);
																 
																 Thread.sleep(1000);
																 Statement stu1 = con.createStatement();
																 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
																 stu1.executeUpdate(sqlu1);
																 
																 Socket sc1=new Socket("localhost",2014);
																 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																 dout.writeUTF("N6");
																 dout.writeUTF(bw49);
																
																 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																 String msg=din1.readUTF();
																 if(msg.equalsIgnoreCase("success"))
																 {
																	 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
																 }
																 
																 
																 li10.setVisible(false);
																 li10.setIcon(g7);
																 li10.setVisible(true);
																 Thread.sleep(1000);
																 lbn5.setVisible(false);
																 lbn5.setIcon(gn5);
																 lbn5.setVisible(true);
																 Thread.sleep(1000);
																 li12.setVisible(false);
																 li12.setIcon(g2);
																 li12.setVisible(true);
																 funcn7(s,len,mac,sip,dname,dip);
																
																
																
																 
															 }
														 }
														 else  if(rsn6.next()==false)
														 {
															 
															 lbn6.setVisible(false);
																lbn6.setIcon(rn6);
																lbn6.setVisible(true);
																Thread.sleep(1000);
																 Statement stu1 = con.createStatement();
																 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
																 stu1.executeUpdate(sqlu1);
															 Socket sc1=new Socket("localhost",2015);
															 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
															 dout.writeUTF("N6");
															 String cip6=rsn6.getString(2);
															 dout.writeUTF(cip6);
															 DataInputStream din1=new DataInputStream(sc1.getInputStream());
															 String msg=din1.readUTF();
															 if(msg.equalsIgnoreCase("success"))
															 {
																 JOptionPane.showMessageDialog(null,"Malicious Attacker in N6");
															 }
															 li10.setVisible(false);
															 li10.setIcon(g7);
															 li10.setVisible(true);
															 Thread.sleep(1000);
															 lbn5.setVisible(false);
															 lbn5.setIcon(gn5);
															 lbn5.setVisible(true);
															 Thread.sleep(1000);
															 li12.setVisible(false);
															 li12.setIcon(g2);
															 li12.setVisible(true);
															 funcn7(s,len,mac,sip,dname,dip);
														 }
													 
													 }
													 
													 
													 
													 
												 }
												 else 
												 {
													 //evasdropper in node5
													 lbn5.setVisible(false);
														lbn5.setIcon(rn5);
														lbn5.setVisible(true);
													 
													 Thread.sleep(1000);
													 Statement stu1 = con.createStatement();
													 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
													 stu1.executeUpdate(sqlu1);
													 
													 Socket sc1=new Socket("localhost",2014);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N5");
													 dout.writeUTF(bw47);
													
													 DataInputStream din1=new DataInputStream(sc1.getInputStream());
													 String msg=din1.readUTF();
													 if(msg.equalsIgnoreCase("success"))
													 {
														 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
													 }
													 
													 li7.setVisible(false);
													 li7.setIcon(g4);
													 li7.setVisible(true);
													 Thread.sleep(1000);
													 lbn2.setVisible(false);
													 lbn2.setIcon(gn2);
													 lbn2.setVisible(true);
													 Thread.sleep(1000);
													 li4.setVisible(false);
													 li4.setIcon(g7);
													 li4.setVisible(true);
													 Thread.sleep(1000);
													 lbn1.setVisible(false);
													 lbn1.setIcon(gn1);
													 lbn1.setVisible(true);
													 Thread.sleep(1000);
													 li6.setVisible(false);
													 li6.setIcon(g4);
													 li6.setVisible(true);
													 Thread.sleep(1000);
													 lbn4.setVisible(false);
													 lbn4.setIcon(gn4);
													 lbn4.setVisible(true);
													 Thread.sleep(1000);
													 li11.setVisible(false);
													 li11.setIcon(g5);
													 li11.setVisible(true);
													 funcn7(s,len,mac,sip,dname,dip);
													 
												 }
												 
												 
											 }else  if(rsn5.next()==false)
											 {
												 
												 lbn5.setVisible(false);
													lbn5.setIcon(rn5);
													lbn5.setVisible(true);
													Thread.sleep(1000);
													 Statement stu1 = con.createStatement();
													 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
													 stu1.executeUpdate(sqlu1);
												 Socket sc1=new Socket("localhost",2015);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N5");
												 String cip5=rsn5.getString(2);
												 dout.writeUTF(cip5);
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Malicious Attacker in N5");
												 }
												 li7.setVisible(false);
												 li7.setIcon(g4);
												 li7.setVisible(true);
												 Thread.sleep(1000);
												 lbn2.setVisible(false);
												 lbn2.setIcon(gn2);
												 lbn2.setVisible(true);
												 Thread.sleep(1000);
												 li4.setVisible(false);
												 li4.setIcon(g7);
												 li4.setVisible(true);
												 Thread.sleep(1000);
												 lbn1.setVisible(false);
												 lbn1.setIcon(gn1);
												 lbn1.setVisible(true);
												 Thread.sleep(1000);
												 li6.setVisible(false);
												 li6.setIcon(g4);
												 li6.setVisible(true);
												 Thread.sleep(1000);
												 lbn4.setVisible(false);
												 lbn4.setIcon(gn4);
												 lbn4.setVisible(true);
												 Thread.sleep(1000);
												 li11.setVisible(false);
												 li11.setIcon(g5);
												 li11.setVisible(true);
												 funcn7(s,len,mac,sip,dname,dip);
											 }
											 
											 
										}
										else if(tn1<tn5)
										{
											li4.setVisible(false);
											li4.setIcon(g7);
											li4.setVisible(true);
											
											Thread.sleep(1000);
											
											
											 Statement stmtn1 = con.createStatement();
											 String sqln1 = "select * from Nodesinfo where Nname='N1' and Keys='"+mac+"' and senderip='"+sip+"'";
											 ResultSet rsn1 = stmtn1.executeQuery(sqln1);
											 
											 if(rsn1.next()==true)
											 {
												 String bw50=rsn1.getString(4);
												 
												 int bw60=Integer.parseInt(bw50);
												 
												 if(len<bw60)
												 { 
													 
													 lbn1.setVisible(false);
													 lbn1.setIcon(gn1);
													 lbn1.setVisible(true);
													 
													 Thread.sleep(1000);
													 
													 li6.setVisible(false);
													 li6.setIcon(g4);
													 li6.setVisible(true);
													 
													 Thread.sleep(1000);
													 
													 Statement stmtn4 = con.createStatement();
													 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"'";
													 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
													 
													 if(rsn4.next()==true)
													 {
														 String bw61=rsn4.getString(4);
														 
														 int bw71=Integer.parseInt(bw61);
														 
														 if(len<bw71)
														 { 
															 lbn4.setVisible(false);
															 lbn4.setIcon(gn4);
															 lbn4.setVisible(true);
															 
															 Thread.sleep(1000);

															 
															 tn7=r1.nextInt(50);
															 tn5=r1.nextInt(50);
															 
															 
															 l11.setVisible(false);
															 l11.setText(Integer.toString(tn7));
															 l11.setVisible(true);
															 
															 l9.setVisible(false);
															 l9.setText(Integer.toString(tn5));
															 l9.setVisible(true);
															 
															 Thread.sleep(1000);

															 
															 
															 
															 if(tn7<tn5)
															 {
																 li11.setVisible(false);
																 li11.setIcon(g5);
																 li11.setVisible(true);
																 
																 Thread.sleep(1000);
																 
																 
																 funcn7(s,len,mac,sip,dname,dip);
															 }
															 else if(tn5<tn7)
															 {
																 li9.setVisible(false);
																 li9.setIcon(g7);
																 li9.setVisible(true);
																 
																 Thread.sleep(1000);

																 Statement stmtn5 = con.createStatement();
																 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
																 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
																 
																 if(rsn5.next()==true)
																 {
																	 

																	 
																	 String bw62=rsn5.getString(4);
																	 
																	 int bw72=Integer.parseInt(bw62);
																	 
																	 if(len<bw72)
																	 { 
																		 lbn5.setVisible(false);
																			lbn5.setIcon(gn5);
																			lbn5.setVisible(true);
																		 
																		 Thread.sleep(1000);
																		 
																		 
																		 tn7= r1.nextInt(50);
																		 tn6=r1.nextInt(50);
																		 
																		 l12.setVisible(false);
																		 l12.setText(Integer.toString(tn7));
																		 l12.setVisible(true);
																		 
																		 l10.setVisible(false);
																		 l10.setText(Integer.toString(tn6));
																		 l10.setVisible(true);
																		 
																		 Thread.sleep(1000);

																		 
																		 
																		 
																		 if(tn7<tn6)
																		 {
																			 
																			 li12.setVisible(false);
																			 li12.setIcon(g2);
																			 li12.setVisible(true);
																			 
																			 Thread.sleep(1000);

																			 
																			 funcn7(s,len,mac,sip,dname,dip);
																		 }
																		 else if(tn6<tn7)
																		 {
																			 
																			 li10.setVisible(false);
																			 li10.setIcon(g7);
																			 li10.setVisible(true);
																			 
																			 Thread.sleep(1000);

																			 
																			 
																			 Statement stmtn6 = con.createStatement();
																			 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
																			 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
																			 
																			 if(rsn6.next()==true)
																			 {
																				 String bw63=rsn6.getString(4);
																				 
																				 int bw73=Integer.parseInt(bw63);
																				 
																				 if(len<bw73)
																				 { 
																					 lbn6.setVisible(false);
																						lbn6.setIcon(gn6);
																						lbn6.setVisible(true);
																					 
																					 Thread.sleep(1000);
																					 
																					 li13.setVisible(false);
																					 li13.setIcon(g6);
																					 li13.setVisible(true);
																					 
																					 Thread.sleep(1000);

																					 
										
																					 funcn7(s,len,mac,sip,dname,dip);
																				 }
																				 else 
																				 {
																					 //evasdropper in node6
																					 
																					 lbn6.setVisible(false);
																						lbn6.setIcon(rn6);
																						lbn6.setVisible(true);
																					 
																					 Thread.sleep(1000);
																					 Statement stu1 = con.createStatement();
																					 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
																					 stu1.executeUpdate(sqlu1);
																					 
																					 Socket sc1=new Socket("localhost",2014);
																					 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																					 dout.writeUTF("N6");
																					 dout.writeUTF(bw63);
																					
																					 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																					 String msg=din1.readUTF();
																					 if(msg.equalsIgnoreCase("success"))
																					 {
																						 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
																					 }
																					 
																					 
																					 li10.setVisible(false);
																					 li10.setIcon(g7);
																					 li10.setVisible(true);
																					 Thread.sleep(1000);
																					 lbn5.setVisible(false);
																					 lbn5.setIcon(gn5);
																					 lbn5.setVisible(true);
																					 Thread.sleep(1000);
																					 li12.setVisible(false);
																					 li12.setIcon(g2);
																					 li12.setVisible(true);
																					 funcn7(s,len,mac,sip,dname,dip);
																					
																					
																					
																					 
																				 }
																			 }
																			 else  if(rsn6.next()==false)
																			 {
																				 
																				 lbn6.setVisible(false);
																					lbn6.setIcon(rn6);
																					lbn6.setVisible(true);
																					Thread.sleep(1000);
																					 Statement stu1 = con.createStatement();
																					 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
																					 stu1.executeUpdate(sqlu1);
																				 Socket sc1=new Socket("localhost",2015);
																				 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																				 dout.writeUTF("N6");
																				 String cip6=rsn6.getString(2);
																				 dout.writeUTF(cip6);
																				 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																				 String msg=din1.readUTF();
																				 if(msg.equalsIgnoreCase("success"))
																				 {
																					 JOptionPane.showMessageDialog(null,"Malicious Attacker in N6");
																				 }
																				 li10.setVisible(false);
																				 li10.setIcon(g7);
																				 li10.setVisible(true);
																				 Thread.sleep(1000);
																				 lbn5.setVisible(false);
																				 lbn5.setIcon(gn5);
																				 lbn5.setVisible(true);
																				 Thread.sleep(1000);
																				 li12.setVisible(false);
																				 li12.setIcon(g2);
																				 li12.setVisible(true);
																				 funcn7(s,len,mac,sip,dname,dip);
																			 }
																		 
																		 }
																		 
																		 
																		 
																	 }
																	 else 
																	 {
																		 //evasdropper in node5
																		 lbn5.setVisible(false);
																			lbn5.setIcon(rn5);
																			lbn5.setVisible(true);
																		 
																		 Thread.sleep(1000);
																		 Statement stu1 = con.createStatement();
																		 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
																		 stu1.executeUpdate(sqlu1);
																		 
																		 Socket sc1=new Socket("localhost",2014);
																		 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																		 dout.writeUTF("N5");
																		 dout.writeUTF(bw62);
																		
																		 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																		 String msg=din1.readUTF();
																		 if(msg.equalsIgnoreCase("success"))
																		 {
																			 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
																		 }
																		 
																		 li7.setVisible(false);
																		 li7.setIcon(g4);
																		 li7.setVisible(true);
																		 Thread.sleep(1000);
																		 lbn2.setVisible(false);
																		 lbn2.setIcon(gn2);
																		 lbn2.setVisible(true);
																		 Thread.sleep(1000);
																		 li4.setVisible(false);
																		 li4.setIcon(g7);
																		 li4.setVisible(true);
																		 Thread.sleep(1000);
																		 lbn1.setVisible(false);
																		 lbn1.setIcon(gn1);
																		 lbn1.setVisible(true);
																		 Thread.sleep(1000);
																		 li6.setVisible(false);
																		 li6.setIcon(g4);
																		 li6.setVisible(true);
																		 Thread.sleep(1000);
																		 lbn4.setVisible(false);
																		 lbn4.setIcon(gn4);
																		 lbn4.setVisible(true);
																		 Thread.sleep(1000);
																		 li11.setVisible(false);
																		 li11.setIcon(g5);
																		 li11.setVisible(true);
																		 funcn7(s,len,mac,sip,dname,dip);
																		 
																	 }
																	 
																	 
																 }
																 else  if(rsn5.next()==false)
																 {
																	 
																	 lbn5.setVisible(false);
																		lbn5.setIcon(rn5);
																		lbn5.setVisible(true);
																		Thread.sleep(1000);
																		 Statement stu1 = con.createStatement();
																		 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
																		 stu1.executeUpdate(sqlu1);
																	 Socket sc1=new Socket("localhost",2015);
																	 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																	 dout.writeUTF("N5");
																	 String cip5=rsn5.getString(2);
																	 dout.writeUTF(cip5);
																	 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																	 String msg=din1.readUTF();
																	 if(msg.equalsIgnoreCase("success"))
																	 {
																		 JOptionPane.showMessageDialog(null,"Malicious Attacker in N5");
																	 }
																	 li7.setVisible(false);
																	 li7.setIcon(g4);
																	 li7.setVisible(true);
																	 Thread.sleep(1000);
																	 lbn2.setVisible(false);
																	 lbn2.setIcon(gn2);
																	 lbn2.setVisible(true);
																	 Thread.sleep(1000);
																	 li4.setVisible(false);
																	 li4.setIcon(g7);
																	 li4.setVisible(true);
																	 Thread.sleep(1000);
																	 lbn1.setVisible(false);
																	 lbn1.setIcon(gn1);
																	 lbn1.setVisible(true);
																	 Thread.sleep(1000);
																	 li6.setVisible(false);
																	 li6.setIcon(g4);
																	 li6.setVisible(true);
																	 Thread.sleep(1000);
																	 lbn4.setVisible(false);
																	 lbn4.setIcon(gn4);
																	 lbn4.setVisible(true);
																	 Thread.sleep(1000);
																	 li11.setVisible(false);
																	 li11.setIcon(g5);
																	 li11.setVisible(true);
																	 funcn7(s,len,mac,sip,dname,dip);
																 }
																 
															 }
																 
															 
															 
														
														 }
													 }
													 
													 
												 
												 }
											 }
											 
											 
										}
										
										
									
									 }
								 }
								}
								else if(tn6<tn2)
								{
									
									li8.setVisible(false);
									 li8.setIcon(g4);
									 li8.setVisible(true);
									 
									 Thread.sleep(1000);

									
									 Statement stmtn6 = con.createStatement();
									 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
									 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
									 
									 if(rsn6.next()==true)
									 {
										 String bw64=rsn6.getString(4);
										 
										 int bw74=Integer.parseInt(bw64);
										 
										 if(len<bw74)
										 { 
											 
											 lbn6.setVisible(false);
											 lbn6.setIcon(gn6);
											 lbn6.setVisible(true);
											 
											 Thread.sleep(1000);

											 
											 
											tn5=r1.nextInt(50);
											tn7=r1.nextInt(50);
											
											l10.setVisible(false);
											l10.setText(Integer.toString(tn5));
											l10.setVisible(true);
											
											l13.setVisible(false);
											l13.setText(Integer.toString(tn7));
											l13.setVisible(true);
											
											Thread.sleep(1000);

											
											
											
											
											
											if(tn5<tn7)
											{
												
												li10.setVisible(false);
												li10.setIcon(g7);
												li10.setVisible(true);
												
												Thread.sleep(1000);

												
												
												 Statement stmtn5 = con.createStatement();
												 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
												 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
												 
												 if(rsn5.next()==true)
												 {
													 String bw65=rsn5.getString(4);
													 
													 int bw75=Integer.parseInt(bw65);
													 
													 if(len<bw75)
													 { 
														 lbn5.setVisible(false);
														 lbn5.setIcon(gn5);
														 lbn5.setVisible(true);
														 
														 Thread.sleep(1000);

														 
														 
														 
														tn7=r1.nextInt(50);
														tn4=r1.nextInt(50);
														
														l12.setVisible(false);
														l12.setText(Integer.toString(tn7));
														l12.setVisible(true);
														
														l9.setVisible(false);
														l9.setText(Integer.toString(tn4));
														l9.setVisible(true);
														
														Thread.sleep(1000);


														
														
														
														
														if(tn7<tn4)
														{
															
															li12.setVisible(false);
															li12.setIcon(g2);
															li12.setVisible(true);
															
															Thread.sleep(1000);


															funcn7(s,len,mac,sip,dname,dip);
														}
														else if(tn4<tn7)
														{
															
															li9.setVisible(false);
															li9.setIcon(g7);
															li9.setVisible(true);
															
															Thread.sleep(1000);

															
															
															Statement stmtn4 = con.createStatement();
															 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"'";
															 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
															 
															 if(rsn4.next()==true)
															 {
																 String bw66=rsn4.getString(4);
																 
																 int bw76=Integer.parseInt(bw66);
																 
																 if(len<bw76)
																 { 
																	 lbn4.setVisible(false);
																	 lbn4.setIcon(gn4);
																	 lbn4.setVisible(true);
																	 
																	 Thread.sleep(1000);
																	 li11.setVisible(false);
																	 li11.setIcon(g5);
																	 li11.setVisible(true);
																	 
																	 Thread.sleep(1000);

																	 
																	 
																	 
																	 funcn7(s,len,mac,sip,dname,dip);
																 
																 }
																 else 
																 {
																	 //evasdropper in node4
																	 
																	 lbn4.setVisible(false);
																		lbn4.setIcon(rn4);
																		lbn4.setVisible(true);
																	 
																	 Thread.sleep(1000);
																	 Statement stu1 = con.createStatement();
																	 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N4'";
																	 stu1.executeUpdate(sqlu1);
																	 
																	 Socket sc1=new Socket("localhost",2014);
																	 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																	 dout.writeUTF("N4");
																	 dout.writeUTF(bw66);
																	
																	 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																	 String msg=din1.readUTF();
																	 if(msg.equalsIgnoreCase("success"))
																	 {
																		 JOptionPane.showMessageDialog(null,"Traffic Occurs in N4");
																	 }
																	 
																	 li9.setVisible(false);
																	 li9.setIcon(g7);
																	 li9.setVisible(true);
																	 Thread.sleep(1000);
																	 lbn5.setVisible(false);
																	 lbn5.setIcon(gn5);
																	 lbn5.setVisible(true);
																	 Thread.sleep(1000);
																	 li12.setVisible(false);
																	 li12.setIcon(g2);
																	 li12.setVisible(true);
																	 funcn7(s,len,mac,sip,dname,dip);
																	 
																 }
															 }
															 else  if(rsn4.next()==false)
															 {
																 
																 lbn4.setVisible(false);
																	lbn4.setIcon(rn4);
																	lbn4.setVisible(true);
																	Thread.sleep(1000);
																	 Statement stu1 = con.createStatement();
																	 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N4'";
																	 stu1.executeUpdate(sqlu1);
																 Socket sc1=new Socket("localhost",2015);
																 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																 dout.writeUTF("N4");
																 String cip4=rsn4.getString(2);
																 dout.writeUTF(cip4);
																 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																 String msg=din1.readUTF();
																 if(msg.equalsIgnoreCase("success"))
																 {
																	 JOptionPane.showMessageDialog(null,"Malicious Attacker in N4");
																 }
																 li9.setVisible(false);
																 li9.setIcon(g7);
																 li9.setVisible(true);
																 Thread.sleep(1000);
																 lbn5.setVisible(false);
																 lbn5.setIcon(gn5);
																 lbn5.setVisible(true);
																 Thread.sleep(1000);
																 li12.setVisible(false);
																 li12.setIcon(g2);
																 li12.setVisible(true);
																 funcn7(s,len,mac,sip,dname,dip);
															 }
															
														}
														
														
													 }
													 else 
													 {
														 //evasdropper in node5
														 lbn5.setVisible(false);
															lbn5.setIcon(rn5);
															lbn5.setVisible(true);
														 
														 Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
														 stu1.executeUpdate(sqlu1);
														 
														 Socket sc1=new Socket("localhost",2014);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N5");
														 dout.writeUTF(bw65);
														
														 DataInputStream din1=new DataInputStream(sc1.getInputStream());
														 String msg=din1.readUTF();
														 if(msg.equalsIgnoreCase("success"))
														 {
															 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
														 }
														 
														 li7.setVisible(false);
														 li7.setIcon(g4);
														 li7.setVisible(true);
														 Thread.sleep(1000);
														 lbn2.setVisible(false);
														 lbn2.setIcon(gn2);
														 lbn2.setVisible(true);
														 Thread.sleep(1000);
														 li4.setVisible(false);
														 li4.setIcon(g7);
														 li4.setVisible(true);
														 Thread.sleep(1000);
														 lbn1.setVisible(false);
														 lbn1.setIcon(gn1);
														 lbn1.setVisible(true);
														 Thread.sleep(1000);
														 li6.setVisible(false);
														 li6.setIcon(g4);
														 li6.setVisible(true);
														 Thread.sleep(1000);
														 lbn4.setVisible(false);
														 lbn4.setIcon(gn4);
														 lbn4.setVisible(true);
														 Thread.sleep(1000);
														 li11.setVisible(false);
														 li11.setIcon(g5);
														 li11.setVisible(true);
														 funcn7(s,len,mac,sip,dname,dip);
														 
													 }
													 
													 
												 }
												 else  if(rsn5.next()==false)
												 {
													 
													 lbn5.setVisible(false);
														lbn5.setIcon(rn5);
														lbn5.setVisible(true);
														Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
														 stu1.executeUpdate(sqlu1);
													 Socket sc1=new Socket("localhost",2015);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N5");
													 String cip5=rsn5.getString(2);
													 dout.writeUTF(cip5);
													 DataInputStream din1=new DataInputStream(sc1.getInputStream());
													 String msg=din1.readUTF();
													 if(msg.equalsIgnoreCase("success"))
													 {
														 JOptionPane.showMessageDialog(null,"Malicious Attacker in N5");
													 }
													 li7.setVisible(false);
													 li7.setIcon(g4);
													 li7.setVisible(true);
													 Thread.sleep(1000);
													 lbn2.setVisible(false);
													 lbn2.setIcon(gn2);
													 lbn2.setVisible(true);
													 Thread.sleep(1000);
													 li4.setVisible(false);
													 li4.setIcon(g7);
													 li4.setVisible(true);
													 Thread.sleep(1000);
													 lbn1.setVisible(false);
													 lbn1.setIcon(gn1);
													 lbn1.setVisible(true);
													 Thread.sleep(1000);
													 li6.setVisible(false);
													 li6.setIcon(g4);
													 li6.setVisible(true);
													 Thread.sleep(1000);
													 lbn4.setVisible(false);
													 lbn4.setIcon(gn4);
													 lbn4.setVisible(true);
													 Thread.sleep(1000);
													 li11.setVisible(false);
													 li11.setIcon(g5);
													 li11.setVisible(true);
													 funcn7(s,len,mac,sip,dname,dip);
												 }
												
												
												
												
											}
											else if(tn7<tn5)
											{
												
												li13.setVisible(false);
												li13.setIcon(g6);
												li13.setVisible(true);
												
												Thread.sleep(1000);

												
												funcn7(s,len,mac,sip,dname,dip);
											}
											
											
										 }
										 else
										 {
											//evasdropper in node6
											 lbn6.setVisible(false);
												lbn6.setIcon(rn6);
												lbn6.setVisible(true);
											 
											 Thread.sleep(1000);
											 Statement stu1 = con.createStatement();
											 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
											 stu1.executeUpdate(sqlu1);
											 
											 Socket sc1=new Socket("localhost",2014);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N6");
											 dout.writeUTF(bw64);
											
											 DataInputStream din1=new DataInputStream(sc1.getInputStream());
											 String msg=din1.readUTF();
											 if(msg.equalsIgnoreCase("success"))
											 {
												 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
											 }
											 
											 
											 li10.setVisible(false);
											 li10.setIcon(g7);
											 li10.setVisible(true);
											 Thread.sleep(1000);
											 lbn5.setVisible(false);
											 lbn5.setIcon(gn5);
											 lbn5.setVisible(true);
											 Thread.sleep(1000);
											 li12.setVisible(false);
											 li12.setIcon(g2);
											 li12.setVisible(true);
											 funcn7(s,len,mac,sip,dname,dip);
											
											
											
											 
										 }
									 }
									 else  if(rsn6.next()==false)
									 {
										 
										 lbn6.setVisible(false);
											lbn6.setIcon(rn6);
											lbn6.setVisible(true);
											Thread.sleep(1000);
											 Statement stu1 = con.createStatement();
											 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
											 stu1.executeUpdate(sqlu1);
										 Socket sc1=new Socket("localhost",2015);
										 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
										 dout.writeUTF("N6");
										 String cip6=rsn6.getString(2);
										 dout.writeUTF(cip6);
										 DataInputStream din1=new DataInputStream(sc1.getInputStream());
										 String msg=din1.readUTF();
										 if(msg.equalsIgnoreCase("success"))
										 {
											 JOptionPane.showMessageDialog(null,"Malicious Attacker in N6");
										 }
										 li10.setVisible(false);
										 li10.setIcon(g7);
										 li10.setVisible(true);
										 Thread.sleep(1000);
										 lbn5.setVisible(false);
										 lbn5.setIcon(gn5);
										 lbn5.setVisible(true);
										 Thread.sleep(1000);
										 li12.setVisible(false);
										 li12.setIcon(g2);
										 li12.setVisible(true);
										 funcn7(s,len,mac,sip,dname,dip);
									 }
										 }
									 }
								 
								
								
								
							 
							 
							 else 
							 {
								 //evasdropper in node3
								 

								 lbn3.setVisible(false);
									lbn3.setIcon(rn3);
									lbn3.setVisible(true);
								 
								 Thread.sleep(1000);
								 Statement stu1 = con.createStatement();
								 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N3'";
								 stu1.executeUpdate(sqlu1);
								 
								 Socket sc1=new Socket("localhost",2014);
								 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
								 dout.writeUTF("N3");
								 dout.writeUTF(bw45);
								
								 DataInputStream din1=new DataInputStream(sc1.getInputStream());
								 String msg=din1.readUTF();
								 if(msg.equalsIgnoreCase("success"))
								 {
									 JOptionPane.showMessageDialog(null,"Traffic Occurs in N3");
								 }
								 
								
								 li5.setVisible(false);
								 li5.setIcon(g7);
								 li5.setVisible(true);
								 Thread.sleep(1000);
								 lbn2.setVisible(false);
								 lbn2.setIcon(gn2);
								 lbn2.setVisible(true);
								 Thread.sleep(1000);
								 li7.setVisible(false);
								 li7.setIcon(g4);
								 li7.setVisible(true);
								 Thread.sleep(1000);
								 lbn5.setVisible(false);
								 lbn5.setIcon(gn5);
								 lbn5.setVisible(true);
								 Thread.sleep(1000);
								 li12.setVisible(false);
								 li12.setIcon(g2);
								 li12.setVisible(true);
								 funcn7(s,len,mac,sip,dname,dip);
								
								
								
								 
							 }
						 }
				
						 else  if(rsn3.next()==false)
						 {
							 
							 lbn3.setVisible(false);
								lbn3.setIcon(rn3);
								lbn3.setVisible(true);
								Thread.sleep(1000);
								 Statement stu1 = con.createStatement();
								 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N3'";
								 stu1.executeUpdate(sqlu1);
							 Socket sc1=new Socket("localhost",2015);
							 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
							 dout.writeUTF("N3");
							 String cip3=rsn3.getString(2);
							 dout.writeUTF(cip3);
							 
							 DataInputStream din1=new DataInputStream(sc1.getInputStream());
							 String msg=din1.readUTF();
							 if(msg.equalsIgnoreCase("success"))
							 {
								 JOptionPane.showMessageDialog(null,"Malicious Attacker in N3");
							 }
							 li5.setVisible(false);
							 li5.setIcon(g7);
							 li5.setVisible(true);
							 Thread.sleep(1000);
							 lbn2.setVisible(false);
							 lbn2.setIcon(gn2);
							 lbn2.setVisible(true);
							 Thread.sleep(1000);
							 li7.setVisible(false);
							 li7.setIcon(g4);
							 li7.setVisible(true);
							 Thread.sleep(1000);
							 lbn5.setVisible(false);
							 lbn5.setIcon(gn5);
							 lbn5.setVisible(true);
							 Thread.sleep(1000);
							 li12.setVisible(false);
							 li12.setIcon(g2);
							 li12.setVisible(true);
							 funcn7(s,len,mac,sip,dname,dip);
						 }
						 
						 
						 
						 
					 }//***************Node3 ends here
					 
					 
					 
					 
					}
					
					
					
				}
				catch(Exception e)
				{
					e.printStackTrace();
				}
				
				
			}
			
			
			if(this.port==201)
			{
				try
				{
				ServerSocket sc = new ServerSocket(201);
				while(true)
				{
					Socket s = sc.accept();
					DataInputStream din = new DataInputStream(s.getInputStream());
					String sip=din.readUTF();
					String mac=din.readUTF();
					
					
					DBCon db = new DBCon();
					Connection con = db.getConnection();
					

					for(int i=1;i<=13;i++)
					{
						String nodename="N"+i;
						String sql = "update Nodesinfo set senderip='"+sip+"',Keys='"+mac+"',status='Normal' where Nname='"+nodename+"'";
						Statement stmt = con.createStatement();
						stmt.executeUpdate(sql);
						

						
					}
					
					DataOutputStream dout = new DataOutputStream(s.getOutputStream());
					dout.writeUTF("Nodes Initialized Successfully");
					
					
					
					
					
				}
				}
				catch(Exception e)
				{
					e.printStackTrace();
				}
			}
		
		
		
}
}
	hiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii
	

	public void funcn7(Socket s,int len,String mac,String sip,String dname,String dip)
	{
		DBCon db = new DBCon();
		 Connection con = db.getConnection();
		try
		{
			
			 lbs1.setVisible(false);
			 lbs1.setIcon(gs1);
			 lbs1.setVisible(true);
			 
			 
			 Random r1 = new Random();
			 
			 tn1 = r1.nextInt(50);
			 tn2= r1.nextInt(50);
			 tn3 = r1.nextInt(50);
			
			 l1.setVisible(false);
			 l1.setText(Integer.toString(tn1));
			 l1.setVisible(true);
			 
			 l2.setVisible(false);
			 l2.setText(Integer.toString(tn2));
			 l2.setVisible(true);
			 
			 l3.setVisible(false);
			 l3.setText(Integer.toString(tn3));
			 l3.setVisible(true);
			 
			 Thread.sleep(1000);
			 
			
			 
			 if(tn1<tn2 && tn1<tn3)
			 {
				 
				 	li1.setVisible(false);
					li1.setIcon(g1);
					li1.setVisible(true);
					Thread.sleep(1000);
					
				
				 
				 Statement stmtn1 = con.createStatement();
				 String sqln1 = "select * from Nodesinfo where Nname='N1' and Keys='"+mac+"' and senderip='"+sip+"' ";
				 ResultSet rsn1 = stmtn1.executeQuery(sqln1);
				 if(rsn1.next()==true)
				 {
					 String bw1=rsn1.getString(4);
					
					 int bw11=Integer.parseInt(bw1);
					 
					 if(len<bw11)
					 {
						 lbn1.setVisible(false);
							lbn1.setIcon(gn1);
							lbn1.setVisible(true);
						 
						 Thread.sleep(1000);
						 
						 tn4=r1.nextInt(50);
						 tn2=r1.nextInt(50);
						 
						 l6.setVisible(false);
						 l6.setText(Integer.toString(tn4));
						 l6.setVisible(true);
						 
						l4.setVisible(false);
						 l4.setText(Integer.toString(tn2));
						 l4.setVisible(true);
						 
						 Thread.sleep(1000);
						 
						 
						 if(tn4<tn2)
						 {
							 
							 li6.setVisible(false);
							 li6.setIcon(g4);
							 li6.setVisible(true);
							 
							 Thread.sleep(1000);
							 
							 Statement stmtn4 = con.createStatement();
							 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"' ";
							 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
							 
							 if(rsn4.next()==true)
							 {
								 String bw2=rsn4.getString(4);
								
								 int bw12=Integer.parseInt(bw2);
								 
								 if(len<bw12)
								 {
									 
									 lbn4.setVisible(false);
										lbn4.setIcon(gn4);
										lbn4.setVisible(true);
									 
									 Thread.sleep(1000);
									
									 
									 tn7=r1.nextInt(50);
									 tn5=r1.nextInt(50);
									 
									 l11.setVisible(false);
									 l11.setText(Integer.toString(tn7));
									 l11.setVisible(true);
									 
									 l9.setVisible(false);
									 l9.setText(Integer.toString(tn5));
									 l9.setVisible(true);
									 
									 Thread.sleep(1000);
									 
									 if(tn7<tn5)
									 {
										 li11.setVisible(false);
										 li11.setIcon(g5);
										 li11.setVisible(true);
										 
										 Thread.sleep(1000);
										 funcn7(s,len,mac,sip,dname,dip);
									 }
									 else if(tn5<tn7)
									 {
										 
										 li9.setVisible(false);
										 li9.setIcon(g7);
										 li9.setVisible(true);
										 
										 Thread.sleep(1000);
										 
										 Statement stmtn5 = con.createStatement();
										 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
										 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
										 
										 if(rsn5.next()==true)
										 {
											 String bw3=rsn5.getString(4);
											
											 int bw13=Integer.parseInt(bw3);
											 
											 if(len<bw13)
											 {
												 
												 lbn5.setVisible(false);
													lbn5.setIcon(gn5);
													lbn5.setVisible(true);
												 
												 Thread.sleep(1000);
												
												 tn7= r1.nextInt(50);
												 tn6=r1.nextInt(50);
												 
												 l12.setVisible(false);
												 l12.setText(Integer.toString(tn7));
												 l12.setVisible(true);
												 
												 l10.setVisible(false);
												 l10.setText(Integer.toString(tn6));
												 l10.setVisible(true);
												 
												 Thread.sleep(1000);
												 
												 
												 
												 if(tn7<tn6)
												 {
													 
													 li12.setVisible(false);
													 li12.setIcon(g2);
													 li12.setVisible(true);
													 
													 funcn7(s,len,mac,sip,dname,dip);
												 }
												 else if(tn6<tn7)
												 {
													 
													 li10.setVisible(false);
													 li10.setIcon(g7);
													 li10.setVisible(true);
													 
													 Thread.sleep(1000);
													 
													 
													 Statement stmtn6 = con.createStatement();
													 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
													 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
													 
													 if(rsn6.next()==true)
													 {
														 String bw4=rsn6.getString(4);
														 
														 int bw14=Integer.parseInt(bw4);
														 
														 if(len<bw14)
														 {
															 lbn6.setVisible(false);
																lbn6.setIcon(gn6);
																lbn6.setVisible(true);
																
																 Thread.sleep(1000);
																 li13.setVisible(false);
																 li13.setIcon(g6);
																 li13.setVisible(true);
															 funcn7(s,len,mac,sip,dname,dip);
														 }
														 else 
														 {
															 //evasdropper in node6
															 
															 lbn6.setVisible(false);
																lbn6.setIcon(rn6);
																lbn6.setVisible(true);
															 
															 Thread.sleep(1000);
															 Statement stu1 = con.createStatement();
															 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
															 stu1.executeUpdate(sqlu1);
															 
															 Socket sc1=new Socket("localhost",2014);
															 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
															 dout.writeUTF("N6");
															 dout.writeUTF(bw4);
															
															 DataInputStream din1=new DataInputStream(sc1.getInputStream());
															 String msg=din1.readUTF();
															 if(msg.equalsIgnoreCase("success"))
															 {
																 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
															 }
															 
															 li10.setVisible(false);
															 li10.setIcon(g7);
															 li10.setVisible(true);
															 Thread.sleep(1000);
															 lbn5.setVisible(false);
															 lbn5.setIcon(gn5);
															 lbn5.setVisible(true);
															 Thread.sleep(1000);
															 li12.setVisible(false);
															 li12.setIcon(g2);
															 li12.setVisible(true);
															 
															 funcn7(s,len,mac,sip,dname,dip);
														 }
														 
														 
													 }else  if(rsn6.next()==false)
													 {
														 lbn6.setVisible(false);
															lbn6.setIcon(rn6);
															lbn6.setVisible(true);
															Thread.sleep(1000);
															 Statement stu1 = con.createStatement();
															 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
															 stu1.executeUpdate(sqlu1);
														 Socket sc1=new Socket("localhost",2015);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N6");
														 String cip6=rsn6.getString(2);
														 dout.writeUTF(cip6);
														 DataInputStream din1=new DataInputStream(sc1.getInputStream());
														 String msg=din1.readUTF();
														 if(msg.equalsIgnoreCase("success"))
														 {
															 JOptionPane.showMessageDialog(null,"Malicious Attacker in N6");
														 }
														 li10.setVisible(false);
														 li10.setIcon(g7);
														 li10.setVisible(true);
														 Thread.sleep(1000);
														 lbn5.setVisible(false);
														 lbn5.setIcon(gn5);
														 lbn5.setVisible(true);
														 Thread.sleep(1000);
														 li12.setVisible(false);
														 li12.setIcon(g2);
														 li12.setVisible(true);
														 
														 funcn7(s,len,mac,sip,dname,dip);
													 }
												 
												 }
												 
												 
												 
											 }
											 else 
											 {
												 //evasdropper in node5
												 
												 lbn5.setVisible(false);
													lbn5.setIcon(rn5);
													lbn5.setVisible(true);
												 
												 Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
												 stu1.executeQuery(sqlu1);
												 
												 Socket sc1=new Socket("localhost",2014);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N5");
												 dout.writeUTF(bw3);
												
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
												 }
												 
												 li9.setVisible(false);
												 li9.setIcon(g7);
												 li9.setVisible(true);
												 Thread.sleep(1000);
												 lbn4.setVisible(false);
												 lbn4.setIcon(gn4);
												 lbn4.setVisible(true);
												 Thread.sleep(1000);
												 li11.setVisible(false);
												 li11.setIcon(g5);
												 li11.setVisible(true);
												 
												 funcn7(s,len,mac,sip,dname,dip);
											
											 }
										 }else  if(rsn5.next()==false)
										 {
											 lbn5.setVisible(false);
												lbn5.setIcon(rn5);
												lbn5.setVisible(true);
												Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
												 stu1.executeUpdate(sqlu1);
											 Socket sc1=new Socket("localhost",2015);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N5");
											 String cip5=rsn5.getString(2);
											 dout.writeUTF(cip5);
											 
											 li9.setVisible(false);
											 li9.setIcon(g7);
											 li9.setVisible(true);
											 Thread.sleep(1000);
											 lbn4.setVisible(false);
											 lbn4.setIcon(gn4);
											 lbn4.setVisible(true);
											 Thread.sleep(1000);
											 li11.setVisible(false);
											 li11.setIcon(g5);
											 li11.setVisible(true);
											 
											 funcn7(s,len,mac,sip,dname,dip);
										 }
										 
									 }
										 
									 
									 
									 
									 
								 }
								 else 
								 {
									 //evasdropper in node 4
									 
									 lbn4.setVisible(false);
										lbn4.setIcon(rn4);
										lbn4.setVisible(true);
									 
									 Thread.sleep(1000);
									 Statement stu1 = con.createStatement();
									 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N4'";
									 stu1.executeQuery(sqlu1);
									 
									 Socket sc1=new Socket("localhost",2014);
									 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
									 dout.writeUTF("N4");
									 dout.writeUTF(bw2);
									
									 DataInputStream din1=new DataInputStream(sc1.getInputStream());
									 String msg=din1.readUTF();
									 if(msg.equalsIgnoreCase("success"))
									 {
										 JOptionPane.showMessageDialog(null,"Traffic Occurs in N4");
									 }
									 
									 li6.setVisible(false);
									 li6.setIcon(g4);
									 li6.setVisible(true);
									 Thread.sleep(1000);
									 lbn1.setVisible(false);
									 lbn1.setIcon(gn1);
									 lbn1.setVisible(true);
									 Thread.sleep(1000);
									 
									 
									 
								
								 }
								 
							 }else  if(rsn4.next()==false)
							 {
								 lbn4.setVisible(false);
									lbn4.setIcon(rn4);
									lbn4.setVisible(true);
									Thread.sleep(1000);
									 Statement stu1 = con.createStatement();
									 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N4'";
									 stu1.executeUpdate(sqlu1);
								 Socket sc1=new Socket("localhost",2015);
								 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
								 dout.writeUTF("N4");
								 String cip4=rsn4.getString(2);
								 dout.writeUTF(cip4);
								 
								 li6.setVisible(false);
								 li6.setIcon(g4);
								 li6.setVisible(true);
								 Thread.sleep(1000);
								 lbn1.setVisible(false);
								 lbn1.setIcon(gn1);
								 lbn1.setVisible(true);
								 Thread.sleep(1000);
							 }
							 
							 
						 }
						 else if(tn2<tn4)
						 {
							 
							 li4.setVisible(false);
							 li4.setIcon(g7);
							 li4.setVisible(true);
							 
							 Thread.sleep(1000);
							 
							 Statement stmtn2 = con.createStatement();
							 String sqln2 = "select * from Nodesinfo where Nname='N2' and Keys='"+mac+"' and senderip='"+sip+"'";
							 ResultSet rsn2 = stmtn2.executeQuery(sqln2);
							 
							 if(rsn2.next()==true)
							 {
								 String bw5=rsn2.getString(4);
								 
								 int bw15=Integer.parseInt(bw5);
								 
								 if(len<bw15)
								 {
									 lbn2.setVisible(false);
									 lbn2.setIcon(gn2);
									 lbn2.setVisible(true);
									 Thread.sleep(1000);
									 
									 tn5 = r1.nextInt(50);
									 tn3= r1.nextInt(50);
									 
									 l7.setVisible(false);
									 l7.setText(Integer.toString(tn5));
									 l7.setVisible(true);
									 
									 l5.setVisible(false);
									 l5.setText(Integer.toString(tn3));
									 l5.setVisible(true);
									 
									 Thread.sleep(1000);
									 
									 
									 if(tn5<tn3)
									 {
										 
										 li7.setVisible(false);
										 li7.setIcon(g4);
										 li7.setVisible(true);
										 
										 Thread.sleep(1000);
										 
										 Statement stmtn5 = con.createStatement();
										 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
										 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
										 
										 if(rsn5.next()==true)
										 {
											 String bw6=rsn5.getString(4);
											 
											 int bw16=Integer.parseInt(bw6);
											 
											 if(len<bw16)
											 {
												 
												 lbn5.setVisible(false);
												 lbn5.setIcon(gn5);
												 lbn5.setVisible(true);
												 Thread.sleep(1000);
												 
												 tn4=r1.nextInt(50);
												 tn7=r1.nextInt(50);
												 tn6=r1.nextInt(50);
												 
												 l9.setVisible(false);
												 l9.setText(Integer.toString(tn4));
												 l9.setVisible(true);
												 
												 l12.setVisible(false);
												 l12.setText(Integer.toString(tn7));
												 l12.setVisible(true);
												 
												 
												 l10.setVisible(false);
												 l10.setText(Integer.toString(tn6));
												 l10.setVisible(true);
												 
												 Thread.sleep(1000);
												 
												 
												 
												 if(tn4<tn7&&tn4<tn6)
												 {
													 li9.setVisible(false);
													 li9.setIcon(g7);
													 li9.setVisible(true);
													 
													 Thread.sleep(1000);
													 
													 Statement stmtn4 = con.createStatement();
													 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"'";
													 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
													 
													 if(rsn4.next()==true)
													 {
														 String bw7=rsn4.getString(4);
														 
														 int bw17=Integer.parseInt(bw7);
														 
														 if(len<bw17)
														 {
															 lbn4.setVisible(false);
															 lbn4.setIcon(gn4);
															 lbn4.setVisible(true);
															 Thread.sleep(1000);
															 
															 
															 li11.setVisible(false);
															 li11.setIcon(g5);
															 li11.setVisible(true);
													
															 funcn7(s,len,mac,sip,dname,dip);
														 }
														 else
														 {
															//evasdropper in node4
															 lbn4.setVisible(false);
																lbn4.setIcon(rn4);
																lbn4.setVisible(true);
															 
															 Thread.sleep(1000);
															 Statement stu1 = con.createStatement();
															 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N4'";
															 stu1.executeQuery(sqlu1);
															 
															 Socket sc1=new Socket("localhost",2014);
															 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
															 dout.writeUTF("N4");
															 dout.writeUTF(bw7);
															
															 DataInputStream din1=new DataInputStream(sc1.getInputStream());
															 String msg=din1.readUTF();
															 if(msg.equalsIgnoreCase("success"))
															 {
																 JOptionPane.showMessageDialog(null,"Traffic Occurs in N4");
															 }
															 
															 li9.setVisible(false);
															 li9.setIcon(g7);
															 li9.setVisible(true);
															 Thread.sleep(1000);
															 lbn5.setVisible(false);
															 lbn5.setIcon(gn5);
															 lbn5.setVisible(true);
															 Thread.sleep(1000);
															 li12.setVisible(false);
															 li12.setIcon(g2);
															 li12.setVisible(true);
															 Thread.sleep(1000);
															 funcn7(s,len,mac,sip,dname,dip);
															 
														 }
													 }
													 else  if(rsn4.next()==false)
													 {
														 lbn4.setVisible(false);
															lbn4.setIcon(rn4);
															lbn4.setVisible(true);
															Thread.sleep(1000);
															 Statement stu1 = con.createStatement();
															 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N4'";
															 stu1.executeUpdate(sqlu1);
														 Socket sc1=new Socket("localhost",2015);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N4");
														 String cip4=rsn4.getString(2);
														 dout.writeUTF(cip4);
														 
														 li9.setVisible(false);
														 li9.setIcon(g7);
														 li9.setVisible(true);
														 Thread.sleep(1000);
														 lbn5.setVisible(false);
														 lbn5.setIcon(gn5);
														 lbn5.setVisible(true);
														 Thread.sleep(1000);
														 li12.setVisible(false);
														 li12.setIcon(g2);
														 li12.setVisible(true);
														 Thread.sleep(1000);
														 funcn7(s,len,mac,sip,dname,dip);
													 }
													 
													 
													 
													 
													 
													 
												 }
												 else if(tn7<tn4&&tn7<tn6)
												 {
													 li12.setVisible(false);
													 li12.setIcon(g2);
													 li12.setVisible(true);
													 Thread.sleep(1000);
													 
													
													 funcn7(s,len,mac,sip,dname,dip);
												 }
												 else if(tn6<tn4&&tn6<tn7)
												 {
													 li10.setVisible(false);
													 li10.setIcon(g7);
													 li10.setVisible(true);
													 Thread.sleep(1000);
													 
													 
													 Statement stmtn6 = con.createStatement();
													 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
													 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
													 
													 if(rsn6.next()==true)
													 {
														 String bw8=rsn6.getString(4);
														 
														 int bw18=Integer.parseInt(bw8);
														 
														 if(len<bw18)
														 {
															 lbn6.setVisible(false);
															 lbn6.setIcon(gn6);
															 lbn6.setVisible(true);
															 
															 Thread.sleep(1000);
															 
															 li13.setVisible(false);
															 li13.setIcon(g6);
															 li13.setVisible(true);
															 Thread.sleep(1000);
															 
															 funcn7(s,len,mac,sip,dname,dip);
														 }
														 else
														 {
															//evasdropper in node6
															
															 lbn6.setVisible(false);
																lbn6.setIcon(rn6);
																lbn6.setVisible(true);
															 
															 Thread.sleep(1000);
															 Statement stu1 = con.createStatement();
															 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
															 stu1.executeUpdate(sqlu1);
															 
															 Socket sc1=new Socket("localhost",2014);
															 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
															 dout.writeUTF("N6");
															 dout.writeUTF(bw8);
															
															 DataInputStream din1=new DataInputStream(sc1.getInputStream());
															 String msg=din1.readUTF();
															 if(msg.equalsIgnoreCase("success"))
															 {
																 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
															 }
															 
															 li10.setVisible(false);
															 li10.setIcon(g7);
															 li10.setVisible(true);
															 Thread.sleep(1000);
															 lbn5.setVisible(false);
															 lbn5.setIcon(gn5);
															 lbn5.setVisible(true);
															 Thread.sleep(1000);
															 li12.setVisible(false);
															 li12.setIcon(g2);
															 li12.setVisible(true);
															 
															 funcn7(s,len,mac,sip,dname,dip);
															
														
															 
														 }
													 }
													 else  if(rsn6.next()==false)
													 {
														 lbn6.setVisible(false);
															lbn6.setIcon(rn6);
															lbn6.setVisible(true);
															Thread.sleep(1000);
															 Statement stu1 = con.createStatement();
															 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
															 stu1.executeUpdate(sqlu1);
														 Socket sc1=new Socket("localhost",2015);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N6");
														 String cip6=rsn6.getString(2);
														 dout.writeUTF(cip6);
														 
														 li10.setVisible(false);
														 li10.setIcon(g7);
														 li10.setVisible(true);
														 Thread.sleep(1000);
														 lbn5.setVisible(false);
														 lbn5.setIcon(gn5);
														 lbn5.setVisible(true);
														 Thread.sleep(1000);
														 li12.setVisible(false);
														 li12.setIcon(g2);
														 li12.setVisible(true);
														 
														 funcn7(s,len,mac,sip,dname,dip);
													 }
												 
												 }
												 
												 
												 
												 
											 }
											 else 
											 {
												 //evasdropper in node5
												 
												 lbn5.setVisible(false);
													lbn5.setIcon(rn5);
													lbn5.setVisible(true);
												 
												 Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
												 stu1.executeQuery(sqlu1);
												 
												 Socket sc1=new Socket("localhost",2014);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N5");
												 dout.writeUTF(bw6);
												
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
												 }
												 
												 li9.setVisible(false);
												 li9.setIcon(g7);
												 li9.setVisible(true);
												 Thread.sleep(1000);
												 lbn4.setVisible(false);
												 lbn4.setIcon(gn4);
												 lbn4.setVisible(true);
												 Thread.sleep(1000);
												 li11.setVisible(false);
												 li11.setIcon(g5);
												 li11.setVisible(true);
												 
												 funcn7(s,len,mac,sip,dname,dip);
												
												
											 }
											 
											 
										 }
										 else  if(rsn5.next()==false)
										 {
											 lbn5.setVisible(false);
												lbn5.setIcon(rn5);
												lbn5.setVisible(true);
												Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
												 stu1.executeUpdate(sqlu1);
											 Socket sc1=new Socket("localhost",2015);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N5");
											 String cip5=rsn5.getString(2);
											 dout.writeUTF(cip5);
											 
											 li9.setVisible(false);
											 li9.setIcon(g7);
											 li9.setVisible(true);
											 Thread.sleep(1000);
											 lbn4.setVisible(false);
											 lbn4.setIcon(gn4);
											 lbn4.setVisible(true);
											 Thread.sleep(1000);
											 li11.setVisible(false);
											 li11.setIcon(g5);
											 li11.setVisible(true);
											 
											 funcn7(s,len,mac,sip,dname,dip);
										 }
										 
										 
										 
									 }
									 else if(tn3<tn5)
									 {
										 
										 li5.setVisible(false);
										 li5.setIcon(g7);
										 li5.setVisible(true);
										 
										 Thread.sleep(1000);
										 
										 Statement stmtn3 = con.createStatement();
										 String sqln3 = "select * from Nodesinfo where Nname='N3' and Keys='"+mac+"' and senderip='"+sip+"'";
										 ResultSet rsn3 = stmtn3.executeQuery(sqln3);
										 
										 if(rsn3.next()==true)
										 {
											 String bw9=rsn3.getString(4);
											 
											 int bw19=Integer.parseInt(bw9);
											 
											 if(len<bw19)
											 { 
												 lbn3.setVisible(false);
												 lbn3.setIcon(gn3);
												 lbn3.setVisible(true);
												 
												 Thread.sleep(1000);
												 
												 li8.setVisible(false);
												 li8.setIcon(g4);
												 li8.setVisible(true);
												 
												 Thread.sleep(1000);
												 
												 Statement stmtn6 = con.createStatement();
												 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
												 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
												 
												 if(rsn6.next()==true)
												 {
													 String bw10=rsn6.getString(4);
													 
													 int bw20=Integer.parseInt(bw10);
													 
													 if(len<bw20)
													 { 
														 lbn6.setVisible(false);
														 lbn6.setIcon(gn6);
														 lbn6.setVisible(true);
														 Thread.sleep(1000);
														 
														 tn5=r1.nextInt(50);
															tn7=r1.nextInt(50);
															
															l10.setVisible(false);
															l10.setText(Integer.toString(tn5));
															l10.setVisible(true);
															
															l13.setVisible(false);
															l13.setText(Integer.toString(tn7));
															l13.setVisible(true);
															
															Thread.sleep(1000);
															
															if(tn5<tn7)
															{
																
																li10.setVisible(false);
																li10.setIcon(g7);
																li10.setVisible(true);
																
																Thread.sleep(1000);
																
																 Statement stmtn5 = con.createStatement();
																 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
																 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
																 
																 if(rsn5.next()==true)
																 {
																	 String bw21=rsn5.getString(4);
																	 
																	 int bw31=Integer.parseInt(bw21);
																	 
																	 if(len<bw31)
																	 { 
																		 lbn5.setVisible(false);
																		 lbn5.setIcon(gn5);
																		 lbn5.setVisible(true);
																		 Thread.sleep(1000);
																		 
																		tn7=r1.nextInt(50);
																		tn4=r1.nextInt(50);
																		
																		l12.setVisible(false);
																		l12.setText(Integer.toString(tn7));
																		l12.setVisible(true);
																		
																		l9.setVisible(false);
																		l9.setText(Integer.toString(tn4));
																		l9.setVisible(true);
																		
																		Thread.sleep(1000);
																		
																		if(tn7<tn4)
																		{
																			li12.setVisible(false);
																			li12.setIcon(g2);
																			li12.setVisible(true);
																			
																			Thread.sleep(1000);
																			
																			funcn7(s,len,mac,sip,dname,dip);
																		}
																		else if(tn4<tn7)
																		{
																			li9.setVisible(false);
																			li9.setIcon(g7);
																			li9.setVisible(true);
																			
																			Thread.sleep(1000);
																			
																			Statement stmtn4 = con.createStatement();
																			 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"'";
																			 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
																			 
																			 if(rsn4.next()==true)
																			 {
																				 String bw22=rsn4.getString(4);
																				 
																				 int bw32=Integer.parseInt(bw22);
																				 
																				 if(len<bw32)
																				 { 
																					 lbn4.setVisible(false);
																					 lbn4.setIcon(gn4);
																					 lbn4.setVisible(true);
																					 Thread.sleep(1000);
																					 
																					 li11.setVisible(false);
																					 li11.setIcon(g5);
																					 li11.setVisible(true);
																					 
																					 Thread.sleep(1000);
																					 
																					 funcn7(s,len,mac,sip,dname,dip);
																				 
																				 }
																				 else 
																				 {
																					 //evasdropper in node4
																					 
																					 lbn4.setVisible(false);
																						lbn4.setIcon(rn4);
																						lbn4.setVisible(true);
																					 
																					 Thread.sleep(1000);
																					 Statement stu1 = con.createStatement();
																					 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N4'";
																					 stu1.executeQuery(sqlu1);
																					 
																					 Socket sc1=new Socket("localhost",2014);
																					 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																					 dout.writeUTF("N4");
																					 dout.writeUTF(bw22);
																					
																					 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																					 String msg=din1.readUTF();
																					 if(msg.equalsIgnoreCase("success"))
																					 {
																						 JOptionPane.showMessageDialog(null,"Traffic Occurs in N4");
																					 }
																					 
																					 li9.setVisible(false);
																					 li9.setIcon(g7);
																					 li9.setVisible(true);
																					 Thread.sleep(1000);
																					 lbn5.setVisible(false);
																					 lbn5.setIcon(gn5);
																					 lbn5.setVisible(true);
																					 Thread.sleep(1000);
																					 li12.setVisible(false);
																					 li12.setIcon(g2);
																					 li12.setVisible(true);
																					 Thread.sleep(1000);
																					 funcn7(s,len,mac,sip,dname,dip);
																					
																					 
																				 }
																			 }
																			 else  if(rsn4.next()==false)
																			 {
																				 lbn4.setVisible(false);
																					lbn4.setIcon(rn4);
																					lbn4.setVisible(true);
																					Thread.sleep(1000);
																					 Statement stu1 = con.createStatement();
																					 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N4'";
																					 stu1.executeUpdate(sqlu1);
																				 Socket sc1=new Socket("localhost",2015);
																				 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																				 dout.writeUTF("N4");
																				 String cip4=rsn4.getString(2);
																				 dout.writeUTF(cip4);
																				 
																				 li9.setVisible(false);
																				 li9.setIcon(g7);
																				 li9.setVisible(true);
																				 Thread.sleep(1000);
																				 lbn5.setVisible(false);
																				 lbn5.setIcon(gn5);
																				 lbn5.setVisible(true);
																				 Thread.sleep(1000);
																				 li12.setVisible(false);
																				 li12.setIcon(g2);
																				 li12.setVisible(true);
																				 Thread.sleep(1000);
																				 funcn7(s,len,mac,sip,dname,dip);
																			 }
																			 
																			 
																			
																		}
																		
																		
																	 }
																	 else 
																	 {
																		 //evasdropper in node5
																		 
																		 lbn5.setVisible(false);
																			lbn5.setIcon(rn5);
																			lbn5.setVisible(true);
																		 
																		 Thread.sleep(1000);
																		 Statement stu1 = con.createStatement();
																		 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
																		 stu1.executeQuery(sqlu1);
																		 
																		 Socket sc1=new Socket("localhost",2014);
																		 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																		 dout.writeUTF("N5");
																		 dout.writeUTF(bw21);
																		
																		 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																		 String msg=din1.readUTF();
																		 if(msg.equalsIgnoreCase("success"))
																		 {
																			 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
																		 }
																		 
																		 li10.setVisible(false);
																		 li10.setIcon(g7);
																		 li10.setVisible(true);
																		 Thread.sleep(1000);
																		 lbn6.setVisible(false);
																		 lbn6.setIcon(gn6);
																		 lbn6.setVisible(true);
																		 Thread.sleep(1000);
																		 li13.setVisible(false);
																		 li13.setIcon(g6);
																		 li13.setVisible(true);
																		 
																		 funcn7(s,len,mac,sip,dname,dip);
																		
																	 }
																 }
																 else  if(rsn5.next()==false)
																 {
																	 lbn5.setVisible(false);
																		lbn5.setIcon(rn5);
																		lbn5.setVisible(true);
																		Thread.sleep(1000);
																		 Statement stu1 = con.createStatement();
																		 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
																		 stu1.executeUpdate(sqlu1);
																	 Socket sc1=new Socket("localhost",2015);
																	 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																	 dout.writeUTF("N5");
																	 String cip5=rsn5.getString(2);
																	 dout.writeUTF(cip5);
																	 
																	 li10.setVisible(false);
																	 li10.setIcon(g7);
																	 li10.setVisible(true);
																	 Thread.sleep(1000);
																	 lbn6.setVisible(false);
																	 lbn6.setIcon(gn6);
																	 lbn6.setVisible(true);
																	 Thread.sleep(1000);
																	 li13.setVisible(false);
																	 li13.setIcon(g6);
																	 li13.setVisible(true);
																	 
																	 funcn7(s,len,mac,sip,dname,dip);
																 }
																
																
																
																
															}
															else if(tn7<tn5)
															{
																
																li12.setVisible(false);
																li12.setIcon(g2);
																li12.setVisible(true);
																
																Thread.sleep(1000);
																
																funcn7(s,len,mac,sip,dname,dip);
															}
															
													 }
													 else
													 {
														//evasdropper in node6
														 
														 lbn6.setVisible(false);
															lbn6.setIcon(rn6);
															lbn6.setVisible(true);
														 
														 Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
														 stu1.executeUpdate(sqlu1);
														 
														 Socket sc1=new Socket("localhost",2014);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N6");
														 dout.writeUTF(bw10);
														
														 DataInputStream din1=new DataInputStream(sc1.getInputStream());
														 String msg=din1.readUTF();
														 if(msg.equalsIgnoreCase("success"))
														 {
															 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
														 }
														 
														 li10.setVisible(false);
														 li10.setIcon(g7);
														 li10.setVisible(true);
														 Thread.sleep(1000);
														 lbn5.setVisible(false);
														 lbn5.setIcon(gn5);
														 lbn5.setVisible(true);
														 Thread.sleep(1000);
														 li12.setVisible(false);
														 li12.setIcon(g2);
														 li12.setVisible(true);
														 
														 funcn7(s,len,mac,sip,dname,dip);
														
														 
													 }
												 }else  if(rsn6.next()==false)
												 {
													 lbn6.setVisible(false);
														lbn6.setIcon(rn6);
														lbn6.setVisible(true);
														Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
														 stu1.executeUpdate(sqlu1);
													 Socket sc1=new Socket("localhost",2015);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N6");
													 String cip6=rsn6.getString(2);
													 dout.writeUTF(cip6);
													 
													 li10.setVisible(false);
													 li10.setIcon(g7);
													 li10.setVisible(true);
													 Thread.sleep(1000);
													 lbn5.setVisible(false);
													 lbn5.setIcon(gn5);
													 lbn5.setVisible(true);
													 Thread.sleep(1000);
													 li12.setVisible(false);
													 li12.setIcon(g2);
													 li12.setVisible(true);
													 
													 funcn7(s,len,mac,sip,dname,dip);
												 }
											 
												 
											 }
											 else 
											 {
												 //evasdropper in node3
												 
												 
												 lbn3.setVisible(false);
													lbn3.setIcon(rn3);
													lbn3.setVisible(true);
												 
												 Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N3'";
												 stu1.executeUpdate(sqlu1);
												 
												 Socket sc1=new Socket("localhost",2014);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N3");
												 dout.writeUTF(bw9);
												
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Traffic Occurs in N3");
												 }
												 
												 li5.setVisible(false);
												 li5.setIcon(g7);
												 li5.setVisible(true);
												 Thread.sleep(1000);
												 lbn2.setVisible(false);
												 lbn2.setIcon(gn2);
												 lbn2.setVisible(true);
												 Thread.sleep(1000);
												 li7.setVisible(false);
												 li7.setIcon(g4);
												 li7.setVisible(true);
												 lbn5.setVisible(false);
												 lbn5.setIcon(gn5);
												 lbn5.setVisible(true);
												 Thread.sleep(1000);
												 li12.setVisible(false);
												 li12.setIcon(g2);
												 li12.setVisible(true);
												 funcn7(s,len,mac,sip,dname,dip);
												 
												 
											 }
											 
											 
										 }else  if(rsn3.next()==false)
										 {
											 
											 lbn3.setVisible(false);
												lbn3.setIcon(rn3);
												lbn3.setVisible(true);
												Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N3'";
												 stu1.executeUpdate(sqlu1);
											 Socket sc1=new Socket("localhost",2015);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N3");
											 String cip3=rsn3.getString(2);
											 dout.writeUTF(cip3);
											 
											 li5.setVisible(false);
											 li5.setIcon(g7);
											 li5.setVisible(true);
											 Thread.sleep(1000);
											 lbn2.setVisible(false);
											 lbn2.setIcon(gn2);
											 lbn2.setVisible(true);
											 Thread.sleep(1000);
											 li7.setVisible(false);
											 li7.setIcon(g4);
											 li7.setVisible(true);
											 Thread.sleep(1000);
											 lbn5.setVisible(false);
											 lbn5.setIcon(gn5);
											 lbn5.setVisible(true);
											 Thread.sleep(1000);
											 li12.setVisible(false);
											 li12.setIcon(g2);
											 li12.setVisible(true);
											 funcn7(s,len,mac,sip,dname,dip);
										 }
										 
										 
									 }
									 
									 
								 }
								 else 
								 {
									 //evasdropper in node 2
									 
									 
									 lbn2.setVisible(false);
										lbn2.setIcon(rn2);
										lbn2.setVisible(true);
									 
									 Thread.sleep(1000);
									 Statement stu1 = con.createStatement();
									 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N2'";
									 stu1.executeUpdate(sqlu1);
									 
									 Socket sc1=new Socket("localhost",2014);
									 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
									 dout.writeUTF("N2");
									 dout.writeUTF(bw5);
									
									 DataInputStream din1=new DataInputStream(sc1.getInputStream());
									 String msg=din1.readUTF();
									 if(msg.equalsIgnoreCase("success"))
									 {
										 JOptionPane.showMessageDialog(null,"Traffic Occurs in N2");
									 }
									 
									 li7.setVisible(false);
									 li7.setIcon(g4);
									 li7.setVisible(true);
									 Thread.sleep(1000);
									 lbn5.setVisible(false);
									 lbn5.setIcon(gn5);
									 lbn5.setVisible(true);
									 Thread.sleep(1000);
									 li12.setVisible(false);
									 li12.setIcon(g2);
									 li12.setVisible(true);
									 funcn7(s,len,mac,sip,dname,dip);
									
									 
								 }
								 
							 }else  if(rsn2.next()==false)
							 {
								 
								 lbn2.setVisible(false);
									lbn2.setIcon(rn2);
									lbn2.setVisible(true);
									Thread.sleep(1000);
									 Statement stu1 = con.createStatement();
									 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N2'";
									 stu1.executeUpdate(sqlu1);
								 Socket sc1=new Socket("localhost",2015);
								 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
								 dout.writeUTF("N2");
								 String cip2=rsn2.getString(2);
								 dout.writeUTF(cip2);
								 
								
								 li7.setVisible(false);
								 li7.setIcon(g4);
								 li7.setVisible(true);
								 Thread.sleep(1000);
								 lbn5.setVisible(false);
								 lbn5.setIcon(gn5);
								 lbn5.setVisible(true);
								 Thread.sleep(1000);
								 li12.setVisible(false);
								 li12.setIcon(g2);
								 li12.setVisible(true);
								 funcn7(s,len,mac,sip,dname,dip);
							 }
							 
						 }
						 
						 
						 
					 }
					 else 
					 {
						 // EvasDropper in node1
						 
						 lbn1.setVisible(false);
							lbn1.setIcon(rn1);
							lbn1.setVisible(true);
						 
						 Thread.sleep(1000);
						 Statement stu1 = con.createStatement();
						 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N1'";
						 stu1.executeUpdate(sqlu1);
						 
						 Socket sc1=new Socket("localhost",2014);
						 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
						 dout.writeUTF("N1");
						 dout.writeUTF(bw1);
						
						 DataInputStream din1=new DataInputStream(sc1.getInputStream());
						 String msg=din1.readUTF();
						 if(msg.equalsIgnoreCase("success"))
						 {
							 JOptionPane.showMessageDialog(null,"Traffic Occurs in N1");
						 }
						 
						 li4.setVisible(false);
						 li4.setIcon(g7);
						 li4.setVisible(true);
						 Thread.sleep(1000);
						 lbn2.setVisible(false);
						 lbn2.setIcon(gn2);
						 lbn2.setVisible(true);
						 Thread.sleep(1000);
						 li7.setVisible(false);
						 li7.setIcon(g4);
						 li7.setVisible(true);
						 Thread.sleep(1000);
						 lbn5.setVisible(false);
						 lbn5.setIcon(gn5);
						 lbn5.setVisible(true);
						 Thread.sleep(1000);
						 li12.setVisible(false);
						 li12.setIcon(g2);
						 li12.setVisible(true);
						 funcn7(s,len,mac,sip,dname,dip);
						 
						 
						 
					 }
					 
					 
				 }else  if(rsn1.next()==false)
				 {
					 
					 lbn1.setVisible(false);
						lbn1.setIcon(rn1);
						lbn1.setVisible(true);
						Thread.sleep(1000);
						 Statement stu1 = con.createStatement();
						 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N1'";
						 stu1.executeUpdate(sqlu1);
					 Socket sc1=new Socket("localhost",2015);
					 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
					 dout.writeUTF("N1");
					 String cip1=rsn1.getString(2);
					 dout.writeUTF(cip1);
					 
					
					 li4.setVisible(false);
					 li4.setIcon(g7);
					 li4.setVisible(true);
					 Thread.sleep(1000);
					 lbn2.setVisible(false);
					 lbn2.setIcon(gn2);
					 lbn2.setVisible(true);
					 Thread.sleep(1000);
					 li7.setVisible(false);
					 li7.setIcon(g4);
					 li7.setVisible(true);
					 Thread.sleep(1000);
					 lbn5.setVisible(false);
					 lbn5.setIcon(gn5);
					 lbn5.setVisible(true);
					 Thread.sleep(1000);
					 li12.setVisible(false);
					 li12.setIcon(g2);
					 li12.setVisible(true);
					 funcn7(s,len,mac,sip,dname,dip);
				 }
				 
				 
				 
				 
			 } //******************* Node1 ends Here 
			 
			 
			 
			 
			 else if(tn2<tn1 && tn2<tn3)
			 {
				 //node2
				 
				 li2.setVisible(false);
				 li2.setIcon(g2);
				 li2.setVisible(true);
				 
				 Thread.sleep(1000);
				 
			
				 Statement stmtn2 = con.createStatement();
				 String sqln2 = "select * from Nodesinfo where Nname='N2' and Keys='"+mac+"' and senderip='"+sip+"'";
				 ResultSet rsn2 = stmtn2.executeQuery(sqln2);
				 
				 if(rsn2.next()==true)
				 {
					 String bw23=rsn2.getString(4);
					 
					 int bw33=Integer.parseInt(bw23);
					 
					 if(len<bw33)
					 { 
						 lbn2.setVisible(false);
						 lbn2.setIcon(gn2);
						 lbn2.setVisible(true);
						 
						 Thread.sleep(1000);
						 
						 tn1=r1.nextInt(50);
						 tn5=r1.nextInt(50);
						 tn3=r1.nextInt(50);
						 
						 l4.setVisible(false);
						 l4.setText(Integer.toString(tn1));
						 l4.setVisible(true);
						 
						 l7.setVisible(false);
						 l7.setText(Integer.toString(tn5));
						 l7.setVisible(true);
						 
						 l5.setVisible(false);
						 l5.setText(Integer.toString(tn3));
						 l5.setVisible(true);
						 
						 Thread.sleep(1000);
						 
						 
						 
						 if(tn1<tn5&&tn1<tn3)
						 {
							 
							 li4.setVisible(false);
							 li4.setIcon(g7);
							 li4.setVisible(true);
							 
							 Thread.sleep(1000);
							 
							 
							 Statement stmtn1 = con.createStatement();
							 String sqln1 = "select * from Nodesinfo where Nname='N1' and Keys='"+mac+"' and senderip='"+sip+"'";
							 ResultSet rsn1 = stmtn1.executeQuery(sqln1);
							 
							 if(rsn1.next()==true)
							 {
								 String bw24=rsn1.getString(4);
								 
								 int bw34=Integer.parseInt(bw24);
								 
								 if(len<bw34)
								 { 
									 
									 lbn1.setVisible(false);
										lbn1.setIcon(gn1);
										lbn1.setVisible(true);
									 
									 Thread.sleep(1000);
									 
									 
									 li6.setVisible(false);
									 li6.setIcon(g4);
									 li6.setVisible(true);
								
									 Statement stmtn4 = con.createStatement();
									 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"'";
									 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
									 
									 if(rsn4.next()==true)
									 {
										 String bw25=rsn4.getString(4);
										 
										 int bw35=Integer.parseInt(bw25);
										 
										 if(len<bw35)
										 { 
											 
											 lbn4.setVisible(false);
												lbn4.setIcon(gn4);
												lbn4.setVisible(true);
											 
											 Thread.sleep(1000);
											 
											 tn7=r1.nextInt(50);
											 tn5=r1.nextInt(50);
											 
											 l11.setVisible(false);
											 l11.setText(Integer.toString(tn7));
											 l11.setVisible(true);
											 
											 l9.setVisible(false);
											 l9.setText(Integer.toString(tn5));
											 l9.setVisible(true);
											 
											 Thread.sleep(1000);
											 
											 
											 
											 if(tn7<tn5)
											 {
												 
												 li11.setVisible(false);
												 li11.setIcon(g5);
												 li11.setVisible(true);
												 
												 Thread.sleep(1000);
												 
												 
												 funcn7(s,len,mac,sip,dname,dip);
											 }
											 else if(tn5<tn7)
											 {
												 li9.setVisible(false);
												 li9.setIcon(g7);
												 li9.setVisible(true);
												 
												 Thread.sleep(1000);
												
												 Statement stmtn5 = con.createStatement();
												 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
												 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
												 
												 if(rsn5.next()==true)
												 {
													 String bw26=rsn5.getString(4);
													 
													 int bw36=Integer.parseInt(bw26);
													 
													 if(len<bw36)
													 { 
														 
														 lbn5.setVisible(false);
															lbn5.setIcon(gn5);
															lbn5.setVisible(true);
														 
														 Thread.sleep(1000);
														 
														 
														 tn7= r1.nextInt(50);
														 tn6=r1.nextInt(50);
														 
														 l12.setVisible(false);
														 l12.setText(Integer.toString(tn7));
														 l12.setVisible(true);
														 
														 l10.setVisible(false);
														 l10.setText(Integer.toString(tn6));
														 l10.setVisible(true);
														 
														 Thread.sleep(1000);
														 
														 
														 if(tn7<tn6)
														 {
															 li12.setVisible(false);
															 li12.setIcon(g2);
															 li12.setVisible(true);
															 
															 Thread.sleep(1000);
															 
															 funcn7(s,len,mac,sip,dname,dip);
														 }
														 else if(tn6<tn7)
														 {
															 li10.setVisible(false);
															 li10.setIcon(g7);
															 li10.setVisible(true);
															 
															 Thread.sleep(1000);
															 
															 Statement stmtn6 = con.createStatement();
															 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
															 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
															 
															 if(rsn6.next()==true)
															 {
																 String bw27=rsn6.getString(4);
																 
																 int bw37=Integer.parseInt(bw27);
																 
																 if(len<bw37)
																 { 
																	 lbn6.setVisible(false);
																		lbn6.setIcon(gn6);
																		lbn6.setVisible(true);
																	 
																	 Thread.sleep(1000);
																	 
																	 li13.setVisible(false);
																	 li13.setIcon(g6);
																	 li13.setVisible(true);
																	 
																	 Thread.sleep(1000);
																
																	 funcn7(s,len,mac,sip,dname,dip);
																 }
																 else 
																 {
																	 //evasdropper in node6
																	 
																	 lbn6.setVisible(false);
																		lbn6.setIcon(rn6);
																		lbn6.setVisible(true);
																	 
																	 Thread.sleep(1000);
																	 Statement stu1 = con.createStatement();
																	 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
																	 stu1.executeUpdate(sqlu1);
																	 
																	 Socket sc1=new Socket("localhost",2014);
																	 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																	 dout.writeUTF("N6");
																	 dout.writeUTF(bw27);
																	
																	 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																	 String msg=din1.readUTF();
																	 if(msg.equalsIgnoreCase("success"))
																	 {
																		 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
																	 }
																	 
																	 li10.setVisible(false);
																	 li10.setIcon(g7);
																	 li10.setVisible(true);
																	 Thread.sleep(1000);
																	 lbn5.setVisible(false);
																	 lbn5.setIcon(gn5);
																	 lbn5.setVisible(true);
																	 Thread.sleep(1000);
																	 li12.setVisible(false);
																	 li12.setIcon(g2);
																	 li12.setVisible(true);
																	 funcn7(s,len,mac,sip,dname,dip);
																	
																		
																
																	 
																 }
															 }else  if(rsn6.next()==false)
															 {
																 
																 lbn6.setVisible(false);
																	lbn6.setIcon(rn6);
																	lbn6.setVisible(true);
																	Thread.sleep(1000);
																	 Statement stu1 = con.createStatement();
																	 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
																	 stu1.executeUpdate(sqlu1);
																 Socket sc1=new Socket("localhost",2015);
																 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																 dout.writeUTF("N6");
																 String cip6=rsn6.getString(2);
																 dout.writeUTF(cip6);
																 
																 li10.setVisible(false);
																 li10.setIcon(g7);
																 li10.setVisible(true);
																 Thread.sleep(1000);
																 lbn5.setVisible(false);
																 lbn5.setIcon(gn5);
																 lbn5.setVisible(true);
																 Thread.sleep(1000);
																 li12.setVisible(false);
																 li12.setIcon(g2);
																 li12.setVisible(true);
																 funcn7(s,len,mac,sip,dname,dip);
															 }
														 
														 }
														 
														 
														 
													 }
													 else 
													 {
														 //evasdropper in node5
														 
														 lbn5.setVisible(false);
															lbn5.setIcon(rn5);
															lbn5.setVisible(true);
														 
														 Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
														 stu1.executeUpdate(sqlu1);
														 
														 Socket sc1=new Socket("localhost",2014);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N5");
														 dout.writeUTF(bw26);
														
														 DataInputStream din1=new DataInputStream(sc1.getInputStream());
														 String msg=din1.readUTF();
														 if(msg.equalsIgnoreCase("success"))
														 {
															 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
														 }
														 
														 li9.setVisible(false);
														 li9.setIcon(g7);
														 li9.setVisible(true);
														 Thread.sleep(1000);
														 lbn4.setVisible(false);
														 lbn4.setIcon(gn4);
														 lbn4.setVisible(true);
														 Thread.sleep(1000);
														 li11.setVisible(false);
														 li11.setIcon(g5);
														 li11.setVisible(true);
														 funcn7(s,len,mac,sip,dname,dip);
														
													 }
												 }
												 else  if(rsn5.next()==false)
												 {
													 
													 lbn5.setVisible(false);
														lbn5.setIcon(rn5);
														lbn5.setVisible(true);
														Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
														 stu1.executeUpdate(sqlu1);
													 Socket sc1=new Socket("localhost",2015);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N5");
													 String cip5=rsn5.getString(2);
													 dout.writeUTF(cip5);
													 
													 li9.setVisible(false);
													 li9.setIcon(g7);
													 li9.setVisible(true);
													 Thread.sleep(1000);
													 lbn4.setVisible(false);
													 lbn4.setIcon(gn4);
													 lbn4.setVisible(true);
													 Thread.sleep(1000);
													 li11.setVisible(false);
													 li11.setIcon(g5);
													 li11.setVisible(true);
													 funcn7(s,len,mac,sip,dname,dip);
												 }
												 
											 }
												 
											 
											 
										
										 }
										 else 
										 {
											//evasdropper in node4
											 lbn4.setVisible(false);
												lbn4.setIcon(rn4);
												lbn4.setVisible(true);
											 
											 Thread.sleep(1000);
											 Statement stu1 = con.createStatement();
											 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N4'";
											 stu1.executeUpdate(sqlu1);
											 
											 Socket sc1=new Socket("localhost",2014);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N4");
											 dout.writeUTF(bw25);
											
											 DataInputStream din1=new DataInputStream(sc1.getInputStream());
											 String msg=din1.readUTF();
											 if(msg.equalsIgnoreCase("success"))
											 {
												 JOptionPane.showMessageDialog(null,"Traffic Occurs in N4");
											 }
											 
											 li9.setVisible(false);
											 li9.setIcon(g7);
											 li9.setVisible(true);
											 Thread.sleep(1000);
											 lbn5.setVisible(false);
											 lbn5.setIcon(gn5);
											 lbn5.setVisible(true);
											 Thread.sleep(1000);
											 li12.setVisible(false);
											 li12.setIcon(g2);
											 li12.setVisible(true);
											 funcn7(s,len,mac,sip,dname,dip);
											
										 }
										 
										 
									 }
									 else  if(rsn4.next()==false)
									 {
										 
										 lbn4.setVisible(false);
											lbn4.setIcon(rn4);
											lbn4.setVisible(true);
											Thread.sleep(1000);
											 Statement stu1 = con.createStatement();
											 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N4'";
											 stu1.executeUpdate(sqlu1);
										 Socket sc1=new Socket("localhost",2015);
										 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
										 dout.writeUTF("N4");
										 String cip4=rsn4.getString(2);
										 dout.writeUTF(cip4);
										 
										 li9.setVisible(false);
										 li9.setIcon(g7);
										 li9.setVisible(true);
										 Thread.sleep(1000);
										 lbn5.setVisible(false);
										 lbn5.setIcon(gn5);
										 lbn5.setVisible(true);
										 Thread.sleep(1000);
										 li12.setVisible(false);
										 li12.setIcon(g2);
										 li12.setVisible(true);
										 funcn7(s,len,mac,sip,dname,dip);
									 }
									 
									 
								 
								 }
							 }
							 
							 
							 
							 
						 }
						 else if(tn5<tn1&&tn5<tn3)
						 {
							 
							 li7.setVisible(false);
							 li7.setIcon(g4);
							 li7.setVisible(true);
							 
							 Thread.sleep(1000);
							 
							 
							 
							 Statement stmtn5 = con.createStatement();
							 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
							 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
							 
							 if(rsn5.next()==true)
							 {
								 String bw28=rsn5.getString(4);
								 
								 int bw38=Integer.parseInt(bw28);
								 
								 if(len<bw38)
								 { 
									 
									 lbn5.setVisible(false);
									 lbn5.setIcon(gn5);
									 lbn5.setVisible(true);
									 
									 Thread.sleep(1000);
									 
									 tn4=r1.nextInt(50);
									 tn7=r1.nextInt(50);
									 tn6=r1.nextInt(50);
									 
									 
									 l9.setVisible(false);
									 l9.setText(Integer.toString(tn4));
									 l9.setVisible(true);
									 
									 l12.setVisible(false);
									 l12.setText(Integer.toString(tn7));
									 l12.setVisible(true);
									 
									 l10.setVisible(false);
									 l10.setText(Integer.toString(tn6));
									 l10.setVisible(true);
									 
									 Thread.sleep(1000);
									 
									 
									 
									 if(tn4<tn7&&tn4<tn6)
									 {
										 
										 li9.setVisible(false);
										 li9.setIcon(g7);
										 li9.setVisible(true);
										 
										 Thread.sleep(1000);
										 
										 
										 Statement stmtn4 = con.createStatement();
										 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"'";
										 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
										 
										 if(rsn4.next()==true)
										 {
											 String bw29=rsn4.getString(4);
											 
											 int bw39=Integer.parseInt(bw29);
											 
											 if(len<bw39)
											 { 
												 lbn4.setVisible(false);
												 lbn4.setIcon(gn4);
												 lbn4.setVisible(true);
												 Thread.sleep(1000);
												 
												 li11.setVisible(false);
												 li11.setIcon(g5);
												 li11.setVisible(true);
												
												 funcn7(s,len,mac,sip,dname,dip);
											 }
											 else
											 {
												//evasdropper in node4
												 
												 lbn4.setVisible(false);
													lbn4.setIcon(rn4);
													lbn4.setVisible(true);
												 
												 Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N4'";
												 stu1.executeUpdate(sqlu1);
												 
												 Socket sc1=new Socket("localhost",2014);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N4");
												 dout.writeUTF(bw29);
												
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Traffic Occurs in N4");
												 }
												 
												 li9.setVisible(false);
												 li9.setIcon(g7);
												 li9.setVisible(true);
												 Thread.sleep(1000);
												 lbn5.setVisible(false);
												 lbn5.setIcon(gn5);
												 lbn5.setVisible(true);
												 Thread.sleep(1000);
												 li12.setVisible(false);
												 li12.setIcon(g2);
												 li12.setVisible(true);
												 funcn7(s,len,mac,sip,dname,dip);
												 
											 }
										 }
										 else  if(rsn4.next()==false)
										 {
											 
											 lbn4.setVisible(false);
												lbn4.setIcon(rn4);
												lbn4.setVisible(true);
												Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N4'";
												 stu1.executeUpdate(sqlu1);
											 Socket sc1=new Socket("localhost",2015);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N4");
											 String cip4=rsn4.getString(2);
											 dout.writeUTF(cip4);
											 
											 li9.setVisible(false);
											 li9.setIcon(g7);
											 li9.setVisible(true);
											 Thread.sleep(1000);
											 lbn5.setVisible(false);
											 lbn5.setIcon(gn5);
											 lbn5.setVisible(true);
											 Thread.sleep(1000);
											 li12.setVisible(false);
											 li12.setIcon(g2);
											 li12.setVisible(true);
											 funcn7(s,len,mac,sip,dname,dip);
										 }
										 
										 
										 
										 
									 }
									 else if(tn7<tn4&&tn7<tn6)
									 {
										 
										 li12.setVisible(false);
										 li12.setIcon(g2);
										 li12.setVisible(true);
										 
										 Thread.sleep(1000);
										 
										 funcn7(s,len,mac,sip,dname,dip);
									 }
									 else if(tn6<tn4&&tn6<tn7)
									 {
										 
										 li10.setVisible(false);
										 li10.setIcon(g7);
										 li10.setVisible(true);
										 
										 Thread.sleep(1000);
										 
										 Statement stmtn6 = con.createStatement();
										 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
										 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
										 
										 if(rsn6.next()==true)
										 {
											 String bw30=rsn6.getString(4);
											 
											 int bw40=Integer.parseInt(bw30);
											 
											 if(len<bw40)
											 { 
												 lbn6.setVisible(false);
												 lbn6.setIcon(gn6);
												 lbn6.setVisible(true);
												 Thread.sleep(1000);
												 li13.setVisible(false);
												 li13.setIcon(g6);
												 li13.setVisible(true);
												 funcn7(s,len,mac,sip,dname,dip);
											 }
											 else
											 {
												//evasdropper in node6
												 
												 lbn6.setVisible(false);
													lbn6.setIcon(rn6);
													lbn6.setVisible(true);
												 
												 Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
												 stu1.executeUpdate(sqlu1);
												 
												 Socket sc1=new Socket("localhost",2014);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N6");
												 dout.writeUTF(bw30);
												
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
												 }
												 
												 li10.setVisible(false);
												 li10.setIcon(g7);
												 li10.setVisible(true);
												 Thread.sleep(1000);
												 lbn5.setVisible(false);
												 lbn5.setIcon(gn5);
												 lbn5.setVisible(true);
												 Thread.sleep(1000);
												 li12.setVisible(false);
												 li12.setIcon(g2);
												 li12.setVisible(true);
												 funcn7(s,len,mac,sip,dname,dip);
												
												
												 
											 }
										 }
										 else  if(rsn6.next()==false)
										 {
											 
											 lbn6.setVisible(false);
												lbn6.setIcon(rn6);
												lbn6.setVisible(true);
												Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
												 stu1.executeUpdate(sqlu1);
											 Socket sc1=new Socket("localhost",2015);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N6");
											 String cip6=rsn6.getString(2);
											 dout.writeUTF(cip6);
											 
											 li10.setVisible(false);
											 li10.setIcon(g7);
											 li10.setVisible(true);
											 Thread.sleep(1000);
											 lbn5.setVisible(false);
											 lbn5.setIcon(gn5);
											 lbn5.setVisible(true);
											 Thread.sleep(1000);
											 li12.setVisible(false);
											 li12.setIcon(g2);
											 li12.setVisible(true);
											 funcn7(s,len,mac,sip,dname,dip);
										 }
									 
									 }
									 
									 
									 
									 
								 }
								 else 
								 {
									 //evasdropper in node5
									 
									 lbn5.setVisible(false);
										lbn5.setIcon(rn5);
										lbn5.setVisible(true);
									 
									 Thread.sleep(1000);
									 Statement stu1 = con.createStatement();
									 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
									 stu1.executeUpdate(sqlu1);
									 
									 Socket sc1=new Socket("localhost",2014);
									 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
									 dout.writeUTF("N5");
									 dout.writeUTF(bw28);
									
									 DataInputStream din1=new DataInputStream(sc1.getInputStream());
									 String msg=din1.readUTF();
									 if(msg.equalsIgnoreCase("success"))
									 {
										 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
									 }
									 
									 li9.setVisible(false);
									 li9.setIcon(g7);
									 li9.setVisible(true);
									 Thread.sleep(1000);
									 lbn4.setVisible(false);
									 lbn4.setIcon(gn4);
									 lbn4.setVisible(true);
									 Thread.sleep(1000);
									 li11.setVisible(false);
									 li11.setIcon(g5);
									 li11.setVisible(true);
									 funcn7(s,len,mac,sip,dname,dip);
									 
								 }
								 
								 
							 }else  if(rsn5.next()==false)
							 {
								 
								 lbn5.setVisible(false);
									lbn5.setIcon(rn5);
									lbn5.setVisible(true);
									Thread.sleep(1000);
									 Statement stu1 = con.createStatement();
									 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
									 stu1.executeUpdate(sqlu1);
								 Socket sc1=new Socket("localhost",2015);
								 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
								 dout.writeUTF("N5");
								 String cip5=rsn5.getString(2);
								 dout.writeUTF(cip5);
								 
								 li9.setVisible(false);
								 li9.setIcon(g7);
								 li9.setVisible(true);
								 Thread.sleep(1000);
								 lbn4.setVisible(false);
								 lbn4.setIcon(gn4);
								 lbn4.setVisible(true);
								 Thread.sleep(1000);
								 li11.setVisible(false);
								 li11.setIcon(g5);
								 li11.setVisible(true);
								 funcn7(s,len,mac,sip,dname,dip);
							 }
							 
							 
							 
							 
						 }
						 else if(tn3<tn5&&tn3<tn1)
						 {
							 
							 li5.setVisible(false);
							 li5.setIcon(g7);
							 li5.setVisible(true);
							 
							 Thread.sleep(1000);
							 
							 
							 Statement stmtn3 = con.createStatement();
							 String sqln3 = "select * from Nodesinfo where Nname='N3' and Keys='"+mac+"' and senderip='"+sip+"'";
							 ResultSet rsn3 = stmtn3.executeQuery(sqln3);
							 
							 if(rsn3.next()==true)
							 {
								 String bw41=rsn3.getString(4);
								 
								 int bw51=Integer.parseInt(bw41);
								 
								 if(len<bw51)
								 { 
									 lbn3.setVisible(false);
									 lbn3.setIcon(gn3);
									 lbn3.setVisible(true);
									 Thread.sleep(1000);
									 
									 li8.setVisible(false);
									 li8.setIcon(g4);
									 li8.setVisible(true);
									 
									 Thread.sleep(1000);
									 
									 Statement stmtn6 = con.createStatement();
									 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
									 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
									 
									 if(rsn6.next()==true)
									 {
										 String bw42=rsn6.getString(4);
										 
										 int bw52=Integer.parseInt(bw42);
										 
										 if(len<bw52)
										 { 
											 
											 lbn6.setVisible(false);
											 lbn6.setIcon(gn6);
											 lbn6.setVisible(true);
											 
											 Thread.sleep(1000);
											 
											tn5=r1.nextInt(50);
											tn7=r1.nextInt(50);
											
											l10.setVisible(false);
											l10.setText(Integer.toString(tn5));
											l10.setVisible(true);
											
											l13.setVisible(false);
											l13.setText(Integer.toString(tn7));
											l13.setVisible(true);
											
											Thread.sleep(1000);
											
											
											
											if(tn5<tn7)
											{
												li10.setVisible(false);
												li10.setIcon(g7);
												li10.setVisible(true);
												
												Thread.sleep(1000);
												
												
												 Statement stmtn5 = con.createStatement();
												 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
												 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
												 
												 if(rsn5.next()==true)
												 {
													 String bw43=rsn5.getString(4);
													 
													 int bw53=Integer.parseInt(bw43);
													 
													 if(len<bw53)
													 { 
														 
														 lbn5.setVisible(false);
														 lbn5.setIcon(gn5);
														 lbn5.setVisible(true);
														 
														 Thread.sleep(1000);
														
														tn7=r1.nextInt(50);
														tn4=r1.nextInt(50);
														
														l12.setVisible(false);
														l12.setText(Integer.toString(tn7));
														l12.setVisible(true);
														
														l9.setVisible(false);
														l9.setText(Integer.toString(tn4));
														l9.setVisible(true);
														
														Thread.sleep(1000);
														
														if(tn7<tn4)
														{
															li12.setVisible(false);
															li12.setIcon(g2);
															li12.setVisible(true);
															
															Thread.sleep(1000);
															
															funcn7(s,len,mac,sip,dname,dip);
														}
														else if(tn4<tn7)
														{
															
															li9.setVisible(false);
															li9.setIcon(g7);
															li9.setVisible(true);
															
															Thread.sleep(1000);
															
															Statement stmtn4 = con.createStatement();
															 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"'";
															 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
															 
															 if(rsn4.next()==true)
															 {
																 String bw44=rsn4.getString(4);
																 
																 int bw54=Integer.parseInt(bw44);
																 
																 if(len<bw54)
																 { 
																	 
																	 lbn4.setVisible(false);
																	 lbn4.setIcon(gn4);
																	 lbn4.setVisible(true);
																	 
																	 Thread.sleep(1000);
																	 
																	 li11.setVisible(false);
																	 li11.setIcon(g5);
																	 li11.setVisible(true);
																	 
																	 Thread.sleep(1000);
																	 
																	 
																	 funcn7(s,len,mac,sip,dname,dip);
																 
																 }
																 else 
																 {
																		//evasdropper in node4
																		 
																		 lbn4.setVisible(false);
																			lbn4.setIcon(rn4);
																			lbn4.setVisible(true);
																		 
																		 Thread.sleep(1000);
																		 Statement stu1 = con.createStatement();
																		 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N4'";
																		 stu1.executeUpdate(sqlu1);
																		 
																		 Socket sc1=new Socket("localhost",2014);
																		 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																		 dout.writeUTF("N4");
																		 dout.writeUTF(bw44);
																		
																		 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																		 String msg=din1.readUTF();
																		 if(msg.equalsIgnoreCase("success"))
																		 {
																			 JOptionPane.showMessageDialog(null,"Traffic Occurs in N4");
																		 }
																		 
																		 li9.setVisible(false);
																		 li9.setIcon(g7);
																		 li9.setVisible(true);
																		 Thread.sleep(1000);
																		 lbn5.setVisible(false);
																		 lbn5.setIcon(gn5);
																		 lbn5.setVisible(true);
																		 Thread.sleep(1000);
																		 li12.setVisible(false);
																		 li12.setIcon(g2);
																		 li12.setVisible(true);
																		 funcn7(s,len,mac,sip,dname,dip);
																		 
																	 }
																 }
																 else  if(rsn4.next()==false)
																 {
																	 
																	 lbn4.setVisible(false);
																		lbn4.setIcon(rn4);
																		lbn4.setVisible(true);
																		Thread.sleep(1000);
																		 Statement stu1 = con.createStatement();
																		 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N4'";
																		 stu1.executeUpdate(sqlu1);
																	 Socket sc1=new Socket("localhost",2015);
																	 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																	 dout.writeUTF("N4");
																	 String cip4=rsn4.getString(2);
																	 dout.writeUTF(cip4);
																	 
																	 li9.setVisible(false);
																	 li9.setIcon(g7);
																	 li9.setVisible(true);
																	 Thread.sleep(1000);
																	 lbn5.setVisible(false);
																	 lbn5.setIcon(gn5);
																	 lbn5.setVisible(true);
																	 Thread.sleep(1000);
																	 li12.setVisible(false);
																	 li12.setIcon(g2);
																	 li12.setVisible(true);
																	 funcn7(s,len,mac,sip,dname,dip);
																 }
															
														}
														
														
													 }
													 else 
													 {
														 //evasdropper in node5
														 
														 lbn5.setVisible(false);
															lbn5.setIcon(rn5);
															lbn5.setVisible(true);
														 
														 Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
														 stu1.executeUpdate(sqlu1);
														 
														 Socket sc1=new Socket("localhost",2014);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N5");
														 dout.writeUTF(bw43);
														
														 DataInputStream din1=new DataInputStream(sc1.getInputStream());
														 String msg=din1.readUTF();
														 if(msg.equalsIgnoreCase("success"))
														 {
															 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
														 }
														 
														 li9.setVisible(false);
														 li9.setIcon(g7);
														 li9.setVisible(true);
														 Thread.sleep(1000);
														 lbn4.setVisible(false);
														 lbn4.setIcon(gn4);
														 lbn4.setVisible(true);
														 Thread.sleep(1000);
														 li11.setVisible(false);
														 li11.setIcon(g5);
														 li11.setVisible(true);
														 funcn7(s,len,mac,sip,dname,dip);
														 
													 }
													 
													 
												 }else  if(rsn5.next()==false)
												 {
													 
													 lbn5.setVisible(false);
														lbn5.setIcon(rn5);
														lbn5.setVisible(true);
														Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
														 stu1.executeUpdate(sqlu1);
													 Socket sc1=new Socket("localhost",2015);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N5");
													 String cip5=rsn5.getString(2);
													 dout.writeUTF(cip5);
													 
													 li9.setVisible(false);
													 li9.setIcon(g7);
													 li9.setVisible(true);
													 Thread.sleep(1000);
													 lbn4.setVisible(false);
													 lbn4.setIcon(gn4);
													 lbn4.setVisible(true);
													 Thread.sleep(1000);
													 li11.setVisible(false);
													 li11.setIcon(g5);
													 li11.setVisible(true);
													 funcn7(s,len,mac,sip,dname,dip);
												 }
												
												
												
												
											}
											else if(tn7<tn5)
											{
												li13.setVisible(false);
												li13.setIcon(g6);
												li13.setVisible(true);
												
												Thread.sleep(1000);
												
												
												funcn7(s,len,mac,sip,dname,dip);
											}
											
											
										 }
										 else
										 {
											//evasdropper in node6
											 
											 lbn6.setVisible(false);
												lbn6.setIcon(rn6);
												lbn6.setVisible(true);
											 
											 Thread.sleep(1000);
											 Statement stu1 = con.createStatement();
											 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
											 stu1.executeUpdate(sqlu1);
											 
											 Socket sc1=new Socket("localhost",2014);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N6");
											 dout.writeUTF(bw42);
											
											 DataInputStream din1=new DataInputStream(sc1.getInputStream());
											 String msg=din1.readUTF();
											 if(msg.equalsIgnoreCase("success"))
											 {
												 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
											 }
											 
											 li8.setVisible(false);
											 li8.setIcon(g4);
											 li8.setVisible(true);
											 Thread.sleep(1000);
											 lbn3.setVisible(false);
											 lbn3.setIcon(gn3);
											 lbn3.setVisible(true);
											 Thread.sleep(1000);
											 li5.setVisible(false);
											 li5.setIcon(g7);
											 li5.setVisible(true);
											 lbn2.setVisible(false);
											 lbn2.setIcon(gn2);
											 lbn2.setVisible(true);
											 Thread.sleep(1000);
											 li7.setVisible(false);
											 li7.setIcon(g4);
											 li7.setVisible(true);
											 Thread.sleep(1000);
											 lbn5.setVisible(false);
											 lbn5.setIcon(gn5);
											 lbn5.setVisible(true);
											 Thread.sleep(1000);
											 li12.setVisible(false);
											 li12.setIcon(g2);
											 li12.setVisible(true);
											 funcn7(s,len,mac,sip,dname,dip);
											
											
											
											 
										 }
									 }
									 else  if(rsn6.next()==false)
									 {
										 
										 lbn6.setVisible(false);
											lbn6.setIcon(rn6);
											lbn6.setVisible(true);
											Thread.sleep(1000);
											 Statement stu1 = con.createStatement();
											 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
											 stu1.executeUpdate(sqlu1);
										 Socket sc1=new Socket("localhost",2015);
										 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
										 dout.writeUTF("N6");
										 String cip6=rsn6.getString(2);
										 dout.writeUTF(cip6);
										 
										 li8.setVisible(false);
										 li8.setIcon(g4);
										 li8.setVisible(true);
										 Thread.sleep(1000);
										 lbn3.setVisible(false);
										 lbn3.setIcon(gn3);
										 lbn3.setVisible(true);
										 Thread.sleep(1000);
										 li5.setVisible(false);
										 li5.setIcon(g7);
										 li5.setVisible(true);
										 lbn2.setVisible(false);
										 lbn2.setIcon(gn2);
										 lbn2.setVisible(true);
										 Thread.sleep(1000);
										 li7.setVisible(false);
										 li7.setIcon(g4);
										 li7.setVisible(true);
										 Thread.sleep(1000);
										 lbn5.setVisible(false);
										 lbn5.setIcon(gn5);
										 lbn5.setVisible(true);
										 Thread.sleep(1000);
										 li12.setVisible(false);
										 li12.setIcon(g2);
										 li12.setVisible(true);
										 funcn7(s,len,mac,sip,dname,dip);
									 }
								 
									 
								 }
								 else 
								 {
									 //evasdropper in node3
									 
									 
									 lbn3.setVisible(false);
										lbn3.setIcon(rn3);
										lbn3.setVisible(true);
									 
									 Thread.sleep(1000);
									 Statement stu1 = con.createStatement();
									 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N3'";
									 stu1.executeUpdate(sqlu1);
									 
									 Socket sc1=new Socket("localhost",2014);
									 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
									 dout.writeUTF("N3");
									 dout.writeUTF(bw41);
									
									 DataInputStream din1=new DataInputStream(sc1.getInputStream());
									 String msg=din1.readUTF();
									 if(msg.equalsIgnoreCase("success"))
									 {
										 JOptionPane.showMessageDialog(null,"Traffic Occurs in N3");
									 }
									 
									
									 li5.setVisible(false);
									 li5.setIcon(g7);
									 li5.setVisible(true);
									 Thread.sleep(1000);
									 lbn2.setVisible(false);
									 lbn2.setIcon(gn2);
									 lbn2.setVisible(true);
									 Thread.sleep(1000);
									 li7.setVisible(false);
									 li7.setIcon(g4);
									 li7.setVisible(true);
									 Thread.sleep(1000);
									 lbn5.setVisible(false);
									 lbn5.setIcon(gn5);
									 lbn5.setVisible(true);
									 Thread.sleep(1000);
									 li12.setVisible(false);
									 li12.setIcon(g2);
									 li12.setVisible(true);
									 funcn7(s,len,mac,sip,dname,dip);
									
									
									
									 
								 }
							 }
							 else  if(rsn3.next()==false)
							 {
								 
								 lbn3.setVisible(false);
									lbn3.setIcon(rn3);
									lbn3.setVisible(true);
									Thread.sleep(1000);
									 Statement stu1 = con.createStatement();
									 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N3'";
									 stu1.executeUpdate(sqlu1);
								 Socket sc1=new Socket("localhost",2015);
								 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
								 dout.writeUTF("N3");
								 String cip3=rsn3.getString(2);
								 dout.writeUTF(cip3);
								 
								 
								 li5.setVisible(false);
								 li5.setIcon(g7);
								 li5.setVisible(true);
								 Thread.sleep(1000);
								 lbn2.setVisible(false);
								 lbn2.setIcon(gn2);
								 lbn2.setVisible(true);
								 Thread.sleep(1000);
								 li7.setVisible(false);
								 li7.setIcon(g4);
								 li7.setVisible(true);
								 Thread.sleep(1000);
								 lbn5.setVisible(false);
								 lbn5.setIcon(gn5);
								 lbn5.setVisible(true);
								 Thread.sleep(1000);
								 li12.setVisible(false);
								 li12.setIcon(g2);
								 li12.setVisible(true);
								 funcn7(s,len,mac,sip,dname,dip);
							 }
						 }
						 
						 
					 }
					 else 
					 {
						 //evasdropper in node2
						 
						 
						 lbn2.setVisible(false);
							lbn2.setIcon(rn2);
							lbn2.setVisible(true);
						 
						 Thread.sleep(1000);
						 Statement stu1 = con.createStatement();
						 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N2'";
						 stu1.executeUpdate(sqlu1);
						 
						 Socket sc1=new Socket("localhost",2014);
						 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
						 dout.writeUTF("N2");
						 dout.writeUTF(bw23);
						
						 DataInputStream din1=new DataInputStream(sc1.getInputStream());
						 String msg=din1.readUTF();
						 if(msg.equalsIgnoreCase("success"))
						 {
							 JOptionPane.showMessageDialog(null,"Traffic Occurs in N2");
						 }
						 
						
						 li4.setVisible(false);
						 li4.setIcon(g7);
						 li4.setVisible(true);
						 Thread.sleep(1000);
						 lbn1.setVisible(false);
						 lbn1.setIcon(gn1);
						 lbn1.setVisible(true);
						 Thread.sleep(1000);
						 li6.setVisible(false);
						 li6.setIcon(g4);
						 li6.setVisible(true);
						 Thread.sleep(1000);
						 lbn4.setVisible(false);
						 lbn4.setIcon(gn4);
						 lbn4.setVisible(true);
						 Thread.sleep(1000);
						 li11.setVisible(false);
						 li11.setIcon(g5);
						 li11.setVisible(true);
						 funcn7(s,len,mac,sip,dname,dip);
						
						
						
						 
					 }
				 }
				 else  if(rsn2.next()==false)
				 {
					 lbn2.setVisible(false);
						lbn2.setIcon(rn2);
						lbn2.setVisible(true);
						Thread.sleep(1000);
						 Statement stu1 = con.createStatement();
						 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N2'";
						 stu1.executeUpdate(sqlu1);
					 Socket sc1=new Socket("localhost",2015);
					 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
					 dout.writeUTF("N2");
					 String cip2=rsn2.getString(2);
					 dout.writeUTF(cip2);
					 
					 
					 li4.setVisible(false);
					 li4.setIcon(g7);
					 li4.setVisible(true);
					 Thread.sleep(1000);
					 lbn1.setVisible(false);
					 lbn1.setIcon(gn1);
					 lbn1.setVisible(true);
					 Thread.sleep(1000);
					 li6.setVisible(false);
					 li6.setIcon(g4);
					 li6.setVisible(true);
					 Thread.sleep(1000);
					 lbn4.setVisible(false);
					 lbn4.setIcon(gn4);
					 lbn4.setVisible(true);
					 Thread.sleep(1000);
					 li11.setVisible(false);
					 li11.setIcon(g5);
					 li11.setVisible(true);
					 funcn7(s,len,mac,sip,dname,dip);
				 }
				 
				 
				 
				 
			 }//************************Node2 ends here
			 
			 
			 
			 else if(tn3<tn1 && tn3<tn2)
			 {
				//node3
				 
				 li3.setVisible(false);
				 li3.setIcon(g3);
				 li3.setVisible(true);
				 
				 Thread.sleep(1000);
				 
				 
				 
				 Statement stmtn3 = con.createStatement();
				 String sqln3 = "select * from Nodesinfo where Nname='N3' and Keys='"+mac+"' and senderip='"+sip+"'";
				 ResultSet rsn3 = stmtn3.executeQuery(sqln3);
				 
				 if(rsn3.next()==true)
				 {
					 String bw45=rsn3.getString(4);
					 
					 int bw55=Integer.parseInt(bw45);
					 
					 if(len<bw55)
					 { 
						 
						 lbn3.setVisible(false);
							lbn3.setIcon(gn3);
							lbn3.setVisible(true);
						 
						 Thread.sleep(1000);
						 
						tn2=r1.nextInt(50);
						tn6=r1.nextInt(50);
						
						l5.setVisible(false);
						l5.setText(Integer.toString(tn2));
						l5.setVisible(true);
						
						l8.setVisible(false);
						l8.setText(Integer.toString(tn6));
						l8.setVisible(true);
						
						Thread.sleep(1000);
						
						
						
						if(tn2<tn6)
						{ 
							
							li5.setVisible(false);
							li5.setIcon(g7);
							li5.setVisible(true);
							
							Thread.sleep(1000);
							
							
							
							Statement stmtn2 = con.createStatement();
						 String sqln2 = "select * from Nodesinfo where Nname='N2' and Keys='"+mac+"' and senderip='"+sip+"'";
						 ResultSet rsn2 = stmtn2.executeQuery(sqln2);
						 
						 if(rsn2.next()==true)
						 {
							 String bw46=rsn2.getString(4);
							 
							 int bw56=Integer.parseInt(bw46);
							 
							 if(len<bw56)
							 { 
								 
								 lbn2.setVisible(false);
									lbn2.setIcon(gn2);
									lbn2.setVisible(true);
								 
								 
								 Thread.sleep(1000);
							
								tn5=r1.nextInt(50);
								tn1=r1.nextInt(50);
								
								l7.setVisible(false);
								l7.setText(Integer.toString(tn5));
								l7.setVisible(true);
								
								l4.setVisible(false);
								l4.setText(Integer.toString(tn1));
								l4.setVisible(true);
								
								Thread.sleep(1000);
								
								
								
								if(tn5<tn1)
								{
									li7.setVisible(false);
									li7.setIcon(g4);
									li7.setVisible(true);
									
									Thread.sleep(1000);

									 Statement stmtn5 = con.createStatement();
									 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
									 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
									 
									 if(rsn5.next()==true)
									 {
										 String bw47=rsn5.getString(4);
										 
										 int bw57=Integer.parseInt(bw47);
										 
										 if(len<bw57)
										 { 
											 
											 lbn5.setVisible(false);
												lbn5.setIcon(gn5);
												lbn5.setVisible(true);
											 
											 Thread.sleep(1000);

											 
											 tn4=r1.nextInt(50);
											 tn7=r1.nextInt(50);
											 tn6=r1.nextInt(50);
											 
											 l9.setVisible(false);
											 l9.setText(Integer.toString(tn4));
											 l9.setVisible(true);
											 
											 l12.setVisible(false);
											 l12.setText(Integer.toString(tn7));
											 l12.setVisible(true);
											 
											 l10.setVisible(false);
											 l10.setText(Integer.toString(tn6));
											 l10.setVisible(true);
											 
											 Thread.sleep(1000);

											 
											 
											 if(tn4<tn7&&tn4<tn6)
											 {
												 li9.setVisible(false);
												 li9.setIcon(g7);
												 li9.setVisible(true);


												 Thread.sleep(1000);

												 Statement stmtn4 = con.createStatement();
												 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"'";
												 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
												 
												 if(rsn4.next()==true)
												 {
													 String bw48=rsn4.getString(4);
													 
													 int bw58=Integer.parseInt(bw48);
													 
													 if(len<bw58)
													 { 
														 lbn4.setVisible(false);
															lbn4.setIcon(gn4);
															lbn4.setVisible(true);
														 
														 Thread.sleep(1000);

														 li11.setVisible(false);
														 li11.setIcon(g5);
														 li11.setVisible(true);

														 
														 funcn7(s,len,mac,sip,dname,dip);
													 }
													 else
													 {
														//evasdropper in node5
														 lbn5.setVisible(false);
															lbn5.setIcon(rn5);
															lbn5.setVisible(true);
														 
														 Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
														 stu1.executeUpdate(sqlu1);
														 
														 Socket sc1=new Socket("localhost",2014);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N5");
														 dout.writeUTF(bw48);
														
														 DataInputStream din1=new DataInputStream(sc1.getInputStream());
														 String msg=din1.readUTF();
														 if(msg.equalsIgnoreCase("success"))
														 {
															 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
														 }
														 
														 li7.setVisible(false);
														 li7.setIcon(g4);
														 li7.setVisible(true);
														 Thread.sleep(1000);
														 lbn2.setVisible(false);
														 lbn2.setIcon(gn2);
														 lbn2.setVisible(true);
														 Thread.sleep(1000);
														 li4.setVisible(false);
														 li4.setIcon(g7);
														 li4.setVisible(true);
														 Thread.sleep(1000);
														 lbn1.setVisible(false);
														 lbn1.setIcon(gn1);
														 lbn1.setVisible(true);
														 Thread.sleep(1000);
														 li6.setVisible(false);
														 li6.setIcon(g4);
														 li6.setVisible(true);
														 Thread.sleep(1000);
														 lbn4.setVisible(false);
														 lbn4.setIcon(gn4);
														 lbn4.setVisible(true);
														 Thread.sleep(1000);
														 li11.setVisible(false);
														 li11.setIcon(g5);
														 li11.setVisible(true);
														 funcn7(s,len,mac,sip,dname,dip);
														 
													 }
													 
													 
												 }else  if(rsn5.next()==false)
												 {
													 
													 lbn5.setVisible(false);
														lbn5.setIcon(rn5);
														lbn5.setVisible(true);
														Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
														 stu1.executeUpdate(sqlu1);
													 Socket sc1=new Socket("localhost",2015);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N5");
													 String cip5=rsn5.getString(2);
													 dout.writeUTF(cip5);
													 
													 li7.setVisible(false);
													 li7.setIcon(g4);
													 li7.setVisible(true);
													 Thread.sleep(1000);
													 lbn2.setVisible(false);
													 lbn2.setIcon(gn2);
													 lbn2.setVisible(true);
													 Thread.sleep(1000);
													 li4.setVisible(false);
													 li4.setIcon(g7);
													 li4.setVisible(true);
													 Thread.sleep(1000);
													 lbn1.setVisible(false);
													 lbn1.setIcon(gn1);
													 lbn1.setVisible(true);
													 Thread.sleep(1000);
													 li6.setVisible(false);
													 li6.setIcon(g4);
													 li6.setVisible(true);
													 Thread.sleep(1000);
													 lbn4.setVisible(false);
													 lbn4.setIcon(gn4);
													 lbn4.setVisible(true);
													 Thread.sleep(1000);
													 li11.setVisible(false);
													 li11.setIcon(g5);
													 li11.setVisible(true);
													 funcn7(s,len,mac,sip,dname,dip);
												 }
												 
												 
												 
												 
											 }
											 else if(tn7<tn4&&tn7<tn6)
											 {
												 li12.setVisible(false);
												 li12.setIcon(g2);
												 li12.setVisible(true);
												 
												 Thread.sleep(1000);

												 
												 
												 funcn7(s,len,mac,sip,dname,dip);
											 }
											 else if(tn6<tn4&&tn6<tn7)
											 {
												 li10.setVisible(false);
												 li10.setIcon(g7);
												 li10.setVisible(true);
												 
												 Thread.sleep(1000);

												 
												 
												 Statement stmtn6 = con.createStatement();
												 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
												 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
												 
												 if(rsn6.next()==true)
												 {
													 String bw49=rsn6.getString(4);
													 
													 int bw59=Integer.parseInt(bw49);
													 
													 if(len<bw59)
													 { 
														 lbn6.setVisible(false);
														 lbn6.setIcon(gn6);
														 lbn6.setVisible(true);
														 Thread.sleep(1000);
														 
														 li13.setVisible(false);
														 li13.setIcon(g6);
														 li13.setVisible(true);
														 
														 Thread.sleep(1000);

														 
														 
														 funcn7(s,len,mac,sip,dname,dip);
													 }
													 else
													 {
														//evasdropper in node6
														 
														 lbn6.setVisible(false);
															lbn6.setIcon(rn6);
															lbn6.setVisible(true);
														 
														 Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
														 stu1.executeUpdate(sqlu1);
														 
														 Socket sc1=new Socket("localhost",2014);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N6");
														 dout.writeUTF(bw49);
														
														 DataInputStream din1=new DataInputStream(sc1.getInputStream());
														 String msg=din1.readUTF();
														 if(msg.equalsIgnoreCase("success"))
														 {
															 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
														 }
														 
														 
														 li10.setVisible(false);
														 li10.setIcon(g7);
														 li10.setVisible(true);
														 Thread.sleep(1000);
														 lbn5.setVisible(false);
														 lbn5.setIcon(gn5);
														 lbn5.setVisible(true);
														 Thread.sleep(1000);
														 li12.setVisible(false);
														 li12.setIcon(g2);
														 li12.setVisible(true);
														 funcn7(s,len,mac,sip,dname,dip);
														
														
														
														 
													 }
												 }
												 else  if(rsn6.next()==false)
												 {
													 
													 lbn6.setVisible(false);
														lbn6.setIcon(rn6);
														lbn6.setVisible(true);
														Thread.sleep(1000);
														 Statement stu1 = con.createStatement();
														 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
														 stu1.executeUpdate(sqlu1);
													 Socket sc1=new Socket("localhost",2015);
													 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
													 dout.writeUTF("N6");
													 String cip6=rsn6.getString(2);
													 dout.writeUTF(cip6);
													 
													 li10.setVisible(false);
													 li10.setIcon(g7);
													 li10.setVisible(true);
													 Thread.sleep(1000);
													 lbn5.setVisible(false);
													 lbn5.setIcon(gn5);
													 lbn5.setVisible(true);
													 Thread.sleep(1000);
													 li12.setVisible(false);
													 li12.setIcon(g2);
													 li12.setVisible(true);
													 funcn7(s,len,mac,sip,dname,dip);
												 }
											 
											 }
											 
											 
											 
											 
										 }
										 else 
										 {
											 //evasdropper in node5
											 lbn5.setVisible(false);
												lbn5.setIcon(rn5);
												lbn5.setVisible(true);
											 
											 Thread.sleep(1000);
											 Statement stu1 = con.createStatement();
											 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
											 stu1.executeUpdate(sqlu1);
											 
											 Socket sc1=new Socket("localhost",2014);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N5");
											 dout.writeUTF(bw47);
											
											 DataInputStream din1=new DataInputStream(sc1.getInputStream());
											 String msg=din1.readUTF();
											 if(msg.equalsIgnoreCase("success"))
											 {
												 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
											 }
											 
											 li7.setVisible(false);
											 li7.setIcon(g4);
											 li7.setVisible(true);
											 Thread.sleep(1000);
											 lbn2.setVisible(false);
											 lbn2.setIcon(gn2);
											 lbn2.setVisible(true);
											 Thread.sleep(1000);
											 li4.setVisible(false);
											 li4.setIcon(g7);
											 li4.setVisible(true);
											 Thread.sleep(1000);
											 lbn1.setVisible(false);
											 lbn1.setIcon(gn1);
											 lbn1.setVisible(true);
											 Thread.sleep(1000);
											 li6.setVisible(false);
											 li6.setIcon(g4);
											 li6.setVisible(true);
											 Thread.sleep(1000);
											 lbn4.setVisible(false);
											 lbn4.setIcon(gn4);
											 lbn4.setVisible(true);
											 Thread.sleep(1000);
											 li11.setVisible(false);
											 li11.setIcon(g5);
											 li11.setVisible(true);
											 funcn7(s,len,mac,sip,dname,dip);
											 
										 }
										 
										 
									 }else  if(rsn5.next()==false)
									 {
										 
										 lbn5.setVisible(false);
											lbn5.setIcon(rn5);
											lbn5.setVisible(true);
											Thread.sleep(1000);
											 Statement stu1 = con.createStatement();
											 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
											 stu1.executeUpdate(sqlu1);
										 Socket sc1=new Socket("localhost",2015);
										 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
										 dout.writeUTF("N5");
										 String cip5=rsn5.getString(2);
										 dout.writeUTF(cip5);
										 
										 li7.setVisible(false);
										 li7.setIcon(g4);
										 li7.setVisible(true);
										 Thread.sleep(1000);
										 lbn2.setVisible(false);
										 lbn2.setIcon(gn2);
										 lbn2.setVisible(true);
										 Thread.sleep(1000);
										 li4.setVisible(false);
										 li4.setIcon(g7);
										 li4.setVisible(true);
										 Thread.sleep(1000);
										 lbn1.setVisible(false);
										 lbn1.setIcon(gn1);
										 lbn1.setVisible(true);
										 Thread.sleep(1000);
										 li6.setVisible(false);
										 li6.setIcon(g4);
										 li6.setVisible(true);
										 Thread.sleep(1000);
										 lbn4.setVisible(false);
										 lbn4.setIcon(gn4);
										 lbn4.setVisible(true);
										 Thread.sleep(1000);
										 li11.setVisible(false);
										 li11.setIcon(g5);
										 li11.setVisible(true);
										 funcn7(s,len,mac,sip,dname,dip);
									 }
									 
									 
								}
								else if(tn1<tn5)
								{
									li4.setVisible(false);
									li4.setIcon(g7);
									li4.setVisible(true);
									
									Thread.sleep(1000);
									
									
									 Statement stmtn1 = con.createStatement();
									 String sqln1 = "select * from Nodesinfo where Nname='N1' and Keys='"+mac+"' and senderip='"+sip+"'";
									 ResultSet rsn1 = stmtn1.executeQuery(sqln1);
									 
									 if(rsn1.next()==true)
									 {
										 String bw50=rsn1.getString(4);
										 
										 int bw60=Integer.parseInt(bw50);
										 
										 if(len<bw60)
										 { 
											 
											 lbn1.setVisible(false);
											 lbn1.setIcon(gn1);
											 lbn1.setVisible(true);
											 
											 Thread.sleep(1000);
											 
											 li6.setVisible(false);
											 li6.setIcon(g4);
											 li6.setVisible(true);
											 
											 Thread.sleep(1000);
											 
											 Statement stmtn4 = con.createStatement();
											 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"'";
											 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
											 
											 if(rsn4.next()==true)
											 {
												 String bw61=rsn4.getString(4);
												 
												 int bw71=Integer.parseInt(bw61);
												 
												 if(len<bw71)
												 { 
													 lbn4.setVisible(false);
													 lbn4.setIcon(gn4);
													 lbn4.setVisible(true);
													 
													 Thread.sleep(1000);

													 
													 tn7=r1.nextInt(50);
													 tn5=r1.nextInt(50);
													 
													 
													 l11.setVisible(false);
													 l11.setText(Integer.toString(tn7));
													 l11.setVisible(true);
													 
													 l9.setVisible(false);
													 l9.setText(Integer.toString(tn5));
													 l9.setVisible(true);
													 
													 Thread.sleep(1000);

													 
													 
													 
													 if(tn7<tn5)
													 {
														 li11.setVisible(false);
														 li11.setIcon(g5);
														 li11.setVisible(true);
														 
														 Thread.sleep(1000);
														 
														 
														 funcn7(s,len,mac,sip,dname,dip);
													 }
													 else if(tn5<tn7)
													 {
														 li9.setVisible(false);
														 li9.setIcon(g7);
														 li9.setVisible(true);
														 
														 Thread.sleep(1000);

														 Statement stmtn5 = con.createStatement();
														 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
														 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
														 
														 if(rsn5.next()==true)
														 {
															 

															 
															 String bw62=rsn5.getString(4);
															 
															 int bw72=Integer.parseInt(bw62);
															 
															 if(len<bw72)
															 { 
																 lbn5.setVisible(false);
																	lbn5.setIcon(gn5);
																	lbn5.setVisible(true);
																 
																 Thread.sleep(1000);
																 
																 
																 tn7= r1.nextInt(50);
																 tn6=r1.nextInt(50);
																 
																 l12.setVisible(false);
																 l12.setText(Integer.toString(tn7));
																 l12.setVisible(true);
																 
																 l10.setVisible(false);
																 l10.setText(Integer.toString(tn6));
																 l10.setVisible(true);
																 
																 Thread.sleep(1000);

																 
																 
																 
																 if(tn7<tn6)
																 {
																	 
																	 li12.setVisible(false);
																	 li12.setIcon(g2);
																	 li12.setVisible(true);
																	 
																	 Thread.sleep(1000);

																	 
																	 funcn7(s,len,mac,sip,dname,dip);
																 }
																 else if(tn6<tn7)
																 {
																	 
																	 li10.setVisible(false);
																	 li10.setIcon(g7);
																	 li10.setVisible(true);
																	 
																	 Thread.sleep(1000);

																	 
																	 
																	 Statement stmtn6 = con.createStatement();
																	 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
																	 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
																	 
																	 if(rsn6.next()==true)
																	 {
																		 String bw63=rsn6.getString(4);
																		 
																		 int bw73=Integer.parseInt(bw63);
																		 
																		 if(len<bw73)
																		 { 
																			 lbn6.setVisible(false);
																				lbn6.setIcon(gn6);
																				lbn6.setVisible(true);
																			 
																			 Thread.sleep(1000);
																			 
																			 li13.setVisible(false);
																			 li13.setIcon(g6);
																			 li13.setVisible(true);
																			 
																			 Thread.sleep(1000);

																			 
								
																			 funcn7(s,len,mac,sip,dname,dip);
																		 }
																		 else 
																		 {
																			 //evasdropper in node6
																			 
																			 lbn6.setVisible(false);
																				lbn6.setIcon(rn6);
																				lbn6.setVisible(true);
																			 
																			 Thread.sleep(1000);
																			 Statement stu1 = con.createStatement();
																			 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
																			 stu1.executeUpdate(sqlu1);
																			 
																			 Socket sc1=new Socket("localhost",2014);
																			 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																			 dout.writeUTF("N6");
																			 dout.writeUTF(bw63);
																			
																			 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																			 String msg=din1.readUTF();
																			 if(msg.equalsIgnoreCase("success"))
																			 {
																				 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
																			 }
																			 
																			 
																			 li10.setVisible(false);
																			 li10.setIcon(g7);
																			 li10.setVisible(true);
																			 Thread.sleep(1000);
																			 lbn5.setVisible(false);
																			 lbn5.setIcon(gn5);
																			 lbn5.setVisible(true);
																			 Thread.sleep(1000);
																			 li12.setVisible(false);
																			 li12.setIcon(g2);
																			 li12.setVisible(true);
																			 funcn7(s,len,mac,sip,dname,dip);
																			
																			
																			
																			 
																		 }
																	 }
																	 else  if(rsn6.next()==false)
																	 {
																		 
																		 lbn6.setVisible(false);
																			lbn6.setIcon(rn6);
																			lbn6.setVisible(true);
																			Thread.sleep(1000);
																			 Statement stu1 = con.createStatement();
																			 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
																			 stu1.executeUpdate(sqlu1);
																		 Socket sc1=new Socket("localhost",2015);
																		 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																		 dout.writeUTF("N6");
																		 String cip6=rsn6.getString(2);
																		 dout.writeUTF(cip6);
																		 
																		 li10.setVisible(false);
																		 li10.setIcon(g7);
																		 li10.setVisible(true);
																		 Thread.sleep(1000);
																		 lbn5.setVisible(false);
																		 lbn5.setIcon(gn5);
																		 lbn5.setVisible(true);
																		 Thread.sleep(1000);
																		 li12.setVisible(false);
																		 li12.setIcon(g2);
																		 li12.setVisible(true);
																		 funcn7(s,len,mac,sip,dname,dip);
																	 }
																 
																 }
																 
																 
																 
															 }
															 else 
															 {
																 //evasdropper in node5
																 lbn5.setVisible(false);
																	lbn5.setIcon(rn5);
																	lbn5.setVisible(true);
																 
																 Thread.sleep(1000);
																 Statement stu1 = con.createStatement();
																 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
																 stu1.executeUpdate(sqlu1);
																 
																 Socket sc1=new Socket("localhost",2014);
																 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
																 dout.writeUTF("N5");
																 dout.writeUTF(bw62);
																
																 DataInputStream din1=new DataInputStream(sc1.getInputStream());
																 String msg=din1.readUTF();
																 if(msg.equalsIgnoreCase("success"))
																 {
																	 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
																 }
																 
																 li7.setVisible(false);
																 li7.setIcon(g4);
																 li7.setVisible(true);
																 Thread.sleep(1000);
																 lbn2.setVisible(false);
																 lbn2.setIcon(gn2);
																 lbn2.setVisible(true);
																 Thread.sleep(1000);
																 li4.setVisible(false);
																 li4.setIcon(g7);
																 li4.setVisible(true);
																 Thread.sleep(1000);
																 lbn1.setVisible(false);
																 lbn1.setIcon(gn1);
																 lbn1.setVisible(true);
																 Thread.sleep(1000);
																 li6.setVisible(false);
																 li6.setIcon(g4);
																 li6.setVisible(true);
																 Thread.sleep(1000);
																 lbn4.setVisible(false);
																 lbn4.setIcon(gn4);
																 lbn4.setVisible(true);
																 Thread.sleep(1000);
																 li11.setVisible(false);
																 li11.setIcon(g5);
																 li11.setVisible(true);
																 funcn7(s,len,mac,sip,dname,dip);
																 
															 }
															 
															 
														 }
														 else  if(rsn5.next()==false)
														 {
															 
															 lbn5.setVisible(false);
																lbn5.setIcon(rn5);
																lbn5.setVisible(true);
																Thread.sleep(1000);
																 Statement stu1 = con.createStatement();
																 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
																 stu1.executeUpdate(sqlu1);
															 Socket sc1=new Socket("localhost",2015);
															 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
															 dout.writeUTF("N5");
															 String cip5=rsn5.getString(2);
															 dout.writeUTF(cip5);
															 
															 li7.setVisible(false);
															 li7.setIcon(g4);
															 li7.setVisible(true);
															 Thread.sleep(1000);
															 lbn2.setVisible(false);
															 lbn2.setIcon(gn2);
															 lbn2.setVisible(true);
															 Thread.sleep(1000);
															 li4.setVisible(false);
															 li4.setIcon(g7);
															 li4.setVisible(true);
															 Thread.sleep(1000);
															 lbn1.setVisible(false);
															 lbn1.setIcon(gn1);
															 lbn1.setVisible(true);
															 Thread.sleep(1000);
															 li6.setVisible(false);
															 li6.setIcon(g4);
															 li6.setVisible(true);
															 Thread.sleep(1000);
															 lbn4.setVisible(false);
															 lbn4.setIcon(gn4);
															 lbn4.setVisible(true);
															 Thread.sleep(1000);
															 li11.setVisible(false);
															 li11.setIcon(g5);
															 li11.setVisible(true);
															 funcn7(s,len,mac,sip,dname,dip);
														 }
														 
													 }
														 
													 
													 
												
												 }
											 }
											 
											 
										 
										 }
									 }
									 
									 
								}
								
								
							
							 }
						 }
						}
						else if(tn6<tn2)
						{
							
							li8.setVisible(false);
							 li8.setIcon(g4);
							 li8.setVisible(true);
							 
							 Thread.sleep(1000);

							
							 Statement stmtn6 = con.createStatement();
							 String sqln6 = "select * from Nodesinfo where Nname='N6' and Keys='"+mac+"' and senderip='"+sip+"'";
							 ResultSet rsn6 = stmtn6.executeQuery(sqln6);
							 
							 if(rsn6.next()==true)
							 {
								 String bw64=rsn6.getString(4);
								 
								 int bw74=Integer.parseInt(bw64);
								 
								 if(len<bw74)
								 { 
									 
									 lbn6.setVisible(false);
									 lbn6.setIcon(gn6);
									 lbn6.setVisible(true);
									 
									 Thread.sleep(1000);

									 
									 
									tn5=r1.nextInt(50);
									tn7=r1.nextInt(50);
									
									l10.setVisible(false);
									l10.setText(Integer.toString(tn5));
									l10.setVisible(true);
									
									l13.setVisible(false);
									l13.setText(Integer.toString(tn7));
									l13.setVisible(true);
									
									Thread.sleep(1000);

									
									
									
									
									
									if(tn5<tn7)
									{
										
										li10.setVisible(false);
										li10.setIcon(g7);
										li10.setVisible(true);
										
										Thread.sleep(1000);

										
										
										 Statement stmtn5 = con.createStatement();
										 String sqln5 = "select * from Nodesinfo where Nname='N5' and Keys='"+mac+"' and senderip='"+sip+"'";
										 ResultSet rsn5 = stmtn5.executeQuery(sqln5);
										 
										 if(rsn5.next()==true)
										 {
											 String bw65=rsn5.getString(4);
											 
											 int bw75=Integer.parseInt(bw65);
											 
											 if(len<bw75)
											 { 
												 lbn5.setVisible(false);
												 lbn5.setIcon(gn5);
												 lbn5.setVisible(true);
												 
												 Thread.sleep(1000);

												 
												 
												 
												tn7=r1.nextInt(50);
												tn4=r1.nextInt(50);
												
												l12.setVisible(false);
												l12.setText(Integer.toString(tn7));
												l12.setVisible(true);
												
												l9.setVisible(false);
												l9.setText(Integer.toString(tn4));
												l9.setVisible(true);
												
												Thread.sleep(1000);


												
												
												
												
												if(tn7<tn4)
												{
													
													li12.setVisible(false);
													li12.setIcon(g2);
													li12.setVisible(true);
													
													Thread.sleep(1000);


													funcn7(s,len,mac,sip,dname,dip);
												}
												else if(tn4<tn7)
												{
													
													li9.setVisible(false);
													li9.setIcon(g7);
													li9.setVisible(true);
													
													Thread.sleep(1000);

													
													
													Statement stmtn4 = con.createStatement();
													 String sqln4 = "select * from Nodesinfo where Nname='N4' and Keys='"+mac+"' and senderip='"+sip+"'";
													 ResultSet rsn4 = stmtn4.executeQuery(sqln4);
													 
													 if(rsn4.next()==true)
													 {
														 String bw66=rsn4.getString(4);
														 
														 int bw76=Integer.parseInt(bw66);
														 
														 if(len<bw76)
														 { 
															 lbn4.setVisible(false);
															 lbn4.setIcon(gn4);
															 lbn4.setVisible(true);
															 
															 Thread.sleep(1000);
															 li11.setVisible(false);
															 li11.setIcon(g5);
															 li11.setVisible(true);
															 
															 Thread.sleep(1000);

															 
															 
															 
															 funcn7(s,len,mac,sip,dname,dip);
														 
														 }
														 else 
														 {
															 //evasdropper in node4
															 
															 lbn4.setVisible(false);
																lbn4.setIcon(rn4);
																lbn4.setVisible(true);
															 
															 Thread.sleep(1000);
															 Statement stu1 = con.createStatement();
															 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N4'";
															 stu1.executeUpdate(sqlu1);
															 
															 Socket sc1=new Socket("localhost",2014);
															 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
															 dout.writeUTF("N4");
															 dout.writeUTF(bw66);
															
															 DataInputStream din1=new DataInputStream(sc1.getInputStream());
															 String msg=din1.readUTF();
															 if(msg.equalsIgnoreCase("success"))
															 {
																 JOptionPane.showMessageDialog(null,"Traffic Occurs in N4");
															 }
															 
															 li9.setVisible(false);
															 li9.setIcon(g7);
															 li9.setVisible(true);
															 Thread.sleep(1000);
															 lbn5.setVisible(false);
															 lbn5.setIcon(gn5);
															 lbn5.setVisible(true);
															 Thread.sleep(1000);
															 li12.setVisible(false);
															 li12.setIcon(g2);
															 li12.setVisible(true);
															 funcn7(s,len,mac,sip,dname,dip);
															 
														 }
													 }
													 else  if(rsn4.next()==false)
													 {
														 
														 lbn4.setVisible(false);
															lbn4.setIcon(rn4);
															lbn4.setVisible(true);
															Thread.sleep(1000);
															 Statement stu1 = con.createStatement();
															 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N4'";
															 stu1.executeUpdate(sqlu1);
														 Socket sc1=new Socket("localhost",2015);
														 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
														 dout.writeUTF("N4");
														 String cip4=rsn4.getString(2);
														 dout.writeUTF(cip4);
														 
														 li9.setVisible(false);
														 li9.setIcon(g7);
														 li9.setVisible(true);
														 Thread.sleep(1000);
														 lbn5.setVisible(false);
														 lbn5.setIcon(gn5);
														 lbn5.setVisible(true);
														 Thread.sleep(1000);
														 li12.setVisible(false);
														 li12.setIcon(g2);
														 li12.setVisible(true);
														 funcn7(s,len,mac,sip,dname,dip);
													 }
													
												}
												
												
											 }
											 else 
											 {
												 //evasdropper in node5
												 lbn5.setVisible(false);
													lbn5.setIcon(rn5);
													lbn5.setVisible(true);
												 
												 Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N5'";
												 stu1.executeUpdate(sqlu1);
												 
												 Socket sc1=new Socket("localhost",2014);
												 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
												 dout.writeUTF("N5");
												 dout.writeUTF(bw65);
												
												 DataInputStream din1=new DataInputStream(sc1.getInputStream());
												 String msg=din1.readUTF();
												 if(msg.equalsIgnoreCase("success"))
												 {
													 JOptionPane.showMessageDialog(null,"Traffic Occurs in N5");
												 }
												 
												 li7.setVisible(false);
												 li7.setIcon(g4);
												 li7.setVisible(true);
												 Thread.sleep(1000);
												 lbn2.setVisible(false);
												 lbn2.setIcon(gn2);
												 lbn2.setVisible(true);
												 Thread.sleep(1000);
												 li4.setVisible(false);
												 li4.setIcon(g7);
												 li4.setVisible(true);
												 Thread.sleep(1000);
												 lbn1.setVisible(false);
												 lbn1.setIcon(gn1);
												 lbn1.setVisible(true);
												 Thread.sleep(1000);
												 li6.setVisible(false);
												 li6.setIcon(g4);
												 li6.setVisible(true);
												 Thread.sleep(1000);
												 lbn4.setVisible(false);
												 lbn4.setIcon(gn4);
												 lbn4.setVisible(true);
												 Thread.sleep(1000);
												 li11.setVisible(false);
												 li11.setIcon(g5);
												 li11.setVisible(true);
												 funcn7(s,len,mac,sip,dname,dip);
												 
											 }
											 
											 
										 }
										 else  if(rsn5.next()==false)
										 {
											 
											 lbn5.setVisible(false);
												lbn5.setIcon(rn5);
												lbn5.setVisible(true);
												Thread.sleep(1000);
												 Statement stu1 = con.createStatement();
												 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N5'";
												 stu1.executeUpdate(sqlu1);
											 Socket sc1=new Socket("localhost",2015);
											 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
											 dout.writeUTF("N5");
											 String cip5=rsn5.getString(2);
											 dout.writeUTF(cip5);
											 
											 li7.setVisible(false);
											 li7.setIcon(g4);
											 li7.setVisible(true);
											 Thread.sleep(1000);
											 lbn2.setVisible(false);
											 lbn2.setIcon(gn2);
											 lbn2.setVisible(true);
											 Thread.sleep(1000);
											 li4.setVisible(false);
											 li4.setIcon(g7);
											 li4.setVisible(true);
											 Thread.sleep(1000);
											 lbn1.setVisible(false);
											 lbn1.setIcon(gn1);
											 lbn1.setVisible(true);
											 Thread.sleep(1000);
											 li6.setVisible(false);
											 li6.setIcon(g4);
											 li6.setVisible(true);
											 Thread.sleep(1000);
											 lbn4.setVisible(false);
											 lbn4.setIcon(gn4);
											 lbn4.setVisible(true);
											 Thread.sleep(1000);
											 li11.setVisible(false);
											 li11.setIcon(g5);
											 li11.setVisible(true);
											 funcn7(s,len,mac,sip,dname,dip);
										 }
										
										
										
										
									}
									else if(tn7<tn5)
									{
										
										li13.setVisible(false);
										li13.setIcon(g6);
										li13.setVisible(true);
										
										Thread.sleep(1000);

										
										funcn7(s,len,mac,sip,dname,dip);
									}
									
									
								 }
								 else
								 {
									//evasdropper in node6
									 lbn6.setVisible(false);
										lbn6.setIcon(rn6);
										lbn6.setVisible(true);
									 
									 Thread.sleep(1000);
									 Statement stu1 = con.createStatement();
									 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N6'";
									 stu1.executeUpdate(sqlu1);
									 
									 Socket sc1=new Socket("localhost",2014);
									 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
									 dout.writeUTF("N6");
									 dout.writeUTF(bw64);
									
									 DataInputStream din1=new DataInputStream(sc1.getInputStream());
									 String msg=din1.readUTF();
									 if(msg.equalsIgnoreCase("success"))
									 {
										 JOptionPane.showMessageDialog(null,"Traffic Occurs in N6");
									 }
									 
									 
									 li10.setVisible(false);
									 li10.setIcon(g7);
									 li10.setVisible(true);
									 Thread.sleep(1000);
									 lbn5.setVisible(false);
									 lbn5.setIcon(gn5);
									 lbn5.setVisible(true);
									 Thread.sleep(1000);
									 li12.setVisible(false);
									 li12.setIcon(g2);
									 li12.setVisible(true);
									 funcn7(s,len,mac,sip,dname,dip);
									
									
									
									 
								 }
							 }
							 else  if(rsn6.next()==false)
							 {
								 
								 lbn6.setVisible(false);
									lbn6.setIcon(rn6);
									lbn6.setVisible(true);
									Thread.sleep(1000);
									 Statement stu1 = con.createStatement();
									 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N6'";
									 stu1.executeUpdate(sqlu1);
								 Socket sc1=new Socket("localhost",2015);
								 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
								 dout.writeUTF("N6");
								 String cip6=rsn6.getString(2);
								 dout.writeUTF(cip6);
								 
								 li10.setVisible(false);
								 li10.setIcon(g7);
								 li10.setVisible(true);
								 Thread.sleep(1000);
								 lbn5.setVisible(false);
								 lbn5.setIcon(gn5);
								 lbn5.setVisible(true);
								 Thread.sleep(1000);
								 li12.setVisible(false);
								 li12.setIcon(g2);
								 li12.setVisible(true);
								 funcn7(s,len,mac,sip,dname,dip);
							 }
								 }
							 }
						 
						
						
						
					 
					 
					 else 
					 {
						 //evasdropper in node3
						 

						 lbn3.setVisible(false);
							lbn3.setIcon(rn3);
							lbn3.setVisible(true);
						 
						 Thread.sleep(1000);
						 Statement stu1 = con.createStatement();
						 String sqlu1 = "update Nodesinfo set status='Traffic Occurs' where Nname='N3'";
						 stu1.executeUpdate(sqlu1);
						 
						 Socket sc1=new Socket("localhost",2014);
						 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
						 dout.writeUTF("N3");
						 dout.writeUTF(bw45);
						
						 DataInputStream din1=new DataInputStream(sc1.getInputStream());
						 String msg=din1.readUTF();
						 if(msg.equalsIgnoreCase("success"))
						 {
							 JOptionPane.showMessageDialog(null,"Traffic Occurs in N3");
						 }
						 
						
						 li5.setVisible(false);
						 li5.setIcon(g7);
						 li5.setVisible(true);
						 Thread.sleep(1000);
						 lbn2.setVisible(false);
						 lbn2.setIcon(gn2);
						 lbn2.setVisible(true);
						 Thread.sleep(1000);
						 li7.setVisible(false);
						 li7.setIcon(g4);
						 li7.setVisible(true);
						 Thread.sleep(1000);
						 lbn5.setVisible(false);
						 lbn5.setIcon(gn5);
						 lbn5.setVisible(true);
						 Thread.sleep(1000);
						 li12.setVisible(false);
						 li12.setIcon(g2);
						 li12.setVisible(true);
						 funcn7(s,len,mac,sip,dname,dip);
						
						
						
						 
					 }
				 }
		
				 else  if(rsn3.next()==false)
				 {
					 
					 lbn3.setVisible(false);
						lbn3.setIcon(rn3);
						lbn3.setVisible(true);
						Thread.sleep(1000);
						 Statement stu1 = con.createStatement();
						 String sqlu1 = "update Nodesinfo set status='Malicious Attacker' where Nname='N3'";
						 stu1.executeUpdate(sqlu1);
					 Socket sc1=new Socket("localhost",2015);
					 DataOutputStream dout = new DataOutputStream(sc1.getOutputStream());
					 dout.writeUTF("N3");
					 String cip3=rsn3.getString(2);
					 dout.writeUTF(cip3);
					 
					 
					 li5.setVisible(false);
					 li5.setIcon(g7);
					 li5.setVisible(true);
					 Thread.sleep(1000);
					 lbn2.setVisible(false);
					 lbn2.setIcon(gn2);
					 lbn2.setVisible(true);
					 Thread.sleep(1000);
					 li7.setVisible(false);
					 li7.setIcon(g4);
					 li7.setVisible(true);
					 Thread.sleep(1000);
					 lbn5.setVisible(false);
					 lbn5.setIcon(gn5);
					 lbn5.setVisible(true);
					 Thread.sleep(1000);
					 li12.setVisible(false);
					 li12.setIcon(g2);
					 li12.setVisible(true);
					 funcn7(s,len,mac,sip,dname,dip);
				 }
				 
				 
				 
				 
			 }//***************Node3 ends here
			
		}
		
		
		catch(Exception e)
		{
			e.printStackTrace();
		}
		
		
		
	}
	/*public void funcn7(Socket s)
	{
		
		try
		{
			
			Random r1 = new Random();
			DBCon db = new DBCon();
			Connection con = db.getConnection();
			Statement stmt = con.createStatement();
			
			String sql = "select * from Nodesinfo where Nname='N1' and Keys='"+mac+"' and senderip='"+sip+"'";
			ResultSet rs = stmt.executeQuery(sql);
			while(rs.next()==true)
			{
				String val=rs.getString(3);
				if(val.equals("D"))
				{
					
					n7.setVisible(false);
					n7.setIcon(greenoval);
					n7.setVisible(true);
					
					Thread.sleep(1000);
					
					n7n8=r1.nextInt(50);
					n7n9=r1.nextInt(50);
					n7n10=r1.nextInt(50);
					
					vn7n8.setVisible(false);
					vn7n8.setText(Integer.toString(n7n8));
					vn7n8.setVisible(true);
					
					vn7n9.setVisible(false);
					vn7n9.setText(Integer.toString(n7n9));
					vn7n9.setVisible(true);
					
					vn7n10.setVisible(false);
					vn7n10.setText(Integer.toString(n7n10));
					vn7n10.setVisible(true);
					
					Thread.sleep(1000);
					
					if(n7n8<n7n9&&n7n8<n7n10)
					{
						
						ln7n8.setVisible(false);
						ln7n8.setIcon(gsln1);
						ln7n8.setVisible(true);
						
						Thread.sleep(1000);
						
						Statement stmt8 = con.createStatement();
						String sql8 = "select * from Nodesinfo where Nname='N8'";
						ResultSet rs8 = stmt8.executeQuery(sql8);
						while(rs8.next()==true)
						{
							String val8=rs8.getString(3);
							if(val8.equals("D"))
							{
								
								n8.setVisible(false);
								n8.setIcon(greenoval);
								n8.setVisible(true);
								Thread.sleep(1000);
								
								n8n11=r1.nextInt(50);
								n8n9=r1.nextInt(50);
								
								vn8n11.setVisible(false);
								vn8n11.setText(Integer.toString(n8n11));
								vn8n11.setVisible(true);
								
							
								
								vn8n9.setVisible(false);
								vn8n9.setText(Integer.toString(n8n9));
								vn8n9.setVisible(true);
								
								
								Thread.sleep(1000);
								
								
								if(n8n11<n8n9)
								{
									ln8n11.setVisible(false);
									ln8n11.setIcon(gn1n4);
									ln8n11.setVisible(true);
									
									Thread.sleep(1000);
									
									funcn11(s);
									
								}
								else if(n8n9<n8n11)
								{
									
									ln8n9.setVisible(false);
									ln8n9.setIcon(gn1n2);
									ln8n9.setVisible(true);
									
									Thread.sleep(1000);
									
									Statement stmt9 = con.createStatement();
									String sql9 = "select * from Nodesinfo where Nname='N9'";
									ResultSet rs9 = stmt9.executeQuery(sql9);
									while(rs9.next()==true)
									{
										String val9=rs9.getString(3);
										if(val9.equals("D"))
										{
											n9.setVisible(false);
											n9.setIcon(greenoval);
											n9.setVisible(true);
											
											Thread.sleep(1000);
											
											n9n12=r1.nextInt(50);
											n9n10=r1.nextInt(50);
											
											vn9n12.setVisible(false);
											vn9n12.setText(Integer.toString(n9n12));
											vn9n12.setVisible(true);
											
											vn9n10.setVisible(false);
											vn9n10.setText(Integer.toString(n9n10));
											vn9n10.setVisible(true);
											
											Thread.sleep(1000);
											
											
											if(n9n12<n9n10)
											{
												ln9n12.setVisible(false);
												ln9n12.setIcon(gn1n4);
												ln9n12.setVisible(true);
												
												Thread.sleep(1000);
												
												
												funcn12(s);
												
												
											}
											else if(n9n10<n9n12)
											{
												ln9n10.setVisible(false);
												ln9n10.setIcon(gn1n2);
												ln9n10.setVisible(true);
												
												Thread.sleep(1000);
												
												Statement stmt10 = con.createStatement();
												String sql10 = "select * from Nodesinfo where Nname='N10'";
												ResultSet rs10 = stmt10.executeQuery(sql10);
												while(rs10.next()==true)
												{
													String val10=rs10.getString(3);
													if(val10.equals("D"))
													{
														n10.setVisible(false);
														n10.setIcon(greenoval);
														n10.setVisible(true);
														
														Thread.sleep(1000);
														
														ln10n13.setVisible(false);
														ln10n13.setIcon(gn1n4);
														ln10n13.setVisible(true);
														
														Thread.sleep(1000);
														
														funcn13(s);
														
													}
													else
													{
														//sink hole in node10
														
														n10.setVisible(false);
														n10.setIcon(redoval);
														n10.setVisible(true);
														
														Thread.sleep(1000);
														
														DataOutputStream dout = new DataOutputStream(s.getOutputStream());
														dout.writeUTF("Sink Hole In Node10");
														
														infostatus("Sink Hole In Node10");
													
														
														
													}
												}
												
												
											}
											
											
											
										}
										else 
										{
											//sink hole in node9
											
											n9.setVisible(false);
											n9.setIcon(redoval);
											n9.setVisible(true);
											
											Thread.sleep(1000);
											
											DataOutputStream dout = new DataOutputStream(s.getOutputStream());
											dout.writeUTF("Sink Hole In Node9");
											infostatus("Sink Hole In Node9");
											
											
											
											
										}
									}
								}
								
								
								
							}
							else 
							{
								//sink hole in node8
								n8.setVisible(false);
								n8.setIcon(redoval);
								n8.setVisible(true);
								
								Thread.sleep(1000);
								
								DataOutputStream dout = new DataOutputStream(s.getOutputStream());
								dout.writeUTF("Sink Hole In Node8");
								infostatus("Sink Hole In Node8");
								
								
								
								
							}
						}
						
							
						
					}
					else if(n7n9<n7n8&&n7n9<n7n10)
					{
						
						ln7n9.setVisible(false);
						ln7n9.setIcon(gsln2);
						ln7n9.setVisible(true);
						
						Thread.sleep(1000);
						
						Statement stmt9 = con.createStatement();
						String sql9 = "select * from Nodesinfo where Nname='N9'";
						ResultSet rs9 = stmt9.executeQuery(sql9);
						while(rs9.next()==true)
						{
							String val9=rs9.getString(3);
							if(val9.equals("D"))
							{
								
								n9.setVisible(false);
								n9.setIcon(greenoval);
								n9.setVisible(true);
								
								Thread.sleep(1000);
								
								n9n12=r1.nextInt(50);
								n9n8=r1.nextInt(50);
								n9n10=r1.nextInt(50);
								
								vn9n12.setVisible(false);
								vn9n12.setText(Integer.toString(n9n12));
								vn9n12.setVisible(true);
								
								vn8n9.setVisible(false);
								vn8n9.setText(Integer.toString(n9n8));
								vn8n9.setVisible(true);
								
								vn9n10.setVisible(false);
								vn9n10.setText(Integer.toString(n9n10));
								vn9n10.setVisible(true);
								
								Thread.sleep(1000);
								
								if(n9n12<n9n8&&n9n12<n9n10)
								{
									
									ln9n12.setVisible(false);
									ln9n12.setIcon(gn1n4);
									ln9n12.setVisible(true);
									
									Thread.sleep(1000);
									funcn12(s);
								}
								else if(n9n8<n9n12&&n9n8<n9n10)
								{
									
									ln8n9.setVisible(false);
									ln8n9.setIcon(gn1n2);
									ln8n9.setVisible(true);
									
									Thread.sleep(1000);
									
									
									
									Statement stmt8 = con.createStatement();
									String sql8 = "select * from Nodesinfo where Nname='N8'";
									ResultSet rs8 = stmt8.executeQuery(sql8);
									while(rs8.next()==true)
									{
										String val8=rs8.getString(3);
										if(val8.equals("D"))
										{
											n8.setVisible(false);
											n8.setIcon(greenoval);
											n8.setVisible(true);
											Thread.sleep(1000);
											ln8n11.setVisible(false);
											ln8n11.setIcon(gn1n4);
											ln8n11.setVisible(true);
											
											Thread.sleep(1000);
											
											funcn11(s);
										}
										else
										{
											//sink hole in node8
											n8.setVisible(false);
											n8.setIcon(redoval);
											n8.setVisible(true);
											
											Thread.sleep(1000);
											
											DataOutputStream dout = new DataOutputStream(s.getOutputStream());
											dout.writeUTF("Sink Hole In Node8");
											infostatus("Sink Hole In Node8");
											
											
											
										}
									}
									
								}
								else if(n9n10<n9n12&&n9n10<n9n8)
								{
									ln9n10.setVisible(false);
									ln9n10.setIcon(gn1n2);
									ln9n10.setVisible(true);
									
									Thread.sleep(1000);
									
									Statement stmt10 = con.createStatement();
									String sql10 = "select * from Nodesinfo where Nname='N10'";
									ResultSet rs10 = stmt10.executeQuery(sql10);
									while(rs10.next()==true)
									{
										String val10=rs10.getString(3);
										if(val10.equals("D"))
										{
											n10.setVisible(false);
											n10.setIcon(greenoval);
											n10.setVisible(true);
											
											Thread.sleep(1000);
											
											ln10n13.setVisible(false);
											ln10n13.setIcon(gn1n4);
											ln10n13.setVisible(true);
											
											Thread.sleep(1000);
											
											
											funcn13(s);
										}
										else
										{
											//sink hole in node10
											n10.setVisible(false);
											n10.setIcon(redoval);
											n10.setVisible(true);
											
											Thread.sleep(1000);
											
											DataOutputStream dout = new DataOutputStream(s.getOutputStream());
											dout.writeUTF("Sink Hole In Node10");
											infostatus("Sink Hole In Node10");
										
											
											
										}
									}
								}
								
								
							}
							else 
							{
								//sink hole in node9
								
								n9.setVisible(false);
								n9.setIcon(redoval);
								n9.setVisible(true);
								
								Thread.sleep(1000);
								
								DataOutputStream dout = new DataOutputStream(s.getOutputStream());
								dout.writeUTF("Sink Hole In Node9");
								infostatus("Sink Hole In Node9");
								
								
								
							}
							
						}
						
						
					}
					else if(n7n10<n7n8&&n7n10<n7n9)
					{
						
						ln7n10.setVisible(false);
						ln7n10.setIcon(gsln3);
						ln7n10.setVisible(true);
						
						Thread.sleep(1000);
						
						Statement stmt10 = con.createStatement();
						String sql10 = "select * from Nodesinfo where Nname='N10'";
						ResultSet rs10 = stmt10.executeQuery(sql10);
						while(rs10.next()==true)
						{
							String val10=rs10.getString(3);
							if(val10.equals("D"))
							{
								n10.setVisible(false);
								n10.setIcon(greenoval);
								n10.setVisible(true);
								
								Thread.sleep(1000);
								
								n10n13=r1.nextInt(50);
								n10n9=r1.nextInt(50);
								
								vn10n13.setVisible(false);
								vn10n13.setText(Integer.toString(n10n13));
								vn10n13.setVisible(true);
								
								vn9n10.setVisible(false);
								vn9n10.setText(Integer.toString(n10n9));
								vn9n10.setVisible(true);
								
								Thread.sleep(1000);
								
								
								
								if(n10n13<n10n9)
								{
									ln10n13.setVisible(false);
									ln10n13.setIcon(gn1n4);
									ln10n13.setVisible(true);
									
									Thread.sleep(1000);
									
									funcn13(s);
								}
								else if(n10n9<n10n13)
								{
									ln9n10.setVisible(false);
									ln9n10.setIcon(gn1n2);
									ln9n10.setVisible(true);
									
									Thread.sleep(1000);
									
									Statement stmt9 = con.createStatement();
									String sql9 = "select * from Nodesinfo where Nname='N9'";
									ResultSet rs9 = stmt9.executeQuery(sql9);
									while(rs9.next()==true)
									{
										String val9=rs9.getString(3);
										if(val9.equals("D"))
										{
											n9.setVisible(false);
											n9.setIcon(greenoval);
											n9.setVisible(true);
											
											Thread.sleep(1000);
											
											n9n12=r1.nextInt(50);
											n9n8=r1.nextInt(50);
											
											vn9n12.setVisible(false);
											vn9n12.setText(Integer.toString(n9n12));
											vn9n12.setVisible(true);
											
											vn8n9.setVisible(false);
											vn8n9.setText(Integer.toString(n9n8));
											vn8n9.setVisible(true);
											
											
											if(n9n12<n9n8)
											{
												
												ln9n12.setVisible(false);
												ln9n12.setIcon(gn1n4);
												ln9n12.setVisible(true);
												
												Thread.sleep(1000);
												
												funcn12(s);
											}
											else if(n9n8<n9n12)
											{
												
												ln8n9.setVisible(false);
												ln8n9.setIcon(gn1n2);
												ln8n9.setVisible(true);
												
												Thread.sleep(1000);
												
												Statement stmt8 = con.createStatement();
												String sql8 = "select * from Nodesinfo where Nname='N8'";
												ResultSet rs8 = stmt8.executeQuery(sql8);
												while(rs8.next()==true)
												{
													String val8=rs8.getString(3);
													if(val8.equals("D"))
													{
														n8.setVisible(false);
														n8.setIcon(greenoval);
														n8.setVisible(true);
														
														Thread.sleep(1000);
														
														ln8n11.setVisible(false);
														ln8n11.setIcon(gn1n4);
														ln8n11.setVisible(true);
														
														funcn11(s);
														
													}
													else
													{
														//sink hole in node8
														
														n8.setVisible(false);
														n8.setIcon(redoval);
														n8.setVisible(true);
														
														Thread.sleep(1000);
														
														DataOutputStream dout = new DataOutputStream(s.getOutputStream());
														dout.writeUTF("Sink Hole In Node8");
														infostatus("Sink Hole In Node8");
														
														
														
													}
												}
												
												
												
											}
											
											
										}
										else
										{
											//sink hole in node9
											
											n9.setVisible(false);
											n9.setIcon(redoval);
											n9.setVisible(true);
											
											Thread.sleep(1000);
											
											DataOutputStream dout = new DataOutputStream(s.getOutputStream());
											dout.writeUTF("Sink Hole In Node9");
											infostatus("Sink Hole In Node9");
										
											
										}
									}
									
									
								}
								
								
							}
							else 
							{
								//sink hole in node10
								
								n10.setVisible(false);
								n10.setIcon(redoval);
								n10.setVisible(true);
								
								Thread.sleep(1000);
								
								DataOutputStream dout = new DataOutputStream(s.getOutputStream());
								dout.writeUTF("Sink Hole In Node10");
								infostatus("Sink Hole In Node10");
								
							}
							
						}
					}
					
					
					
					
					
				}
				else
				{
					//sinkhole in node7
					
					n7.setVisible(false);
					n7.setIcon(redoval);
					n7.setVisible(true);
					
					Thread.sleep(1000);
					
					DataOutputStream dout = new DataOutputStream(s.getOutputStream());
					dout.writeUTF("Sink Hole In Node7");
					infostatus("Sink Hole In Node7");
					
					
				}
				
				
				
			}
			
			
			
			
			
			
			
		}
		catch(Exception e)
		{
			e.printStackTrace();
		}
		
		
		
	}*/
	
	public void funcn11(Socket s)
	{
		
		cluster3.setVisible(false);
		cluster3.setIcon(greencluster);
		cluster3.setVisible(true);
		
		
		DBCon db = new DBCon();
		Connection con = db.getConnection();
		try
		{
			Thread.sleep(1000);
		Statement stmt11 = con.createStatement();
		String sql11 = "select * from Nodesinfo where Nname='N11'";
		ResultSet rs11 = stmt11.executeQuery(sql11);
		while(rs11.next()==true)
		{
			String val11=rs11.getString(7);
			if(val11.equalsIgnoreCase("No"))
			{
				
				n11.setVisible(false);
				n11.setIcon(greenoval);
				n11.setVisible(true);
				
				Thread.sleep(1000);
				
				ln11d.setVisible(false);
				ln11d.setIcon(gn4n7);
				ln11d.setVisible(true);
				
				Thread.sleep(1000);
				d.setVisible(false);
				d.setIcon(greenoval);
				d.setVisible(true);
				
				//data sent to destination 
				
				
				try
				{
					Socket sn11=new Socket(destip,301);
					DataOutputStream doutsn11 =new DataOutputStream(sn11.getOutputStream());
					doutsn11.writeUTF(content);
					doutsn11.writeUTF(filename);
					
					DataOutputStream dout = new DataOutputStream(s.getOutputStream());
					dout.writeUTF("Data Reached successfully To Destination");
					refresh();
					
				}
				catch(Exception e)
				{
					e.printStackTrace();
				}
				
				
				
			}
			else if(val11.equalsIgnoreCase("yes"))
			{
				//node compramising attack in node11
				
				n11.setVisible(false);
				n11.setIcon(redoval);
				n11.setVisible(true);
				
				Thread.sleep(1000);
				
				DataOutputStream dout = new DataOutputStream(s.getOutputStream());
				dout.writeUTF("node compramising attack in node11");
				infostatus("compramising attack in node11");
				
				
				
			}
		}
		
		}
		catch(Exception e)
		{
			e.printStackTrace();
		}
		
	}
	
	public void funcn12(Socket s)
	{
		cluster3.setVisible(false);
		cluster3.setIcon(greencluster);
		cluster3.setVisible(true);
		
		DBCon db = new DBCon();
		Connection con = db.getConnection();
		try
		{
			Thread.sleep(1000);
		Statement stmt12 = con.createStatement();
		String sql12 = "select * from Nodesinfo where Nname='N12'";
		ResultSet rs12 = stmt12.executeQuery(sql12);
		while(rs12.next()==true)
		{
			String val12=rs12.getString(7);
			if(val12.equalsIgnoreCase("No"))
			{
				
				n12.setVisible(false);
				n12.setIcon(greenoval);
				n12.setVisible(true);
				
				Thread.sleep(1000);
				
				ln12d.setVisible(false);
				ln12d.setIcon(gn1n4);
				ln12d.setVisible(true);
				
				Thread.sleep(1000);
				d.setVisible(false);
				d.setIcon(greenoval);
				d.setVisible(true);
				
				
				//data sent to destination 
				
				try
				{
					Socket sn12=new Socket(destip,301);
					DataOutputStream doutsn12 =new DataOutputStream(sn12.getOutputStream());
					doutsn12.writeUTF(content);
					doutsn12.writeUTF(filename);
					
					DataOutputStream dout = new DataOutputStream(s.getOutputStream());
					dout.writeUTF("Data Reached successfully To Destination");
					
					refresh();
					
				}
				catch(Exception e)
				{
					e.printStackTrace();
				}
				
				
				
				
			}
			else if(val12.equalsIgnoreCase("yes"))
			{
				//node compramising attack in node11
				
				n12.setVisible(false);
				n12.setIcon(redoval);
				n12.setVisible(true);
				
				Thread.sleep(1000);
				
				DataOutputStream dout = new DataOutputStream(s.getOutputStream());
				dout.writeUTF("node compramising attack in node12");
				infostatus("compramising attack in node12");
				
				
				
			}
		}
		
		}
		catch(Exception e)
		{
			e.printStackTrace();
		}
		
	}
	
	
	public void funcn13(Socket s)
	{
		DBCon db = new DBCon();
		Connection con = db.getConnection();
		try
		{
			cluster3.setVisible(false);
			cluster3.setIcon(greencluster);
			cluster3.setVisible(true);
			
			Thread.sleep(1000);
			
			
		Statement stmt13 = con.createStatement();
		String sql13 = "select * from Nodesinfo where Nname='N13'";
		ResultSet rs13 = stmt13.executeQuery(sql13);
		while(rs13.next()==true)
		{
			String val13=rs13.getString(7);
			if(val13.equalsIgnoreCase("No"))
			{

				n13.setVisible(false);
				n13.setIcon(greenoval);
				n13.setVisible(true);
				
				Thread.sleep(1000);
				
				ln13d.setVisible(false);
				ln13d.setIcon(gn6n7);
				ln13d.setVisible(true);
				
				Thread.sleep(1000);
				d.setVisible(false);
				d.setIcon(greenoval);
				d.setVisible(true);
				
				
				
				
				try
				{
					Socket sn13=new Socket(destip,301);
					DataOutputStream doutsn13 =new DataOutputStream(sn13.getOutputStream());
					doutsn13.writeUTF(content);
					doutsn13.writeUTF(filename);
					
					DataOutputStream dout = new DataOutputStream(s.getOutputStream());
					dout.writeUTF("Data Reached successfully To Destination");
					refresh();
					
				}
				catch(Exception e)
				{
					e.printStackTrace();
				}
				
			}
			else if(val13.equalsIgnoreCase("yes"))
			{
				//node compramising attack in node13
				
				n12.setVisible(false);
				n12.setIcon(redoval);
				n12.setVisible(true);
				
				Thread.sleep(1000);
				
				DataOutputStream dout = new DataOutputStream(s.getOutputStream());
				dout.writeUTF("node compramising attack in node13");
				infostatus("compramising attack in node13");
				
				
			}
		}
		
		}
		catch(Exception e)
		{
			e.printStackTrace();
		}
		
	}
	
	
	public void actionPerformed(ActionEvent e)
	{
			
		if(e.getSource()==m3)
		{
		System.exit(0);
			
		}
		if(e.getSource()==mi1)
		{
			try
			{
			String[] dsname = { "Select Nodes", "N1", "N2", "N3", "N4", "N5", "N6", "N7", "N8", "N9", "N10", "N11", "N12","N13" };
			
			String dataname = (String) JOptionPane.showInputDialog(null,
					"Select Nodes", "Node Name",
					JOptionPane.QUESTION_MESSAGE, null,  dsname,  dsname[0]);
			
			String bw1 = JOptionPane.showInputDialog(null,
					"Please Enter the BandWidth of Nodes");
			
			DBCon db = new DBCon();
			 Connection con = db.getConnection();
				
				String sql = "update Nodesinfo set bw='"+bw1+"' where Nname='"+dataname+"'";
				Statement stmt = con.createStatement();
				stmt.executeUpdate(sql);
				JOptionPane.showMessageDialog(null,"Bandwidth Allocated Successfully");
			
		}
		
		catch(Exception e1)
		{
			e1.printStackTrace();
		}
	}
		else if(e.getSource()==m2)
		{
			//Nodesinfo i2 = new Nodesinfo();
			try {
				UIManager
						.setLookAndFeel("com.sun.java.swing.plaf.windows.WindowsLookAndFeel");
			} catch (Exception e1) {
				e1.printStackTrace();
			}
			java.awt.EventQueue.invokeLater(new Runnable() {
				public void run() {
					new Nodesinfo();
				}
			});
		}
		
		
	}
	
	public void refresh()
	{
		try
		{
		Thread.sleep(3000);
		ln6n7.setIcon(bn6n7);
		
		
		vn6n7.setText("0");
		vn6n7.setFont(f2);
		
		
		
		
		
		ln13d.setIcon(bn6n7);
		
		
		
	
		ln5n7.setIcon(bn1n4);
		
		
		vn5n7 .setText("0");
		vn5n7.setFont(f2);
		
		
		
		
		
		ln12d.setIcon(bn1n4);
		
		
		
		
		
		ln4n7.setIcon(bn4n7);
		
		
		vn4n7 .setText("0");
		vn4n7.setFont(f2);
		
		
		
	
		ln11d.setIcon(bn4n7);
		
		
		
		
		
		
		
	
		ln1n4.setIcon(bn1n4);
		
		
		
		vn1n4.setText("0");
		vn1n4.setFont(f2);
		
		
		
	
		ln2n5.setIcon(bn1n4);
		
		
		vn2n5.setText("0");
		vn2n5.setFont(f2);
		
		
	
		ln3n6.setIcon(bn1n4);
		
		
		
		vn3n6.setText("0");
		vn3n6.setFont(f2);
		
	
		ln8n11.setIcon(bn1n4);
		
		
		vn8n11.setText("0");
		vn8n11.setFont(f2);
	
		
		
	
		ln9n12.setIcon(bn1n4);
		
		
		vn9n12.setText("0");
		vn9n12.setFont(f2);
		
		
		
		
		ln10n13.setIcon(bn1n4);
		
		
		vn10n13.setText("0");
		vn10n13.setFont(f2);
		
		
		
		
		
		
	
		ln7n8.setIcon(bsln1);
		
		
		
		vn7n8.setText("0");
		vn7n8.setFont(f2);
		
		
		
		
		ln7n9.setIcon(bsln2);
		
		
		vn7n9.setText("0");
		vn7n9.setFont(f2);
		
		
		
		
		ln7n10.setIcon(bsln3);
		
		
		vn7n10.setText("0");
		vn7n10.setFont(f2);
		
		
		
		
		
		ln11n12.setIcon(bn1n2);
		
		
		
		
		
		ln12n13.setIcon(bn1n2);
	
		
		
		ln8n9.setIcon(bn1n2);
		
		
		vn8n9.setText("0");
		vn8n9.setFont(f2);
	
		
		
	
		ln9n10.setIcon(bn1n2);
		
		
		vn9n10.setText("0");
		vn9n10.setFont(f2);
		
		
		ln4n5.setIcon(bn1n2);
		
		
		vn4n5.setText("0");
		vn4n5.setFont(f2);
		
		
		ln5n6.setIcon(bn1n2);
		
		
		
		vn5n6.setText("0");
		vn5n6.setFont(f2);
		
		
		
		ln2n3.setIcon(bn1n2);
		
		
		
		vn2n3.setText("0");
		vn2n3.setFont(f2);
		
		
		
		
		
		ln1n2.setIcon(bn1n2);
		
		
		vn1n2.setText("0");
		vn1n2.setFont(f2);
		
		
		
		
		
		sln1.setIcon(bsln1);
		
		
		vsn1.setText("0");
		vsn1.setFont(f2);
		
		
	
		sln2.setIcon(bsln2);
		
		
		
		vsn2.setText("0");
		vsn2.setFont(f2);
		
		
		
		sln3.setIcon(bsln3);
		
		
		
		vsn3.setText("0");
		vsn3.setFont(f2);
		
		
		
		sl.setIcon(blackoval);
		
		
		
		
		cluster1.setIcon(blackcluster);
		
		
		
		cluster2.setIcon(blackcluster);
		
		
		
		cluster3.setIcon(blackcluster);
		
		
		
		n1.setIcon(blackoval);
		
		
		
		
		n2.setIcon(blackoval);
		
		
		
		n3.setIcon(blackoval);
		
		
		
		n4.setIcon(blackoval);
	
		
		
		n5.setIcon(blackoval);
		
		
		
		n6.setIcon(blackoval);
		
		
		
		
		n7.setIcon(blackoval);
		
		
		
		n8.setIcon(blackoval);
		
		
		
		
		n9.setIcon(blackoval);
		
		
		
		n10.setIcon(blackoval);
		
		
		
		
		n11.setIcon(blackoval);
		
		
		
		n12.setIcon(blackoval);
		
		
		n13.setIcon(blackoval);
		
		
		d.setIcon(blackoval);
	
		}
		catch(Exception e)
		{
			e.printStackTrace();
		}
		
		
		
		
	}
	
	public void infostatus(String msg)
	{
		try
		{
		info.setVisible(false);
		info.setText(msg);
		info.setVisible(true);
		Thread.sleep(1000);
		info.setVisible(false);
		Thread.sleep(1000);
		info.setVisible(true);
		Thread.sleep(1000);
		info.setVisible(false);
		Thread.sleep(1000);
		info.setVisible(true);
		Thread.sleep(1000);
		info.setVisible(false);
		Thread.sleep(1000);
		info.setVisible(true);
		Thread.sleep(1000);
		info.setVisible(false);
		Thread.sleep(1000);
		info.setVisible(true);
		Thread.sleep(1000);
		info.setVisible(false);
		Thread.sleep(1000);
		info.setVisible(true);
		Thread.sleep(1000);
		info.setVisible(false);
		Thread.sleep(1000);
		info.setVisible(true);
		Thread.sleep(1000);
		info.setVisible(false);
		Thread.sleep(1000);
		info.setVisible(true);
		Thread.sleep(1000);
		info.setVisible(false);
		Thread.sleep(1000);
		info.setVisible(true);
		Thread.sleep(1000);
		info.setVisible(false);
		Thread.sleep(1000);
		
		info.setVisible(true);
		Thread.sleep(1000);
		info.setVisible(false);
		Thread.sleep(1000);
		info.setText("Safe");
		info.setVisible(true);
		
		refresh();
		
		}
		catch(Exception e)
		{
			e.printStackTrace();
		}
		
	}
	
	public static void main(String[] args) {
		//new Router();
		try {
			UIManager
					.setLookAndFeel("com.sun.java.swing.plaf.windows.WindowsLookAndFeel");
		} catch (Exception e1) {
			e1.printStackTrace();
		}
		java.awt.EventQueue.invokeLater(new Runnable() {
			public void run() {
				new Router();
			}
		});
	}
	
	

}
